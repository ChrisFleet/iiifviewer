/*
 * IiifViewer; Copyright (C) 2014 - Klokan Technologies GmbH
 * Powered by OpenLayers 3
 */
function aa(a){return function(b){this[a]=b}}function k(a){return function(){return this[a]}}function ba(a){return function(){return a}}var l,s=this;function ca(a,b){var c=a.split("."),d=s;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function ea(){}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function v(a){return void 0!==a}function ga(a){return"array"==fa(a)}function ia(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function x(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==fa(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function z(a){return a[ma]||(a[ma]=++na)}
var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function D(a,b,c){D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return D.apply(null,arguments)}function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function H(a,b){function c(){}c.prototype=b.prototype;a.N=b.prototype;a.prototype=new c};function sa(a){Error.captureStackTrace?Error.captureStackTrace(this,sa):this.stack=Error().stack||"";a&&(this.message=String(a))}H(sa,Error);sa.prototype.name="CustomError";function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,ua=/[&<>\"]/;var I=Array.prototype,za=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},J=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ba=I.filter?function(a,b,c){return I.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=x(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ca=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Da=I.some?function(a,b,c){return I.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
function Ea(a,b){var c=za(a,b),d;(d=0<=c)&&I.splice.call(a,c,1);return d}function Fa(a){return I.concat.apply(I,arguments)}function Ga(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ha(a,b,c,d){I.splice.apply(a,Ka(arguments,1))}function Ka(a,b,c){return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,b,c)}function La(a){I.sort.call(a,Ma)}
function Na(a,b){if(!ia(a)||!ia(b)||a.length!=b.length)return!1;for(var c=a.length,d=Oa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ma(a,b){return a>b?1:a<b?-1:0}function Oa(a,b){return a===b};var Pa,Qa,Ra,Sa,Ta,Ua;function Va(){return s.navigator?s.navigator.userAgent:null}Sa=Ra=Qa=Pa=!1;var Xa;if(Xa=Va()){var Ya=s.navigator;Pa=0==Xa.lastIndexOf("Opera",0);Qa=!Pa&&(-1!=Xa.indexOf("MSIE")||-1!=Xa.indexOf("Trident"));Ra=!Pa&&-1!=Xa.indexOf("WebKit");Sa=!Pa&&!Ra&&!Qa&&"Gecko"==Ya.product}var Za=Pa,L=Qa,$a=Sa,M=Ra,ab,bb=s.navigator;ab=bb&&bb.platform||"";Ta=-1!=ab.indexOf("Mac");Ua=-1!=ab.indexOf("Win");var cb=-1!=ab.indexOf("Linux");
function db(){var a=s.document;return a?a.documentMode:void 0}var eb;a:{var fb="",gb;if(Za&&s.opera)var hb=s.opera.version,fb="function"==typeof hb?hb():hb;else if($a?gb=/rv\:([^\);]+)(\)|;)/:L?gb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:M&&(gb=/WebKit\/(\S+)/),gb)var ib=gb.exec(Va()),fb=ib?ib[1]:"";if(L){var jb=db();if(jb>parseFloat(fb)){eb=String(jb);break a}}eb=fb}var kb={};
function O(a){var b;if(!(b=kb[a])){b=0;for(var c=String(eb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==p[1].length?0:parseInt(p[1],
10))>(0==q[1].length?0:parseInt(q[1],10))?1:0)||((0==p[2].length)<(0==q[2].length)?-1:(0==p[2].length)>(0==q[2].length)?1:0)||(p[2]<q[2]?-1:p[2]>q[2]?1:0)}while(0==b)}b=kb[a]=0<=b}return b}var lb=s.document,mb=lb&&L?db()||("CSS1Compat"==lb.compatMode?parseInt(eb,10):5):void 0;var nb,ob=!L||L&&9<=mb;!$a&&!L||L&&L&&9<=mb||$a&&O("1.9.1");L&&O("9");function pb(a,b){var c;c=a.className;c=x(c)&&c.match(/\S+/g)||[];for(var d=Ka(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=za(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};function rb(a,b,c){return Math.min(Math.max(a,b),c)};function P(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}P.prototype.ia=function(){return new P(this.x,this.y)};P.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};P.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};P.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function sb(a,b){this.width=a;this.height=b}l=sb.prototype;l.ia=function(){return new sb(this.width,this.height)};l.Bb=function(){return!(this.width*this.height)};l.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function tb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ub(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function vb(a){var b=0,c;for(c in a)b++;return b}function wb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function xb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function yb(a){for(var b in a)return!1;return!0}function zb(a,b){b in a&&delete a[b]}function Q(a,b,c){return b in a?a[b]:c}function Ab(a){var b={},c;for(c in a)b[c]=a[c];return b}var Bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Cb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Bb.length;f++)c=Bb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Db(a){return a?new Eb(Fb(a)):nb||(nb=new Eb)}function Gb(a){return x(a)?document.getElementById(a):a}function Hb(a,b){tb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Ib?a.setAttribute(Ib[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Ib={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Jb(a){a=a.document;a=Kb(a)?a.documentElement:a.body;return new sb(a.clientWidth,a.clientHeight)}
function R(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!ob&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',ta(g.name),'"');if(g.type){f.push(' type\x3d"',ta(g.type),'"');var h={};Cb(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(x(g)?f.className=g:ga(g)?pb.apply(null,[f].concat(g)):Hb(f,g));2<d.length&&Lb(e,f,d);return f}
function Lb(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ia(f)||la(f)&&0<f.nodeType?d(f):J(Mb(f)?Ga(f):f,d)}}function Kb(a){return"CSS1Compat"==a.compatMode}function Nb(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Ob(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Pb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Qb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Fb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Mb(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function Eb(a){this.Vb=a||s.document||document}l=Eb.prototype;
l.wc=Hb;l.createElement=function(a){return this.Vb.createElement(a)};l.createTextNode=function(a){return this.Vb.createTextNode(String(a))};function Rb(a){var b=a.Vb;a=!M&&Kb(b)?b.documentElement:b.body;b=b.parentWindow||b.defaultView;return L&&O("10")&&b.pageYOffset!=a.scrollTop?new P(a.scrollLeft,a.scrollTop):new P(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}l.appendChild=function(a,b){a.appendChild(b)};l.contains=Qb;function Sb(a){if("function"==typeof a.ka)return a.ka();if(x(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return wb(a)}function Tb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||x(a))J(a,b,c);else{var d;if("function"==typeof a.La)d=a.La();else if("function"!=typeof a.ka)if(ia(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=xb(a);else d=void 0;for(var e=Sb(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Ub(a,b){this.a={};this.M=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Ub?(c=a.La(),d=a.ka()):(c=xb(a),d=wb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=Ub.prototype;l.c=0;l.zg=0;l.$b=k("c");l.ka=function(){Vb(this);for(var a=[],b=0;b<this.M.length;b++)a.push(this.a[this.M[b]]);return a};l.La=function(){Vb(this);return this.M.concat()};
l.Ha=function(a){return Wb(this.a,a)};l.Bb=function(){return 0==this.c};l.remove=function(a){return Wb(this.a,a)?(delete this.a[a],this.c--,this.zg++,this.M.length>2*this.c&&Vb(this),!0):!1};function Vb(a){if(a.c!=a.M.length){for(var b=0,c=0;b<a.M.length;){var d=a.M[b];Wb(a.a,d)&&(a.M[c++]=d);b++}a.M.length=c}if(a.c!=a.M.length){for(var e={},c=b=0;b<a.M.length;)d=a.M[b],Wb(e,d)||(a.M[c++]=d,e[d]=1),b++;a.M.length=c}}l.get=function(a,b){return Wb(this.a,a)?this.a[a]:b};
l.set=function(a,b){Wb(this.a,a)||(this.c++,this.M.push(a),this.zg++);this.a[a]=b};l.ia=function(){return new Ub(this)};function Wb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Yb(a){if(Zb){Zb=!1;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=Yb(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Zb=!0,Error();}}return a.match(Xb)}var Zb=M;function $b(a,b){var c;if(a instanceof $b)this.X=v(b)?b:a.X,ac(this,a.Lb),c=a.zd,bc(this),this.zd=c,c=a.Wb,bc(this),this.Wb=c,cc(this,a.ld),c=a.gd,bc(this),this.gd=c,dc(this,a.Ta.ia()),c=a.Oc,bc(this),this.Oc=c;else if(a&&(c=Yb(String(a)))){this.X=!!b;ac(this,c[1]||"",!0);var d=c[2]||"";bc(this);this.zd=d?decodeURIComponent(d):"";d=c[3]||"";bc(this);this.Wb=d?decodeURIComponent(d):"";cc(this,c[4]);d=c[5]||"";bc(this);this.gd=d?decodeURIComponent(d):"";dc(this,c[6]||"",!0);c=c[7]||"";bc(this);this.Oc=
c?decodeURIComponent(c):""}else this.X=!!b,this.Ta=new ec(null,0,this.X)}l=$b.prototype;l.Lb="";l.zd="";l.Wb="";l.ld=null;l.gd="";l.Oc="";l.Lh=!1;l.X=!1;
l.toString=function(){var a=[],b=this.Lb;b&&a.push(fc(b,gc),":");if(b=this.Wb){a.push("//");var c=this.zd;c&&a.push(fc(c,gc),"@");a.push(encodeURIComponent(String(b)));b=this.ld;null!=b&&a.push(":",String(b))}if(b=this.gd)this.Wb&&"/"!=b.charAt(0)&&a.push("/"),a.push(fc(b,"/"==b.charAt(0)?hc:ic));(b=this.Ta.toString())&&a.push("?",b);(b=this.Oc)&&a.push("#",fc(b,jc));return a.join("")};l.ia=function(){return new $b(this)};
function ac(a,b,c){bc(a);a.Lb=c?b?decodeURIComponent(b):"":b;a.Lb&&(a.Lb=a.Lb.replace(/:$/,""))}function cc(a,b){bc(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ld=b}else a.ld=null}function dc(a,b,c){bc(a);b instanceof ec?(a.Ta=b,a.Ta.ye(a.X)):(c||(b=fc(b,kc)),a.Ta=new ec(b,0,a.X))}function lc(a,b,c){bc(a);ga(c)||(c=[String(c)]);mc(a.Ta,b,c)}function bc(a){if(a.Lh)throw Error("Tried to modify a read-only Uri");}l.ye=function(a){this.X=a;this.Ta&&this.Ta.ye(a);return this};
function fc(a,b){return x(a)?encodeURI(a).replace(b,nc):null}function nc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var gc=/[#\/\?@]/g,ic=/[\#\?:]/g,hc=/[\#\?]/g,kc=/[\#\?@]/g,jc=/#/g;function ec(a,b,c){this.W=a||null;this.X=!!c}
function oc(a){if(!a.o&&(a.o=new Ub,a.c=0,a.W))for(var b=a.W.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=pc(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}l=ec.prototype;l.o=null;l.c=null;l.$b=function(){oc(this);return this.c};l.add=function(a,b){oc(this);this.W=null;a=pc(this,a);var c=this.o.get(a);c||this.o.set(a,c=[]);c.push(b);this.c++;return this};
l.remove=function(a){oc(this);a=pc(this,a);return this.o.Ha(a)?(this.W=null,this.c-=this.o.get(a).length,this.o.remove(a)):!1};l.Bb=function(){oc(this);return 0==this.c};l.Ha=function(a){oc(this);a=pc(this,a);return this.o.Ha(a)};l.La=function(){oc(this);for(var a=this.o.ka(),b=this.o.La(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.ka=function(a){oc(this);var b=[];if(a)this.Ha(a)&&(b=Fa(b,this.o.get(pc(this,a))));else{a=this.o.ka();for(var c=0;c<a.length;c++)b=Fa(b,a[c])}return b};l.set=function(a,b){oc(this);this.W=null;a=pc(this,a);this.Ha(a)&&(this.c-=this.o.get(a).length);this.o.set(a,[b]);this.c++;return this};l.get=function(a,b){var c=a?this.ka(a):[];return 0<c.length?String(c[0]):b};function mc(a,b,c){a.remove(b);0<c.length&&(a.W=null,a.o.set(pc(a,b),Ga(c)),a.c+=c.length)}
l.toString=function(){if(this.W)return this.W;if(!this.o)return"";for(var a=[],b=this.o.La(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ka(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.W=a.join("\x26")};l.ia=function(){var a=new ec;a.W=this.W;this.o&&(a.o=this.o.ia(),a.c=this.c);return a};function pc(a,b){var c=String(b);a.X&&(c=c.toLowerCase());return c}
l.ye=function(a){a&&!this.X&&(oc(this),this.W=null,Tb(this.o,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),mc(this,d,a))},this));this.X=a};l.extend=function(a){for(var b=0;b<arguments.length;b++)Tb(arguments[b],function(a,b){this.add(b,a)},this)};function qc(a){return function(){return a}}var rc=qc(!1),sc=qc(!0);function tc(a){return function(){throw a;}}function uc(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function vc(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function wc(a,b){this.vc=[];this.Pf=a;this.$e=b||null}l=wc.prototype;l.$a=!1;l.cc=!1;l.Fd=!1;l.Hg=!1;l.Be=!1;l.Gd=0;l.cancel=function(a){if(this.$a)this.tc instanceof wc&&this.tc.cancel();else{if(this.nc){var b=this.nc;delete this.nc;a?b.cancel(a):(b.Gd--,0>=b.Gd&&b.cancel())}this.Pf?this.Pf.call(this.$e,this):this.Be=!0;this.$a||(a=new xc(this),zc(this),Ac(this,!1,a))}};l.Ye=function(a,b){this.Fd=!1;Ac(this,a,b)};function Ac(a,b,c){a.$a=!0;a.tc=c;a.cc=!b;Bc(a)}
function zc(a){if(a.$a){if(!a.Be)throw new Cc(a);a.Be=!1}}function Dc(a){return Da(a.vc,function(a){return ka(a[1])})}
function Bc(a){a.Le&&(a.$a&&Dc(a))&&(s.clearTimeout(a.Le),delete a.Le);a.nc&&(a.nc.Gd--,delete a.nc);for(var b=a.tc,c=!1,d=!1;a.vc.length&&!a.Fd;){var e=a.vc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.cc?g:f)try{var h=f.call(e||a.$e,b);v(h)&&(a.cc=a.cc&&(h==b||h instanceof Error),a.tc=b=h);b instanceof wc&&(d=!0,a.Fd=!0)}catch(m){b=m,a.cc=!0,Dc(a)||(c=!0)}}a.tc=b;d&&(d=b,h=D(a.Ye,a,!0),f=D(a.Ye,a,!1),d.vc.push([h,f,void 0]),d.$a&&Bc(d),b.Hg=!0);c&&(a.Le=s.setTimeout(tc(b),0))}
function Cc(a){sa.call(this);this.Ng=a}H(Cc,sa);Cc.prototype.message="Deferred has already fired";Cc.prototype.name="AlreadyCalledError";function xc(a){sa.call(this);this.Ng=a}H(xc,sa);xc.prototype.message="Deferred was canceled";xc.prototype.name="CanceledError";function Ec(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),f={hg:e,vd:void 0},g=new wc(Fc,f),h=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(h=window.setTimeout(function(){Gc(e,!0);var b=new Hc(Ic,"Timeout reached for loading script "+a);zc(g);Ac(g,!1,b)},m),f.vd=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Gc(e,c.Jg||!1,h),zc(g),Ac(g,!0,null))};e.onerror=function(){Gc(e,!0,h);var b=new Hc(Jc,"Error while loading script "+
a);zc(g);Ac(g,!1,b)};Hb(e,{type:"text/javascript",charset:"UTF-8",src:a});Kc(d).appendChild(e);return g}function Kc(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function Fc(){if(this&&this.hg){var a=this.hg;a&&"SCRIPT"==a.tagName&&Gc(a,!0,this.vd)}}function Gc(a,b,c){null!=c&&s.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){Pb(a)},0)}var Jc=0,Ic=1;
function Hc(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);sa.call(this,c);this.code=a}H(Hc,sa);function Lc(a,b){this.oj=new $b(a);this.Ig=b?b:"callback";this.vd=5E3}var Mc=0;Lc.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(Mc++).toString(36)+ra().toString(36);s._callbacks_||(s._callbacks_={});var e=this.oj.ia();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||lc(e,f,a[f]);b&&(s._callbacks_[d]=Nc(d,b),lc(e,this.Ig,"_callbacks_."+d));b=Ec(e.toString(),{timeout:this.vd,Jg:!0});b.vc.push([null,Oc(d,a,c),void 0]);b.$a&&Bc(b);return{R:d,bf:b}};
Lc.prototype.cancel=function(a){a&&(a.bf&&a.bf.cancel(),a.R&&Pc(a.R,!1))};function Oc(a,b,c){return function(){Pc(a,!1);c&&c(b)}}function Nc(a,b){return function(c){Pc(a,!0);b.apply(void 0,arguments)}}function Pc(a,b){s._callbacks_[a]&&(b?delete s._callbacks_[a]:s._callbacks_[a]=ea)};var Qc=L&&!O("9.0")&&""!==eb;function Rc(a,b,c){return a+"/"+b+"/"+c}function Sc(a){return Rc(a[0],a[1],a[2])};function Tc(a,b,c,d){this.l=a;this.H=b;this.p=c;this.k=d}function Uc(a,b,c,d,e){return v(e)?(e.l=a,e.H=b,e.p=c,e.k=d,e):new Tc(a,b,c,d)}l=Tc.prototype;l.contains=function(a){return this.Jc(a[1],a[2])};l.Jc=function(a,b){return this.l<=a&&a<=this.H&&this.p<=b&&b<=this.k};l.extend=function(a){a.l<this.l&&(this.l=a.l);a.H>this.H&&(this.H=a.H);a.p<this.p&&(this.p=a.p);a.k>this.k&&(this.k=a.k)};l.Na=function(){return[this.bb(),this.k-this.p+1]};l.bb=function(){return this.H-this.l+1};function Vc(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Vc.prototype.BYTES_PER_ELEMENT=4;Vc.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Vc.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Vc.BYTES_PER_ELEMENT=4,Vc.prototype.BYTES_PER_ELEMENT=Vc.prototype.BYTES_PER_ELEMENT,Vc.prototype.set=Vc.prototype.set,Vc.prototype.toString=Vc.prototype.toString,ca("Float32Array",Vc));function Wc(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Wc.prototype.BYTES_PER_ELEMENT=8;Wc.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Wc.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Wc.BYTES_PER_ELEMENT=8}catch(Xc){}Wc.prototype.BYTES_PER_ELEMENT=Wc.prototype.BYTES_PER_ELEMENT;Wc.prototype.set=Wc.prototype.set;Wc.prototype.toString=Wc.prototype.toString;ca("Float64Array",Wc)};function Yc(){var a=Array(16);Zc(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Zc(a,b,c,d,e,f,g,h,m,n,p,q,r,t,u,y,w){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=r;a[12]=t;a[13]=u;a[14]=y;a[15]=w}function $c(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);
new Float64Array(16);function ad(a,b){a[0]+=b[0];a[1]+=b[1]}function bd(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function cd(a,b,c,d,e){return v(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function dd(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function ed(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=fd(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function gd(a,b,c,d){var e=b*d[0]/2,f=b*d[1]/2;b=Math.cos(c);d=Math.sin(c);e=[-e,-e,e,e];c=[-f,f,-f,f];for(var g,h,f=0;4>f;++f)g=e[f],h=c[f],e[f]=a[0]+g*b-h*d,c[f]=a[1]+g*d+h*b;a=Math.min.apply(null,e);b=Math.min.apply(null,c);e=Math.max.apply(null,e);c=Math.max.apply(null,c);return cd(a,b,e,c,void 0)}
function hd(a,b){var c=v(void 0)?void 0:[Infinity,Infinity,-Infinity,-Infinity];id(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function fd(a){return[a[0],a[3]]}function id(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
var jd={};jd.degrees=2*Math.PI*(new (aa("Ei"))(6370997)).Ei/360;jd.ft=0.3048;jd.m=1;function kd(a){this.Sb=a.code;this.wg=a.Me;this.Ja=v(a.b)?a.b:null;this.vk=v(a.Oe)?a.Oe:null;this.Mj=v(a.Se)?a.Se:"enu";this.ck=v(a.global)?a.global:!1;this.af=null}kd.prototype.J=k("Ja");kd.prototype.ig=aa("Ja");var ld={},md={};function nd(a){od(a);J(a,function(b){J(a,function(a){b!==a&&pd(b,a,qd)})})}function rd(a){ld[a.Sb]=a;pd(a,a,qd)}function od(a){var b=[];J(a,function(a){b.push(rd(a))})}
function sd(a){return null!=a?x(a)?td(a):a:td("EPSG:3857")}function pd(a,b,c){a=a.Sb;b=b.Sb;a in md||(md[a]={});md[a][b]=c}function td(a){return a instanceof kd?a:x(a)?ld[a]:null}function ud(a,b){if(v(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function qd(a,b){var c;if(v(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function vd(a){kd.call(this,{code:a,Me:"m",b:wd,global:!0,Oe:xd})}H(vd,kd);var yd=6378137*Math.PI,wd=[-yd,-yd,yd,yd],xd=[-180,-85,180,85],zd=Ca("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new vd(a)});
function Ad(a,b,c){var d=a.length;c=1<c?c:2;v(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Bd(a,b,c){var d=a.length;c=1<c?c:2;v(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Ed(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Fd(a){this.Ba=v(a.Ba)?a.Ba:0;this.sc=a.gb;this.Gb=this.sc.length-1;this.fd=v(a.origin)?a.origin:null;this.Rf=null;v(a.qi)&&(this.Rf=a.qi);this.He=null;v(a.ij)&&(this.He=a.ij);this.ug=v(a.jb)?a.jb:null===this.He?256:void 0}var Gd=[0,0,0];Fd.prototype.Xd=function(a,b,c,d,e){e=Hd(this,a,e);for(a=a[0]-1;a>=this.Ba;){if(b.call(c,a,Id(this,e,a,d)))return!0;--a}return!1};Fd.prototype.bc=function(a){return null===this.fd?this.Rf[a]:this.fd};Fd.prototype.t=function(a){return this.sc[a]};
Fd.prototype.be=function(a,b,c){return a[0]<this.Gb?(c=Hd(this,a,c),Id(this,c,a[0]+1,b)):null};function Jd(a,b,c,d){Kd(a,b[0],b[1],c,!1,Gd);var e=Gd[1],f=Gd[2];Kd(a,b[2],b[3],c,!0,Gd);return Uc(e,Gd[1],f,Gd[2],d)}function Id(a,b,c,d){c=a.t(c);return Jd(a,b,c,d)}function Hd(a,b,c){var d=a.bc(b[0]),e=a.t(b[0]);a=Ld(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return cd(f,b,f+a*e,b+a*e,c)}
function Kd(a,b,c,d,e,f){var g=Ed(a.sc,d,0),h=d/a.t(g),m=a.bc(g);a=Ld(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;v(f)?(f[0]=g,f[1]=e,f[2]=c):f=[g,e,c];return f}function Md(a,b,c){c=a.t(c);return Kd(a,b[0],b[1],c,!1,void 0)}function Ld(a,b){return v(a.ug)?a.ug:a.He[b]}function Nd(a,b,c){b=v(b)?b:42;c=v(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c};function Od(a){var b=v(a.b)?a.b:wd,c=Nd(b,a.Gb,a.jb);Fd.call(this,{Ba:a.Ba,origin:ed(b,"top-left"),gb:c,jb:a.jb})}H(Od,Fd);Od.prototype.be=function(a,b){return a[0]<this.Gb?Uc(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};Od.prototype.Xd=function(a,b,c,d){d=Uc(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.Ba;--a)if(d.l=d.H>>=1,d.p=d.k>>=1,b.call(c,a,d))return!0;return!1};function Pd(a){Fd.call(this,a)}H(Pd,Od);var Qd=!L||L&&9<=mb,Rd=!L||L&&9<=mb,Sd=L&&!O("9");!M||O("528");$a&&O("1.9b")||L&&O("8")||Za&&O("9.5")||M&&O("528");$a&&!O("8")||L&&O("9");function Td(){0!=Ud&&(this.Oj=Error().stack,Vd[z(this)]=this)}var Ud=0,Vd={};Td.prototype.cf=!1;Td.prototype.Kc=function(){if(!this.cf&&(this.cf=!0,this.h(),0!=Ud)){var a=z(this);delete Vd[a]}};function Wd(a,b){var c=qa(Xd,b);a.kc||(a.kc=[]);a.kc.push(D(c,void 0))}Td.prototype.h=function(){if(this.kc)for(;this.kc.length;)this.kc.shift()()};function Xd(a){a&&"function"==typeof a.Kc&&a.Kc()};function T(a,b){this.type=a;this.currentTarget=this.target=b}l=T.prototype;l.h=function(){};l.Kc=function(){};l.Sa=!1;l.defaultPrevented=!1;l.fg=!0;l.stopPropagation=function(){this.Sa=!0};l.preventDefault=function(){this.defaultPrevented=!0;this.fg=!1};function Yd(a){a.stopPropagation()};var Zd=L?"focusout":"DOMFocusOut";function $d(a){$d[" "](a);return a}$d[" "]=ea;function ae(a,b){a&&be(this,a,b)}H(ae,T);var ce=[1,4,2];l=ae.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.jd=!1;l.f=null;
function be(a,b,c){var d=a.type=b.type;T.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if($a){var e;a:{try{$d(c.nodeName);e=!0;break a}catch(f){}e=!1}e||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=M||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=M||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.jd=Ta?b.metaKey:b.ctrlKey;a.state=b.state;a.f=b;b.defaultPrevented&&a.preventDefault();delete a.Sa}function de(a){return Qd?0==a.f.button:"click"==a.type?!0:!!(a.f.button&ce[0])}
l.stopPropagation=function(){ae.N.stopPropagation.call(this);this.f.stopPropagation?this.f.stopPropagation():this.f.cancelBubble=!0};l.preventDefault=function(){ae.N.preventDefault.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Sd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};l.bh=k("f");l.h=function(){};var ee="closure_listenable_"+(1E6*Math.random()|0);function fe(a){return!(!a||!a[ee])}var ge=0;function he(a,b,c,d,e,f){this.ya=a;this.Xf=b;this.src=c;this.type=d;this.capture=!!e;this.wb=f;this.key=++ge;this.Ua=this.mb=!1}function ie(a){a.Ua=!0;a.ya=null;a.Xf=null;a.src=null;a.wb=null};var je={},ke={},le={},me={};function U(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)U(a,b[f],c,d,e);return null}c=ne(c);return fe(a)?a.ta.add(b,c,!1,d,e):oe(a,b,c,!1,d,e)}
function oe(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=ke;b in g||(g[b]={c:0});g=g[b];e in g||(g[e]={c:0},g.c++);var g=g[e],h=z(a),m;if(g[h]){m=g[h];for(var n=0;n<m.length;n++)if(g=m[n],g.ya==c&&g.wb==f){if(g.Ua)break;d||(m[n].mb=!1);return m[n]}}else m=g[h]=[],g.c++;n=pe();g=new he(c,n,a,b,e,f);g.mb=d;n.src=a;n.ya=g;m.push(g);le[h]||(le[h]=[]);le[h].push(g);a.addEventListener?a.addEventListener(b,n,e):a.attachEvent(b in me?me[b]:me[b]="on"+b,n);return je[g.key]=g}
function pe(){var a=qe,b=Rd?function(c){return a.call(b.src,b.ya,c)}:function(c){c=a.call(b.src,b.ya,c);if(!c)return c};return b}function re(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)re(a,b[f],c,d,e);return null}c=ne(c);return fe(a)?a.ta.add(b,c,!0,d,e):oe(a,b,c,!0,d,e)}
function se(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)se(a,b[f],c,d,e);else if(c=ne(c),fe(a))a.ta.remove(b,c,d,e);else{d=!!d;a:{f=ke;if(b in f&&(f=f[b],d in f&&(f=f[d],a=z(a),f[a]))){a=f[a];break a}a=null}if(a)for(f=0;f<a.length;f++)if(a[f].ya==c&&a[f].capture==d&&a[f].wb==e){V(a[f]);break}}}
function V(a){if(ja(a)||!a||a.Ua)return!1;var b=a.src;if(fe(b))return te(b.ta,a);var c=a.type,d=a.Xf,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in me?me[c]:me[c]="on"+c,d);b=z(b);le[b]&&(d=le[b],Ea(d,a),0==d.length&&delete le[b]);ie(a);if(d=ke[c][e][b])Ea(d,a),0==d.length&&(delete ke[c][e][b],ke[c][e].c--),0==ke[c][e].c&&(delete ke[c][e],ke[c].c--),0==ke[c].c&&delete ke[c];delete je[a.key];return!0}
function ue(a){if(fe(a))return a.dc(void 0,void 0);a=z(a);var b=le[a];if(b){var c=v(void 0),d=v(void 0);return c&&d?(b=ke[void 0],!!b&&!!b[void 0]&&a in b[void 0]):c||d?Da(b,function(a){return c&&void 0==a.type||d&&void 0==a.capture}):!0}return!1}function ve(a,b,c){var d=1;b=z(b);if(a[b])for(a=Ga(a[b]),b=0;b<a.length;b++){var e=a[b];e&&!e.Ua&&(d&=!1!==we(e,c))}return Boolean(d)}function we(a,b){var c=a.ya,d=a.wb||a.src;a.mb&&V(a);return c.call(d,b)}
function qe(a,b){if(a.Ua)return!0;var c=a.type,d=ke;if(!(c in d))return!0;var d=d[c],e,f;if(!Rd){if(!(c=b))a:{for(var c=["window","event"],g=s;e=c.shift();)if(null!=g[e])g=g[e];else{c=null;break a}c=g}e=c;c=!0 in d;g=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var h=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(m){h=!0}if(h||void 0==e.returnValue)e.returnValue=!0}}h=new ae;be(h,e,this);e=!0;try{if(c){for(var n=[],p=h.currentTarget;p;p=p.parentNode)n.push(p);f=d[!0];for(var q=
n.length-1;!h.Sa&&0<=q;q--)h.currentTarget=n[q],e&=ve(f,n[q],h);if(g)for(f=d[!1],q=0;!h.Sa&&q<n.length;q++)h.currentTarget=n[q],e&=ve(f,n[q],h)}else e=we(a,h)}finally{n&&(n.length=0)}return e}d=new ae(b,this);return e=we(a,d)}var xe="__closure_events_fn_"+(1E9*Math.random()>>>0);function ne(a){return ka(a)?a:a[xe]||(a[xe]=function(b){return a.handleEvent(b)})};function ye(a){this.src=a;this.S={};this.wd=0}ye.prototype.add=function(a,b,c,d,e){var f=this.S[a];f||(f=this.S[a]=[],this.wd++);var g=ze(f,b,d,e);-1<g?(a=f[g],c||(a.mb=!1)):(a=new he(b,null,this.src,a,!!d,e),a.mb=c,f.push(a));return a};ye.prototype.remove=function(a,b,c,d){if(!(a in this.S))return!1;var e=this.S[a];b=ze(e,b,c,d);return-1<b?(ie(e[b]),I.splice.call(e,b,1),0==e.length&&(delete this.S[a],this.wd--),!0):!1};
function te(a,b){var c=b.type;if(!(c in a.S))return!1;var d=Ea(a.S[c],b);d&&(ie(b),0==a.S[c].length&&(delete a.S[c],a.wd--));return d}ye.prototype.dc=function(a,b){var c=v(a),d=v(b);return ub(this.S,function(e){for(var f=0;f<e.length;++f)if(!(c&&e[f].type!=a||d&&e[f].capture!=b))return!0;return!1})};function ze(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ua&&f.ya==b&&f.capture==!!c&&f.wb==d)return e}return-1};function W(){Td.call(this);this.ta=new ye(this);this.Cg=this}H(W,Td);W.prototype[ee]=!0;l=W.prototype;l.se=null;l.addEventListener=function(a,b,c,d){U(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){se(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.se;if(c)for(b=[];c;c=c.se)b.push(c);var c=this.Cg,d=a.type||a;if(x(a))a=new T(a,c);else if(a instanceof T)a.target=a.target||c;else{var e=a;a=new T(d,c);Cb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Sa&&0<=g;g--)f=a.currentTarget=b[g],e=Ae(f,d,!0,a)&&e;a.Sa||(f=a.currentTarget=c,e=Ae(f,d,!0,a)&&e,a.Sa||(e=Ae(f,d,!1,a)&&e));if(b)for(g=0;!a.Sa&&g<b.length;g++)f=a.currentTarget=b[g],e=Ae(f,d,!1,a)&&e;return e};
l.h=function(){W.N.h.call(this);if(this.ta){var a=this.ta,b=0,c;for(c in a.S){for(var d=a.S[c],e=0;e<d.length;e++)++b,d[e].Ua=!0;delete a.S[c];a.wd--}}this.se=null};function Ae(a,b,c,d){b=a.ta.S[b];if(!b)return!0;b=Ga(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Ua&&g.capture==c){var h=g.ya,m=g.wb||g.src;g.mb&&te(a.ta,g);e=!1!==h.call(m,d)&&e}}return e&&!1!=d.fg}l.dc=function(a,b){return this.ta.dc(a,b)};function Be(a,b){W.call(this);this.q=a;this.state=b}H(Be,W);Be.prototype.Z=function(){this.dispatchEvent("change")};Be.prototype.getKey=function(){return z(this).toString()};Be.prototype.u=k("state");function Ce(a,b,c,d,e){Be.call(this,a,b);this.mg=c;this.v=new Image;null!==d&&(this.v.crossOrigin=d);this.Sc={};this.ec=null;this.gj=e}H(Ce,Be);l=Ce.prototype;l.Ka=function(a){if(v(a)){var b=z(a);if(b in this.Sc)return this.Sc[b];a=yb(this.Sc)?this.v:this.v.cloneNode(!1);return this.Sc[b]=a}return this.v};l.getKey=k("mg");l.hh=function(){this.state=3;J(this.ec,V);this.ec=null;this.Z()};
l.ih=function(){v(this.v.naturalWidth)||(this.v.naturalWidth=this.v.width,this.v.naturalHeight=this.v.height);this.state=this.v.naturalWidth&&this.v.naturalHeight?2:4;J(this.ec,V);this.ec=null;this.Z()};l.load=function(){0==this.state&&(this.state=1,this.ec=[re(this.v,"error",this.hh,!1,this),re(this.v,"load",this.ih,!1,this)],this.gj(this,this.mg))};function De(){this.c=0;this.Nc={};this.ca=this.na=null}l=De.prototype;l.Ha=function(a){return this.Nc.hasOwnProperty(a)};l.forEach=function(a,b){for(var c=this.na;null!==c;)a.call(b,c.Mb,c.ke,this),c=c.ba};l.get=function(a){a=this.Nc[a];if(a===this.ca)return a.Mb;a===this.na?(this.na=this.na.ba,this.na.Ra=null):(a.ba.Ra=a.Ra,a.Ra.ba=a.ba);a.ba=null;a.Ra=this.ca;this.ca=this.ca.ba=a;return a.Mb};l.$b=k("c");l.La=function(){var a=Array(this.c),b=0,c;for(c=this.ca;null!==c;c=c.Ra)a[b++]=c.ke;return a};
l.ka=function(){var a=Array(this.c),b=0,c;for(c=this.ca;null!==c;c=c.Ra)a[b++]=c.Mb;return a};l.pop=function(){var a=this.na;delete this.Nc[a.ke];null!==a.ba&&(a.ba.Ra=null);this.na=a.ba;null===this.na&&(this.ca=null);--this.c;return a.Mb};l.set=function(a,b){var c={ke:a,ba:null,Ra:this.ca,Mb:b};null===this.ca?this.na=c:this.ca.ba=c;this.ca=c;this.Nc[a]=c;++this.c};function Ee(a){De.call(this);this.Eh=v(a)?a:2048}H(Ee,De);Ee.prototype.Qb=function(){return this.$b()>this.Eh};Ee.prototype.Vd=function(a){for(var b,c;this.Qb()&&!(b=this.na.Mb,c=b.q[0].toString(),c in a&&a[c].contains(b.q));)this.pop().Kc()};function Fe(){};function Ge(){W.call(this);this.Da=0}H(Ge,W);Ge.prototype.Z=function(){++this.Da;this.dispatchEvent("change")};function He(a){Ge.call(this);this.Wf=td(a.projection);this.Eg=v(a.Xa)?a.Xa:null;this.Sh=a.za;this.aj=v(a.state)?a.state:"ready"}H(He,Ge);He.prototype.u=k("aj");function Ie(a){He.call(this,{Xa:a.Xa,b:a.b,za:a.za,projection:a.projection,state:a.state});this.pi=v(a.pe)?a.pe:!1;this.sg=v(a.Ge)?a.Ge:1;this.ib=v(a.ib)?a.ib:null}H(Ie,He);Ie.prototype.Qb=rc;Ie.prototype.jf=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.l;h<=d.H;++h)for(m=d.p;m<=d.k;++m)g=this.Zd(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};Ie.prototype.Zd=Rc;
function Je(a,b){var c;if(null===a.ib){if(c=b.af,null===c){c=td(b);var d=c.J();null===d&&(c=180*jd.degrees/jd[c.wg],d=cd(-c,-c,c,c));c=d;var d=v(void 0)?void 0:256,e=v(void 0)?void 0:"bottom-left",f=Nd(c,void 0,d);c=new Fd({origin:ed(c,e),gb:f,jb:d});b.af=c}}else c=a.ib;return c}Ie.prototype.yg=ea;function Ke(a){Ie.call(this,{Xa:a.Xa,b:a.b,za:a.za,pe:a.pe,projection:a.projection,state:v(a.state)?a.state:void 0,ib:a.ib,Ge:a.Ge});this.ud=v(a.ud)?a.ud:Fe;this.crossOrigin=v(a.crossOrigin)?a.crossOrigin:null;this.hb=new Ee;this.Fe=v(a.Fe)?a.Fe:Le;this.De=v(a.De)?a.De:Ce}H(Ke,Ie);function Le(a,b){a.Ka().src=b}Ke.prototype.Qb=function(){return this.hb.Qb()};Ke.prototype.Vd=function(a){this.hb.Vd(a)};
function Me(a,b,c,d,e,f){var g=a.Zd(b,c,d);if(a.hb.Ha(g))return a.hb.get(g);b=[b,c,d];e=a.ud(b,e,f);e=new a.De(b,v(e)?0:4,v(e)?e:"",a.crossOrigin,a.Fe);a.hb.set(g,e);return e}Ke.prototype.yg=function(a,b,c){a=this.Zd(a,b,c);this.hb.Ha(a)&&this.hb.get(a)};function Ne(a){for(var b=a.Gg,c=a.Qj||"jpg",d=a.lk||"native",e=a.width,f=a.height,g=a.jb||256,h=Math.max(Math.ceil(Math.log(e/g)/Math.LN2),Math.ceil(Math.log(f/g)/Math.LN2)),m=[],n=0;n<=h;n++){var p=Math.pow(2,h-n),q=Math.ceil(e/p),p=Math.ceil(f/p),q=Math.ceil(q/g),p=Math.ceil(p/g);m.push([q,p])}Ke.call(this,{ib:new Pd({gb:a.gb.reverse(),origin:[0,0],projection:a.projection,b:a.projection.J(),jb:g}),ud:function(a){var n=a[0];if(!(h<n)){var p=m[n];if(p){var q=a[1];a=-a[2]-1;if(!(0>q||p[0]<=q||0>a||
p[1]<=a)){n=Math.pow(2,h-n);p=g*n;q*=p;a*=p;var w=Math.min(q+p,e),p=Math.min(a+p,f);return b+("/"+q+","+a+","+(w-q)+","+(p-a)+"/pct:"+100/n+"/0/"+d+"."+c)}}}}})}H(Ne,Ke);function Oe(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}l=Oe.prototype;l.ia=function(){return new Oe(this.top,this.right,this.bottom,this.left)};l.contains=function(a){return this&&a?a instanceof Oe?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
l.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};l.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};l.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Pe(a,b){var c=Fb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Qe(a,b){return Pe(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Re(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}L&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Se(a){if(L&&!(L&&8<=mb))return a.offsetParent;var b=Fb(a),c=Qe(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Qe(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Te(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=Re(a),b=new P(b.left,b.top);else{b=Rb(Db(a));var c,d=Fb(a),e=Qe(a,"position"),f=$a&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new P(0,0),h;c=d?Fb(d):document;(h=!L)||(h=L&&9<=mb)||(h=Db(c),h=Kb(h.Vb));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=Re(a),d=Rb(Db(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(M&&"fixed"==Qe(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(Za||M&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=Se(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,Za&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new P(g.x-b.x,g.y-b.y)}if($a&&!O(12)){var m;L?m="-ms-transform":M?m="-webkit-transform":
Za?m="-o-transform":$a&&(m="-moz-transform");var n;m&&(n=Qe(a,m));n||(n=Qe(a,"transform"));a=n?(a=n.match(Ue))?new P(parseFloat(a[1]),parseFloat(a[2])):new P(0,0):new P(0,0);a=new P(b.x+a.x,b.y+a.y)}else a=b;return a}m=ka(a.bh);n=a;a.targetTouches?n=a.targetTouches[0]:m&&a.f.targetTouches&&(n=a.f.targetTouches[0]);return new P(n.clientX,n.clientY)}
function Ve(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Xe(a,b){a.style.display=b?"":"none"}function Ye(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function Ze(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Ye(a,c,"left","pixelLeft"):0}var $e={thin:2,medium:4,thick:6};function af(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in $e?$e[c]:Ye(a,c,"left","pixelLeft")}var Ue=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function bf(a,b){W.call(this);this.L=a;var c=la(this.L)&&1==this.L.nodeType?this.L:this.L?this.L.body:null;this.Mh=!!c&&"rtl"==Qe(c,"direction");this.Hf=U(this.L,$a?"DOMMouseScroll":"mousewheel",this,b)}H(bf,W);
bf.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.f;if("mousewheel"==a.type){c=1;if(L||M&&(Ua||O("532.0")))c=40;d=cf(-a.wheelDelta,c);v(a.wheelDeltaX)?(b=cf(-a.wheelDeltaX,c),c=cf(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.If)&&(b=rb(b,-this.If,this.If));ja(this.Jf)&&(c=rb(c,-this.Jf,this.Jf));this.Mh&&(b=-b);b=new df(d,a,b,c);this.dispatchEvent(b)};function cf(a,b){return M&&(Ta||cb)&&0!=a%b?a:a/b}
bf.prototype.h=function(){bf.N.h.call(this);V(this.Hf);this.Hf=null};function df(a,b,c,d){b&&be(this,b,void 0);this.type="mousewheel";this.detail=a;this.Pj=c;this.Rd=d}H(df,ae);function ef(a){return function(b){if(v(b))return[rb(b[0],a[0],a[2]),rb(b[1],a[1],a[3])]}}function ff(a){return a};function gf(a){return function(b,c,d){if(v(b))return b=Ed(a,b,d),b=rb(b+c,0,a.length-1),a[b]}}function hf(a,b,c){return function(d,e,f){if(v(d))return f=0<f?0:0>f?1:0.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),v(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function jf(a){if(v(a))return 0}function kf(a,b){if(v(a))return a+b}function lf(a){var b=2*Math.PI/a;return function(a,d){if(v(a))return a=Math.floor((a+d)/b+0.5)*b}}function mf(){var a=5*Math.PI/180;return function(b,c){if(v(b))return Math.abs(b+c)<=a?0:b+c}};function nf(a,b,c){this.center=a;this.e=b;this.rotation=c};function of(a,b){T.call(this,a);this.key=b}H(of,T);function pf(a){Ge.call(this);z(this);this.Nb={};this.Bd={};this.Nj={};this.gk={};v(a)&&this.wc(a)}H(pf,Ge);var qf={},rf={},sf={};function tf(a){return qf.hasOwnProperty(a)?qf[a]:qf[a]="change:"+a.toLowerCase()}
pf.prototype.get=function(a){var b,c=this.Bd;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.cj,d=rf.hasOwnProperty(c)?rf[c]:rf[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=Q(b,d);b=v(d)?d.call(b):b.get(c);b=a.tk(b)}else this.Nb.hasOwnProperty(a)&&(b=this.Nb[a]);return b};pf.prototype.La=function(){var a=this.Bd,b;if(yb(this.Nb)){if(yb(a))return[];b=a}else if(yb(a))b=this.Nb;else{b={};for(var c in this.Nb)b[c]=!0;for(c in a)b[c]=!0}return xb(b)};
pf.prototype.set=function(a,b){this.dispatchEvent(new of("beforepropertychange",a));var c=this.Bd;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.cj;b=d.Rj(b);d=sf.hasOwnProperty(e)?sf[e]:sf[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=Q(c,d);v(d)?d.call(c,b):c.set(e,b)}else this.Nb[a]=b,c=tf(a),this.dispatchEvent(c),this.dispatchEvent(new of("propertychange",a))};pf.prototype.wc=function(a){for(var b in a)this.set(b,a[b])};function X(a){pf.call(this);a=v(a)?a:{};this.fe=[0,0];var b={};b.center=v(a.center)?a.center:null;this.Wf=sd(a.projection);var c,d,e,f=v(a.Ba)?a.Ba:0;c=v(a.Gb)?a.Gb:28;var g=v(a.tj)?a.tj:2;if(v(a.gb))c=a.gb,d=c[0],e=c[c.length-1],c=gf(c);else{d=sd(a.projection);e=d.J();var h=(null===e?360*jd.degrees/jd[d.wg]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.Aa;v(d)?f=0:d=h/Math.pow(g,f);e=a.Qa;v(e)||(e=v(a.Gb)?v(a.Aa)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/
e)/Math.log(g));e=d/Math.pow(g,c-f);c=hf(g,d,c-f)}this.Kf=d;this.Zh=e;this.$h=f;f=v(a.b)?ef(a.b):ff;(v(a.$g)?a.$g:1)?(d=a.Nd,d=v(d)&&!0!==d?!1===d?kf:ja(d)?lf(d):kf:mf()):d=jf;this.Tb=new nf(f,c,d);v(a.e)?b.resolution=a.e:v(a.zoom)&&(b.resolution=uf(this,this.Kf,a.zoom-this.$h));b.rotation=v(a.rotation)?a.rotation:0;this.wc(b)}H(X,pf);function vf(a,b,c){var d,e=a.ja();a=a.t();v(e)&&v(a)&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function uf(a,b,c,d){return a.Tb.e(b,c||0,d||0)}
X.prototype.Nd=function(a,b){return this.Tb.rotation(a,b||0)};X.prototype.ja=function(){return this.get("center")};X.prototype.getCenter=X.prototype.ja;X.prototype.t=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.t;X.prototype.qb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.qb;X.prototype.u=function(){var a=this.ja(),b=this.Wf,c=this.t(),d=this.qb();return{center:a.slice(),projection:v(b)?b:null,e:c,rotation:v(d)?d:0}};
X.prototype.he=function(){return null!=this.ja()&&v(this.t())};X.prototype.rotate=function(a,b){if(v(b)){var c,d=this.ja();v(d)&&(c=[d[0]-b[0],d[1]-b[1]],bd(c,a-this.qb()),ad(c,b));this.Ea(c)}this.ze(a)};X.prototype.Ea=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.Ea;function wf(a,b){a.fe[1]+=b}X.prototype.xc=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.xc;X.prototype.ze=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.ze;function xf(a){return 1-Math.pow(1-a,3)};function yf(a){return 3*a*a-2*a*a*a}function zf(a){return a};function Af(a){var b=a.source,c=v(a.start)?a.start:ra(),d=b[0],e=b[1],f=v(a.duration)?a.duration:1E3,g=v(a.K)?a.K:yf;return function(a,b){if(b.time<c)return b.Va=!0,b.I[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.i.center[0],q=e-b.i.center[1];b.Va=!0;b.i.center[0]+=n*p;b.i.center[1]+=n*q;b.I[0]+=1;return!0}return!1}}
function Bf(a){var b=v(a.rotation)?a.rotation:0,c=v(a.start)?a.start:ra(),d=v(a.duration)?a.duration:1E3,e=v(a.K)?a.K:yf,f=v(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.Va=!0,h.I[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.i.rotation)*m;h.Va=!0;h.i.rotation+=m;if(null!==f){var n=h.i.center;n[0]-=f[0];n[1]-=f[1];bd(n,m);ad(n,f)}h.I[0]+=1;return!0}return!1}}
function Cf(a){var b=a.e,c=v(a.start)?a.start:ra(),d=v(a.duration)?a.duration:1E3,e=v(a.K)?a.K:yf;return function(a,g){if(g.time<c)return g.Va=!0,g.I[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.i.e;g.Va=!0;g.i.e+=h*m;g.I[0]+=1;return!0}return!1}};function Df(a,b,c){T.call(this,a);this.map=b;this.frameState=v(c)?c:null}H(Df,T);function Ef(a,b,c){T.call(this,a);this.r=b;a=v(c)?c:{};this.buttons=Ff(a);this.ue=Gf(a,this.buttons);this.bubbles=Q(a,"bubbles",!1);this.cancelable=Q(a,"cancelable",!1);this.view=Q(a,"view",null);this.detail=Q(a,"detail",null);this.screenX=Q(a,"screenX",0);this.screenY=Q(a,"screenY",0);this.clientX=Q(a,"clientX",0);this.clientY=Q(a,"clientY",0);this.ctrlKey=Q(a,"ctrlKey",!1);this.altKey=Q(a,"altKey",!1);this.shiftKey=Q(a,"shiftKey",!1);this.metaKey=Q(a,"metaKey",!1);this.button=Q(a,"button",0);this.relatedTarget=
Q(a,"relatedTarget",null);this.pointerId=Q(a,"pointerId",0);this.width=Q(a,"width",0);this.height=Q(a,"height",0);this.rk=Q(a,"tiltX",0);this.sk=Q(a,"tiltY",0);this.pointerType=Q(a,"pointerType","");this.hwTimestamp=Q(a,"hwTimestamp",0);this.Vc=Q(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}H(Ef,T);function Ff(a){if(a.buttons||Hf)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}
function Gf(a,b){var c=0;return c=a.ue?a.ue:b?0.5:0}var Hf=!1;try{Hf=1===(new MouseEvent("click",{buttons:1})).buttons}catch(If){};function Jf(a,b){var c=document.createElement("CANVAS");v(a)&&(c.width=a);v(b)&&(c.height=b);return c.getContext("2d")}
var Kf=function(){var a;return function(){if(!v(a))if(s.getComputedStyle){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=s.getComputedStyle(b).getPropertyValue(d[e]));Pb(b);a=c&&"none"!==c}else a=!1;return a}}(),Lf=function(){var a;return function(){if(!v(a))if(s.getComputedStyle){var b=
document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=s.getComputedStyle(b).getPropertyValue(d[e]));Pb(b);a=c&&"none"!==c}else a=!1;return a}}();
function Mf(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Aj=b;c.msTransform=b;c.transform=b;L&&!Qc&&(a.style.transformOrigin="0 0")};var Nf=s.devicePixelRatio||1,Of=!1,Pf=function(){if(!("HTMLCanvasElement"in s))return!1;try{var a=Jf();if(null===a)return!1;v(a.setLineDash)&&(Of=!0);return!0}catch(b){return!1}}(),Qf="ontouchstart"in s,Rf="PointerEvent"in s,Sf=!!s.navigator.msPointerEnabled;function Tf(a,b){this.d=a;this.dd=b};function Uf(a){Tf.call(this,a,{mousedown:this.bi,mousemove:this.ci,mouseup:this.fi,mouseover:this.ei,mouseout:this.di});this.n=a.n;this.Ef=[]}H(Uf,Tf);function Vf(a,b){for(var c=a.Ef,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}function Wf(a){var b=Xf(a,a.f),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.Vc=!0;b.pointerType="mouse";return b}l=Uf.prototype;
l.bi=function(a){if(!Vf(this,a)){(1).toString()in this.n&&this.cancel(a);var b=Wf(a);this.n[(1).toString()]=a;this.d.fireEvent(Yf,b,a)}};l.ci=function(a){if(!Vf(this,a)){var b=Wf(a);this.d.move(b,a)}};l.fi=function(a){if(!Vf(this,a)){var b=Q(this.n,(1).toString());b&&b.button===a.button&&(b=Wf(a),this.d.fireEvent(Zf,b,a),zb(this.n,(1).toString()))}};l.ei=function(a){if(!Vf(this,a)){var b=Wf(a);$f(this.d,b,a)}};l.di=function(a){if(!Vf(this,a)){var b=Wf(a);ag(this.d,b,a)}};
l.cancel=function(a){var b=Wf(a);this.d.cancel(b,a);zb(this.n,(1).toString())};function bg(a){Tf.call(this,a,{MSPointerDown:this.ki,MSPointerMove:this.li,MSPointerUp:this.oi,MSPointerOut:this.mi,MSPointerOver:this.ni,MSPointerCancel:this.ji,MSGotPointerCapture:this.hi,MSLostPointerCapture:this.ii});this.n=a.n;this.Bg=["","unavailable","touch","pen","mouse"]}H(bg,Tf);function cg(a,b){var c=b;ja(b.f.pointerType)&&(c=Xf(b,b.f),c.pointerType=a.Bg[b.f.pointerType]);return c}l=bg.prototype;l.ki=function(a){this.n[a.f.pointerId]=a;var b=cg(this,a);this.d.fireEvent(Yf,b,a)};
l.li=function(a){var b=cg(this,a);this.d.move(b,a)};l.oi=function(a){var b=cg(this,a);this.d.fireEvent(Zf,b,a);zb(this.n,a.f.pointerId)};l.mi=function(a){var b=cg(this,a);ag(this.d,b,a)};l.ni=function(a){var b=cg(this,a);$f(this.d,b,a)};l.ji=function(a){var b=cg(this,a);this.d.cancel(b,a);zb(this.n,a.f.pointerId)};l.ii=function(a){this.d.dispatchEvent(new Ef("lostpointercapture",a,a.f))};l.hi=function(a){this.d.dispatchEvent(new Ef("gotpointercapture",a,a.f))};function dg(a){Tf.call(this,a,{pointerdown:this.zi,pointermove:this.Ai,pointerup:this.Di,pointerout:this.Bi,pointerover:this.Ci,pointercancel:this.yi,gotpointercapture:this.gh,lostpointercapture:this.Uh})}H(dg,Tf);l=dg.prototype;l.zi=function(a){eg(this.d,a)};l.Ai=function(a){eg(this.d,a)};l.Di=function(a){eg(this.d,a)};l.Bi=function(a){eg(this.d,a)};l.Ci=function(a){eg(this.d,a)};l.yi=function(a){eg(this.d,a)};l.Uh=function(a){eg(this.d,a)};l.gh=function(a){eg(this.d,a)};function fg(a,b){Tf.call(this,a,{touchstart:this.mj,touchmove:this.lj,touchend:this.kj,touchcancel:this.jj});this.n=a.n;this.ai=b;this.Yb=void 0;this.Md=0;this.rc=void 0}H(fg,Tf);l=fg.prototype;l.dg=function(){this.Md=0;this.rc=void 0};
function gg(a,b,c){b=Xf(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Md;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.ue=c.webkitForce||c.force||0.5;b.Vc=a.Yb===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function hg(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.f.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=gg(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
l.mj=function(a){var b=a.f.touches,c=xb(this.n),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.n[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.eb)}for(f=0;f<e.length;++f)this.Jd(a,e[f])}b=vb(this.n);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.n;c=b}c&&(this.Yb=a.f.changedTouches[0].identifier,v(this.rc)&&s.clearTimeout(this.rc));ig(this,a);this.Md++;hg(this,a,this.ri)};
l.ri=function(a,b){this.n[b.pointerId]={target:b.target,eb:b,Sf:b.target};var c=this.d;b.bubbles=!0;c.fireEvent(jg,b,a);c=this.d;b.bubbles=!1;c.fireEvent(kg,b,a);this.d.fireEvent(Yf,b,a)};l.lj=function(a){a.preventDefault();hg(this,a,this.gi)};
l.gi=function(a,b){var c=Q(this.n,b.pointerId);if(c){var d=c.eb,e=c.Sf;this.d.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(ag(this.d,d,a),$f(this.d,b,a)):(b.target=e,b.relatedTarget=null,this.Jd(a,b)));c.eb=b;c.Sf=b.target}};l.kj=function(a){ig(this,a);hg(this,a,this.nj)};
l.nj=function(a,b){this.d.fireEvent(Zf,b,a);this.d.eb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(lg,b,a);zb(this.n,b.pointerId);b.Vc&&(this.Yb=void 0,this.rc=s.setTimeout(D(this.dg,this),200))};l.jj=function(a){hg(this,a,this.Jd)};l.Jd=function(a,b){this.d.cancel(b,a);this.d.eb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(lg,b,a);zb(this.n,b.pointerId);b.Vc&&(this.Yb=void 0,this.rc=s.setTimeout(D(this.dg,this),200))};
function ig(a,b){var c=a.ai.Ef,d=b.f.changedTouches[0];if(a.Yb===d.identifier){var e=[d.clientX,d.clientY];c.push(e);s.setTimeout(function(){Ea(c,e)},2500)}};function mg(a){W.call(this);this.L=a;this.n={};this.ff={};this.Xb=[];Rf?ng(this,new dg(this)):Sf?ng(this,new bg(this)):(a=new Uf(this),ng(this,a),Qf&&ng(this,new fg(this,a)));a=this.Xb.length;for(var b,c=0;c<a;c++)b=this.Xb[c],og(this,xb(b.dd))}H(mg,W);function ng(a,b){var c=xb(b.dd);c&&(J(c,function(a){var c=b.dd[a];c&&(this.ff[a]=D(c,b))},a),a.Xb.push(b))}l=mg.prototype;l.ef=function(a){var b=this.ff[a.type];b&&b(a)};function og(a,b){J(b,function(a){U(this.L,a,this.ef,!1,this)},a)}
function pg(a,b){J(b,function(a){se(this.L,a,this.ef,!1,this)},a)}function Xf(a,b){for(var c={},d,e=0,f=qg.length;e<f;e++)d=qg[e][0],c[d]=a[d]||b[d]||qg[e][1];return c}l.move=function(a,b){this.fireEvent(rg,a,b)};l.eb=function(a,b){a.bubbles=!0;this.fireEvent(sg,a,b)};l.cancel=function(a,b){this.fireEvent(tg,a,b)};function ag(a,b,c){a.eb(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(lg,b,c))}
function $f(a,b,c){b.bubbles=!0;a.fireEvent(jg,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(kg,b,c))}l.fireEvent=function(a,b,c){this.dispatchEvent(new Ef(a,c,b))};function eg(a,b){a.dispatchEvent(new Ef(b.type,b,b.f))}l.h=function(){for(var a=this.Xb.length,b,c=0;c<a;c++)b=this.Xb[c],pg(this,xb(b.dd));mg.N.h.call(this)};
var rg="pointermove",Yf="pointerdown",Zf="pointerup",jg="pointerover",sg="pointerout",kg="pointerenter",lg="pointerleave",tg="pointercancel",qg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function ug(a,b,c,d){Df.call(this,a,b,d);this.r=c;this.originalEvent=c.f;c=this.originalEvent;v(c.changedTouches)?(a=c.changedTouches[0],c=Te(b.w),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.w,c=Te(c),a=Te(a),a=new P(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.Zb(this.pixel)}H(ug,Df);ug.prototype.preventDefault=function(){ug.N.preventDefault.call(this);this.r.preventDefault()};ug.prototype.stopPropagation=function(){ug.N.stopPropagation.call(this);this.r.stopPropagation()};
function vg(a,b,c,d){ug.call(this,a,b,c.r,d);this.fb=c}H(vg,ug);function wg(a){W.call(this);this.a=a;this.Rb=0;this.Ud=!1;this.Lc=this.kd=this.Za=null;a=this.a.w;this.Qe=0;this.Ke={};this.Ib=new mg(a);this.Ia=null;this.kd=U(this.Ib,Yf,this.sh,!1,this);this.ve=U(this.Ib,rg,this.Fi,!1,this)}H(wg,W);
function xg(a,b){var c;c=new vg(yg,a.a,b);a.dispatchEvent(c);0!==a.Rb?(s.clearTimeout(a.Rb),a.Rb=0,c=new vg(zg,a.a,b),a.dispatchEvent(c)):a.Rb=s.setTimeout(D(function(){this.Rb=0;var a=new vg(Ag,this.a,b);this.dispatchEvent(a)},a),250)}function Bg(a,b){b.type==Cg||b.type==Dg?delete a.Ke[b.pointerId]:b.type==Eg&&(a.Ke[b.pointerId]=!0);a.Qe=vb(a.Ke)}l=wg.prototype;
l.va=function(a){Bg(this,a);var b=new vg(Cg,this.a,a);this.dispatchEvent(b);0===this.Qe&&(J(this.Za,V),this.Za=null,Xd(this.Ia),this.Ia=null);!this.Ud&&0===a.button&&xg(this,this.Lc)};l.sh=function(a){Bg(this,a);var b=new vg(Eg,this.a,a);this.dispatchEvent(b);this.Lc=a;this.Ud=!1;null===this.Za&&(this.Ia=new mg(document),this.Za=[U(this.Ia,Fg,this.th,!1,this),U(this.Ia,Cg,this.va,!1,this),U(this.Ib,Dg,this.va,!1,this)]);a.preventDefault()};
l.th=function(a){if(a.clientX!=this.Lc.clientX||a.clientY!=this.Lc.clientY){this.Ud=!0;var b=new vg(Gg,this.a,a);this.dispatchEvent(b)}a.preventDefault()};l.Fi=function(a){this.dispatchEvent(new vg(a.type,this.a,a))};l.h=function(){null!==this.ve&&(V(this.ve),this.ve=null);null!==this.kd&&(V(this.kd),this.kd=null);null!==this.Za&&(J(this.Za,V),this.Za=null);null!==this.Ia&&(Xd(this.Ia),this.Ia=null);null!==this.Ib&&(Xd(this.Ib),this.Ib=null);wg.N.h.call(this)};
var Ag="singleclick",yg="click",zg="dblclick",Gg="pointerdrag",Fg="pointermove",Eg="pointerdown",Cg="pointerup",Dg="pointercancel",Hg={Kj:Ag,yj:yg,zj:zg,Dj:Gg,Gj:Fg,Cj:Eg,Jj:Cg,Ij:"pointerover",Hj:"pointerout",Ej:"pointerenter",Fj:"pointerleave",Bj:Dg};function Ig(){Ge.call(this);this.a=null}H(Ig,Ge);Ig.prototype.Ma=k("a");Ig.prototype.setMap=aa("a");function Jg(a,b,c,d,e){if(null!=c){var f=b.qb(),g=b.ja();v(f)&&(v(g)&&v(e)&&0<e)&&(a.ga(Bf({rotation:f,duration:e,K:xf})),v(d)&&a.ga(Af({source:g,duration:e,K:xf})));b.rotate(c,d)}}function Kg(a,b,c,d,e){var f=b.t();c=uf(b,f,c,0);Lg(a,b,c,d,e)}
function Lg(a,b,c,d,e){if(null!=c){var f=b.t(),g=b.ja();v(f)&&(v(g)&&v(e)&&0<e)&&(a.ga(Cf({e:f,duration:e,K:xf})),v(d)&&a.ga(Af({source:g,duration:e,K:xf})));null!=d&&(a=vf(b,c,d),b.Ea(a));b.xc(c)}};function Mg(){Ig.call(this);this.j=0;this.wa=null;this.Ld=!1;this.Uc=null}H(Mg,Ig);Mg.prototype.setMap=function(a){Mg.N.setMap.call(this,a);a&&(a=a.g(),U(a,tf("center"),function(){this.Ld||(this.wa=null)},!1,this))};Mg.prototype.ua=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.r;this.wa=a.coordinate;var d=c.Rd/12;this.j=0<this.j==0<c.Rd?this.j+d:d;this.j=rb(this.j,-1.5,1.5);null==this.Uc&&(this.Uc=s.setInterval(D(this.Td,this,b),125));a.preventDefault();b=!0}return!b};
Mg.prototype.Td=function(a){var b=a.g(),c=b.u(),d=c.e,c=c.center;v(d)&&v(c)&&(a.ga(Cf({e:d,duration:125,K:zf})),this.wa&&a.ga(Af({source:c,duration:125,K:zf})));rb(this.j,-1,1);a=Math.pow(2,this.j)*d;a=rb(a,b.Zh,b.Kf);this.wa&&(d=vf(b,a,this.wa),this.Ld=!0,b.Ea(d),this.Ld=!1);b.xc(a);this.j/=2;0.01>Math.abs(this.j)&&(this.j=0,s.clearInterval(this.Uc),this.Uc=null)};function Ng(a,b,c){Td.call(this);this.Qh=a;this.Dh=c;this.pa=b||window;this.Id=D(this.Qg,this)}H(Ng,Td);l=Ng.prototype;l.R=null;l.Ne=!1;l.start=function(){this.stop();this.Ne=!1;var a=Og(this),b=Pg(this);a&&!b&&this.pa.mozRequestAnimationFrame?(this.R=U(this.pa,"MozBeforePaint",this.Id),this.pa.mozRequestAnimationFrame(null),this.Ne=!0):this.R=a&&b?a.call(this.pa,this.Id):this.pa.setTimeout(uc(this.Id),20)};
l.stop=function(){if(null!=this.R){var a=Og(this),b=Pg(this);a&&!b&&this.pa.mozRequestAnimationFrame?V(this.R):a&&b?b.call(this.pa,this.R):this.pa.clearTimeout(this.R)}this.R=null};l.Qg=function(){this.Ne&&this.R&&V(this.R);this.R=null;this.Qh.call(this.Dh,ra())};l.h=function(){this.stop();Ng.N.h.call(this)};function Og(a){a=a.pa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}
function Pg(a){a=a.pa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};var Qg;
function Rg(){var a=s.MessageChannel;"undefined"===typeof a&&("undefined"!==typeof window&&window.postMessage&&window.addEventListener)&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.body.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=D(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);
this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Te;c.Te=null;a()};return function(a){d.next={Te:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:
function(a){s.setTimeout(a,0)}};function Sg(){this.Yf=ra()}new Sg;Sg.prototype.set=aa("Yf");Sg.prototype.get=k("Yf");function Tg(a){W.call(this);this.Fc=a||window;this.ad=U(this.Fc,"resize",this.vh,!1,this);this.Fa=Jb(this.Fc||window)}H(Tg,W);l=Tg.prototype;l.ad=null;l.Fc=null;l.Fa=null;l.Na=function(){return this.Fa?this.Fa.ia():null};l.h=function(){Tg.N.h.call(this);this.ad&&(V(this.ad),this.ad=null);this.Fa=this.Fc=null};l.vh=function(){var a=Jb(this.Fc||window);a==this.Fa||a&&this.Fa&&a.width==this.Fa.width&&a.height==this.Fa.height||(this.Fa=a,this.dispatchEvent("resize"))};function Ug(a,b,c,d,e){if(!(L||M&&O("525")))return!0;if(Ta&&e)return Vg(a);if(e&&!d||!c&&(17==b||18==b||Ta&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(L&&d&&b==a)return!1;switch(a){case 13:return!(L&&L&&9<=mb);case 27:return!M}return Vg(a)}
function Vg(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Wg(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function Xg(a,b){W.call(this);a&&Yg(this,a,b)}H(Xg,W);l=Xg.prototype;l.L=null;l.Xc=null;l.ie=null;l.Yc=null;l.U=-1;l.Oa=-1;l.Cd=!1;
var Zg={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},$g={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ah=L||M&&O("525"),bh=Ta&&$a;l=Xg.prototype;
l.jh=function(a){M&&(17==this.U&&!a.ctrlKey||18==this.U&&!a.altKey||Ta&&91==this.U&&!a.metaKey)&&(this.Oa=this.U=-1);-1==this.U&&(a.ctrlKey&&17!=a.keyCode?this.U=17:a.altKey&&18!=a.keyCode?this.U=18:a.metaKey&&91!=a.keyCode&&(this.U=91));ah&&!Ug(a.keyCode,this.U,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Oa=$a?Wg(a.keyCode):a.keyCode,bh&&(this.Cd=a.altKey))};l.kh=function(a){this.Oa=this.U=-1;this.Cd=a.altKey};
l.handleEvent=function(a){var b=a.f,c,d,e=b.altKey;L&&"keypress"==a.type?(c=this.Oa,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Oa,d=0<=b.charCode&&63232>b.charCode&&Vg(c)?b.charCode:0):Za?(c=this.Oa,d=Vg(c)?b.keyCode:0):(c=b.keyCode||this.Oa,d=b.charCode||0,bh&&(e=this.Cd),Ta&&(63==d&&224==c)&&(c=191));var f=c,g=b.keyIdentifier;c?63232<=c&&c in Zg?f=Zg[c]:25==c&&a.shiftKey&&(f=9):g&&g in $g&&(f=$g[g]);a=f==this.U;this.U=f;b=new ch(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function Yg(a,b,c){a.Yc&&a.detach();a.L=b;a.Xc=U(a.L,"keypress",a,c);a.ie=U(a.L,"keydown",a.jh,c,a);a.Yc=U(a.L,"keyup",a.kh,c,a)}l.detach=function(){this.Xc&&(V(this.Xc),V(this.ie),V(this.Yc),this.Yc=this.ie=this.Xc=null);this.L=null;this.Oa=this.U=-1};l.h=function(){Xg.N.h.call(this);this.detach()};function ch(a,b,c,d){d&&be(this,d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}H(ch,ae);function dh(a,b,c){T.call(this,a,c);this.element=b}H(dh,T);function eh(a){pf.call(this);this.fa=a||[];fh(this)}H(eh,pf);l=eh.prototype;l.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};l.forEach=function(a,b){J(this.fa,a,b)};l.item=function(a){return this.fa[a]};l.pop=function(){return gh(this,this.get("length")-1)};l.push=function(a){var b=this.fa.length;Ha(this.fa,b,0,a);fh(this);this.dispatchEvent(new dh("add",a,this));return b};
l.remove=function(a){var b=this.fa,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return gh(this,c)};function gh(a,b){var c=a.fa[b];I.splice.call(a.fa,b,1);fh(a);a.dispatchEvent(new dh("remove",c,a));return c}function fh(a){a.set("length",a.fa.length)};function Y(a){pf.call(this);a=Ab(a);a.kb=v(a.kb)?a.kb:0;a.ob=v(a.ob)?a.ob:1;a.yb=v(a.yb)?a.yb:0;a.opacity=v(a.opacity)?a.opacity:1;a.Kb=v(a.Kb)?a.Kb:1;a.visible=v(a.visible)?a.visible:!0;a.Aa=v(a.Aa)?a.Aa:Infinity;a.Qa=v(a.Qa)?a.Qa:0;this.wc(a)}H(Y,pf);Y.prototype.mf=function(){return this.get("brightness")};Y.prototype.getBrightness=Y.prototype.mf;Y.prototype.nf=function(){return this.get("contrast")};Y.prototype.getContrast=Y.prototype.nf;Y.prototype.of=function(){return this.get("hue")};
Y.prototype.getHue=Y.prototype.of;function hh(a){var b=a.mf(),c=a.nf(),d=a.of(),e=a.rf(),f=a.sf(),g=a.tf(),h=a.ee(),m=a.J(),n=a.pf(),p=a.qf();return{$c:a,kb:v(b)?rb(b,-1,1):0,ob:v(c)?Math.max(c,0):1,yb:v(d)?d:0,opacity:v(e)?rb(e,0,1):1,Kb:v(f)?Math.max(f,0):1,lg:g,visible:v(h)?!!h:!0,b:m,Aa:v(n)?n:Infinity,Qa:v(p)?Math.max(p,0):0}}Y.prototype.J=function(){return this.get("extent")};Y.prototype.getExtent=Y.prototype.J;Y.prototype.pf=function(){return this.get("maxResolution")};
Y.prototype.getMaxResolution=Y.prototype.pf;Y.prototype.qf=function(){return this.get("minResolution")};Y.prototype.getMinResolution=Y.prototype.qf;Y.prototype.rf=function(){return this.get("opacity")};Y.prototype.getOpacity=Y.prototype.rf;Y.prototype.sf=function(){return this.get("saturation")};Y.prototype.getSaturation=Y.prototype.sf;Y.prototype.ee=function(){return this.get("visible")};Y.prototype.getVisible=Y.prototype.ee;Y.prototype.Ki=function(a){this.set("brightness",a)};
Y.prototype.setBrightness=Y.prototype.Ki;Y.prototype.Li=function(a){this.set("contrast",a)};Y.prototype.setContrast=Y.prototype.Li;Y.prototype.Ni=function(a){this.set("hue",a)};Y.prototype.setHue=Y.prototype.Ni;Y.prototype.ig=function(a){this.set("extent",a)};Y.prototype.setExtent=Y.prototype.ig;Y.prototype.Pi=function(a){this.set("maxResolution",a)};Y.prototype.setMaxResolution=Y.prototype.Pi;Y.prototype.Qi=function(a){this.set("minResolution",a)};Y.prototype.setMinResolution=Y.prototype.Qi;
Y.prototype.Ri=function(a){this.set("opacity",a)};Y.prototype.setOpacity=Y.prototype.Ri;Y.prototype.Ti=function(a){this.set("saturation",a)};Y.prototype.setSaturation=Y.prototype.Ti;Y.prototype.Yi=function(a){this.set("visible",a)};Y.prototype.setVisible=Y.prototype.Yi;function ih(a){var b=Ab(a);delete b.source;Y.call(this,b);this.yc=a.source;U(this.yc,"change",this.xh,!1,this)}H(ih,Y);ih.prototype.$d=function(a){a=v(a)?a:[];a.push(hh(this));return a};ih.prototype.tf=function(){return this.yc.u()};ih.prototype.xh=function(){this.Z()};function jh(a,b){Td.call(this);this.Wh=a;this.oe=b}H(jh,Td);jh.prototype.Ma=function(){return this.Wh.Ma()};function kh(a,b){b.Qb()&&a.oc.push(qa(function(a,b,e){b=z(a).toString();a.Vd(e.yd[b])},b))}function lh(a,b){var c=b.Sh;v(c)&&(x(c)?a.Fb[c]="":la(c)&&(a.Fb[c.src]=c.href))}function mh(a,b,c,d){b=z(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function nh(a,b,c,d){return function(e,f,g){e=Me(b,e,f,g,c,d);return a(e)?e:null}}
function oh(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function ph(a,b,c,d,e,f,g,h){var m=z(b).toString();m in a.Ob||(a.Ob[m]={});var n=a.Ob[m];a=a.hj;var p=c.Ba,q,r,t,u,y,w;v(h)||(h=0);for(w=g;w>=p;--w)for(r=Id(c,f,w,r),t=c.t(w),u=r.l;u<=r.H;++u)for(y=r.p;y<=r.k;++y)if(g-w<=h){q=Me(b,w,u,y,d,e);if(0==q.u()&&(n[Sc(q.q)]=!0,!(q.getKey()in a.od))){var E=a,G=q,B=m,C=c,A=q.q,K=C.bc(A[0]),ha=C.t(A[0]),C=Ld(C,A[0]),G=[G,B,[K[0]+(A[1]+0.5)*C*ha,K[1]+(A[2]+0.5)*C*ha],t],B=E.Vf(G);Infinity!=B&&(E.sa.push(G),E.pc.push(B),E.od[E.je(G)]=!0,qh(E,0,E.sa.length-1))}v(void 0)&&
(void 0).call(void 0,q)}else b.yg(w,u,y)};function rh(){this.lb={};this.Hd=0;this.Xh=32}rh.eh=function(){return rh.Bf?rh.Bf:rh.Bf=new rh};rh.prototype.get=function(a,b){var c=b+":"+a;return c in this.lb?this.lb[c]:null};rh.prototype.set=function(a,b,c){this.lb[b+":"+a]=c;++this.Hd};function sh(a,b,c,d,e,f,g,h){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;0===b&&0===c||$c(a,b,c);1==d&&1==e||Zc(a,a[0]*d,a[1]*d,a[2]*d,a[3]*d,a[4]*e,a[5]*e,a[6]*e,a[7]*e,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15]);if(0!==f){b=a[0];c=a[1];d=a[2];e=a[3];var m=a[4],n=a[5],p=a[6],q=a[7],r=Math.cos(f);f=Math.sin(f);a[0]=b*r+m*f;a[1]=c*r+n*f;a[2]=d*r+p*f;a[3]=e*r+q*f;a[4]=b*-f+m*r;a[5]=c*-f+n*r;a[6]=d*-f+p*r;a[7]=e*-f+
q*r}0===g&&0===h||$c(a,g,h);return a}function th(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function uh(a,b){Td.call(this);this.a=b;this.cg=null;this.la={}}H(uh,Td);
function vh(a){var b=a.i,c=a.Ze;sh(c,a.size[0]/2,a.size[1]/2,1/b.e,-1/b.e,-b.rotation,-b.center[0],-b.center[1]);a=a.Tf;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],r=c[10],t=c[11],u=c[12],y=c[13],w=c[14],c=c[15],E=b*h-d*g,G=b*m-e*g,B=b*n-f*g,C=d*m-e*h,A=d*n-f*h,K=e*n-f*m,ha=p*y-q*u,Aa=p*w-r*u,Ia=p*c-t*u,da=q*w-r*y,F=q*c-t*y,S=r*c-t*w,N=E*S-G*F+B*da+C*Ia-A*Aa+K*ha;0!=N&&(N=1/N,a[0]=(h*S-m*F+n*da)*N,a[1]=(-d*S+e*F-f*da)*N,a[2]=(y*K-w*A+c*C)*N,a[3]=(-q*K+r*A-t*C)*N,a[4]=
(-g*S+m*Ia-n*Aa)*N,a[5]=(b*S-e*Ia+f*Aa)*N,a[6]=(-u*K+w*B-c*G)*N,a[7]=(p*K-r*B+t*G)*N,a[8]=(g*F-h*Ia+n*ha)*N,a[9]=(-b*F+d*Ia-f*ha)*N,a[10]=(u*A-y*B+c*E)*N,a[11]=(-p*A+q*B-t*E)*N,a[12]=(-g*da+h*Aa-m*ha)*N,a[13]=(b*da-d*Aa+e*ha)*N,a[14]=(-u*C+y*G-w*E)*N,a[15]=(p*C-q*G+r*E)*N)}l=uh.prototype;l.Pd=function(a){return new jh(this,a)};l.h=function(){tb(this.la,Xd);uh.N.h.call(this)};
function wh(){var a=rh.eh();if(a.Hd>a.Xh){var b=0,c,d;for(c in a.lb)d=a.lb[c],0!==(b++&3)||ue(d)||(delete a.lb[c],--a.Hd)}}function xh(a,b){var c=z(b).toString();if(c in a.la)return a.la[c];var d=a.Pd(b);return a.la[c]=d}l.Ma=k("a");l.we=ea;l.Gi=function(a,b){for(var c in this.la)if(!(null!==b&&c in b.me)){var d=this.la[c];delete this.la[c];Xd(d)}};function yh(a,b){for(var c in a.la)if(!(c in b.me)){b.oc.push(D(a.Gi,a));break}};function zh(a,b){this.Vf=a;this.je=b;this.sa=[];this.pc=[];this.od={}}zh.prototype.$b=function(){return this.sa.length};zh.prototype.Bb=function(){return 0===this.sa.length};function Ah(a,b){for(var c=a.sa,d=a.pc,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;qh(a,h,b)}function qh(a,b,c){var d=a.sa;a=a.pc;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f};function Bh(a,b){zh.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.fj=b;this.Cc=0}H(Bh,zh);Bh.prototype.zh=function(){--this.Cc;this.fj()};var Ch=!!s.DOMTokenList,Dh=Ch?function(a){return a.classList}:function(a){a=a.className;return x(a)&&a.match(/\S+/g)||[]},Eh=Ch?function(a,b){return a.classList.contains(b)}:function(a,b){var c=Dh(a);return 0<=za(c,b)},Fh=Ch?function(a,b){a.classList.add(b)}:function(a,b){Eh(a,b)||(a.className+=0<a.className.length?" "+b:b)},Gh=Ch?function(a,b){a.classList.remove(b)}:function(a,b){Eh(a,b)&&(a.className=Ba(Dh(a),function(a){return a!=b}).join(" "))};function Hh(a){pf.call(this);this.element=v(a.element)?a.element:null;this.og=v(a.target)?Gb(a.target):null;this.a=null;this.bd=[]}H(Hh,pf);Hh.prototype.h=function(){Pb(this.element);Hh.N.h.call(this)};Hh.prototype.Ma=k("a");Hh.prototype.Rc=ea;
Hh.prototype.setMap=function(a){null===this.a||Pb(this.element);0!=this.bd.length&&(J(this.bd,V),this.bd.length=0);this.a=a;null!==this.a&&((null===this.og?a.qe:this.og).appendChild(this.element),this.Rc!==ea&&this.bd.push(U(a,"postrender",this.Rc,!1,this)),Z(a))};function Ih(a){a=v(a)?a:{};this.xd=document.createElement("UL");this.cd=document.createElement("LI");this.xd.appendChild(this.cd);Xe(this.cd,!1);this.nb=v(a.collapsed)?a.collapsed:!0;this.Hc=v(a.Lg)?a.Lg:!0;this.Hc||(this.nb=!1);var b=v(a.className)?a.className:"ol-attribution",c=R("SPAN",{role:"tooltip"},v(a.Je)?a.Je:"Attributions");this.Ue=v(a.Kg)?a.Kg:"\u00bb";this.cb=v(a.label)?a.label:"i";this.Df=R("SPAN",{},this.Hc&&!this.nb?this.Ue:this.cb);var d=R("BUTTON",{"class":"ol-has-tooltip",type:"button"},
this.Df);d.appendChild(c);c=new mg(d);Wd(this,c);U(c,Zf,this.va,!1,this);U(d,"click",this.sb,!1,this);U(d,["mouseout",Zd],function(){this.blur()},!1);b=R("DIV",{"class":b+" ol-unselectable ol-control"+(this.nb&&this.Hc?" ol-collapsed":"")+(this.Hc?"":" ol-uncollapsible")},this.xd,d);Hh.call(this,{element:b,target:a.target});this.B=!0;this.Wa={};this.Ga={};this.Rh={}}H(Ih,Hh);
Ih.prototype.Rc=function(a){a=a.frameState;if(null===a)this.B&&(Xe(this.element,!1),this.B=!1);else{var b,c,d,e,f,g,h,m,n,p=a.ne,q=Ab(a.Xa),r={};c=0;for(b=p.length;c<b;c++)if(d=p[c].$c.yc,n=z(d).toString(),m=d.Eg,null!==m)for(d=0,e=m.length;d<e;d++)g=m[d],h=z(g).toString(),h in q||(f=a.yd[n],v(f)&&g.fk(f)?(h in r&&delete r[h],q[h]=g):r[h]=g);b=[q,r];c=b[0];b=b[1];for(var t in this.Wa)t in c?(this.Ga[t]||(Xe(this.Wa[t],!0),this.Ga[t]=!0),delete c[t]):t in b?(this.Ga[t]&&(Xe(this.Wa[t],!1),delete this.Ga[t]),
delete b[t]):(Pb(this.Wa[t]),delete this.Wa[t],delete this.Ga[t]);for(t in c)n=document.createElement("LI"),n.innerHTML=c[t].dh(),this.xd.appendChild(n),this.Wa[t]=n,this.Ga[t]=!0;for(t in b)n=document.createElement("LI"),n.innerHTML=b[t].dh(),Xe(n,!1),this.xd.appendChild(n),this.Wa[t]=n;t=!yb(this.Ga)||!yb(a.Fb);this.B!=t&&(Xe(this.element,t),this.B=t);t&&yb(this.Ga)?Fh(this.element,"ol-logo-only"):Gh(this.element,"ol-logo-only");var u;a=a.Fb;t=this.Rh;for(u in t)u in a||(Pb(t[u]),delete t[u]);for(var y in a)y in
t||(u=new Image,u.src=y,c=a[y],""===c?c=u:(c=R("A",{href:c,target:"_blank"}),c.appendChild(u)),this.cd.appendChild(c),t[y]=c);Xe(this.cd,!yb(a))}};Ih.prototype.sb=function(a){0!==a.screenX&&0!==a.screenY||Jh(this)};Ih.prototype.va=function(a){a.r.preventDefault();Jh(this)};
function Jh(a){var b=a.element;Eh(b,"ol-collapsed")?Gh(b,"ol-collapsed"):Fh(b,"ol-collapsed");var b=a.Df,c=a.nb?a.Ue:a.cb;if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=c}else{for(var d;d=b.firstChild;)b.removeChild(d);b.appendChild(Fb(b).createTextNode(String(c)))}a.nb=!a.nb};function Kh(a){a=v(a)?a:{};var b=v(a.className)?a.className:"ol-rotate";this.cb=R("SPAN",{"class":"ol-compass"},v(a.label)?a.label:"\u21e7");var c=R("SPAN",{role:"tooltip"},v(a.Je)?a.Je:"Reset rotation"),c=R("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.cb),d=new mg(c);Wd(this,d);U(d,Zf,Kh.prototype.va,!1,this);U(c,"click",Kh.prototype.sb,!1,this);U(c,["mouseout",Zd],function(){this.blur()},!1);b=R("DIV",b+" ol-unselectable ol-control",c);Hh.call(this,{element:b,
target:a.target});this.T=v(a.duration)?a.duration:250;this.Re=v(a.Fg)?a.Fg:!0;this.gg=void 0;b.style.opacity=this.Re?0:1}H(Kh,Hh);Kh.prototype.sb=function(a){0!==a.screenX&&0!==a.screenY||Lh(this)};Kh.prototype.va=function(a){a.r.preventDefault();Lh(this)};function Lh(a){for(var b=a.Ma(),c=b.g(),d=c.qb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;v(d)&&(0<a.T&&b.ga(Bf({rotation:d,duration:a.T,K:xf})),c.ze(0))}
Kh.prototype.Rc=function(a){a=a.frameState;if(null!==a){a=a.i.rotation;if(a!=this.gg){var b="rotate("+180*a/Math.PI+"deg)";this.Re&&(this.element.style.opacity=0===a?0:1);this.cb.style.msTransform=b;this.cb.style.webkitTransform=b;this.cb.style.transform=b}this.gg=a}};function Mh(a){a=v(a)?a:{};var b=v(a.className)?a.className:"ol-zoom",c=v(a.Ya)?a.Ya:1,d=v(a.uj)?a.uj:"+",e=v(a.wj)?a.wj:"\u2212",f=v(a.xj)?a.xj:"Zoom out",g=R("SPAN",{role:"tooltip"},v(a.vj)?a.vj:"Zoom in"),d=R("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new mg(d);Wd(this,g);U(g,Zf,qa(Mh.prototype.va,c),!1,this);U(d,"click",qa(Mh.prototype.sb,c),!1,this);U(d,["mouseout",Zd],function(){this.blur()},!1);f=R("SPAN",{role:"tooltip"},f);e=R("BUTTON",{"class":b+"-out  ol-has-tooltip",
type:"button"},f,e);f=new mg(e);Wd(this,f);U(f,Zf,qa(Mh.prototype.va,-c),!1,this);U(e,"click",qa(Mh.prototype.sb,-c),!1,this);U(e,["mouseout",Zd],function(){this.blur()},!1);b=R("DIV",b+" ol-unselectable ol-control",d,e);Hh.call(this,{element:b,target:a.target});this.T=v(a.duration)?a.duration:250}H(Mh,Hh);Mh.prototype.sb=function(a,b){0!==b.screenX&&0!==b.screenY||Nh(this,a)};Mh.prototype.va=function(a,b){b.r.preventDefault();Nh(this,a)};
function Nh(a,b){var c=a.Ma(),d=c.g(),e=d.t();v(e)&&(0<a.T&&c.ga(Cf({e:e,duration:a.T,K:xf})),c=uf(d,e,b),d.xc(c))};function Oh(a,b,c){this.Qd=a;this.ed=b;this.Og=c;this.Y=[];this.zb=this.Dd=0}Oh.prototype.update=function(a,b){this.Y.push(a,b,ra())};Oh.prototype.end=function(){if(6>this.Y.length)return!1;var a=ra()-this.Og,b=this.Y.length-3;if(this.Y[b+2]<a)return!1;for(var c=b-3;0<c&&this.Y[c+2]>a;)c-=3;var a=this.Y[b+2]-this.Y[c+2],d=this.Y[b]-this.Y[c],b=this.Y[b+1]-this.Y[c+1];this.Dd=Math.atan2(b,d);this.zb=Math.sqrt(d*d+b*b)/a;return this.zb>this.ed};
function Ph(a,b){var c=a.Qd,d=a.zb,e=a.ed-d,f=Math.log(a.ed/a.zb)/a.Qd;return Af({source:b,duration:f,K:function(a){return d*(Math.exp(c*a*f)-1)/e}})};function Qh(a){a=v(a)?a:{};this.j=v(a.Ya)?a.Ya:1;Ig.call(this);this.T=v(a.duration)?a.duration:250}H(Qh,Ig);Qh.prototype.ua=function(a){var b=!1,c=a.r;if(a.type==zg){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.j:this.j,e=b.g();Kg(b,e,c,d,this.T);a.preventDefault();b=!0}return!b};function Rh(a){a=a.r;return a.altKey&&!a.jd&&a.shiftKey}function Sh(a){a=a.r;return!a.altKey&&!a.jd&&!a.shiftKey}function Th(a){a=a.r;return!a.altKey&&!a.jd&&a.shiftKey}function Uh(a){a=a.r.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function Vh(){Ig.call(this);this.xb=!1;this.Ec={};this.O=[]}H(Vh,Ig);function Wh(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}l=Vh.prototype;l.ub=ea;l.vb=rc;l.tb=rc;
l.ua=function(a){if(!(a instanceof vg))return!0;var b=!1,c=a.type;if(c===Eg||c===Gg||c===Cg)c=a.fb,a.type==Cg?delete this.Ec[c.pointerId]:a.type==Eg?this.Ec[c.pointerId]=c:c.pointerId in this.Ec&&(this.Ec[c.pointerId]=c),this.O=wb(this.Ec);this.xb&&(a.type==Gg?this.ub(a):a.type==Cg&&(this.xb=this.vb(a)));a.type==Eg&&(this.xb=a=this.tb(a),b=this.kg(a));return!b};l.kg=rc;function Xh(a){Vh.call(this);this.aa=(v(a)?a:{}).Oh;this.Cb=this.hc=null;this.ra=v(a.V)?a.V:Sh;this.Nf=!1}H(Xh,Vh);Xh.prototype.ub=function(a){var b=Wh(this.O);this.aa&&this.aa.update(b[0],b[1]);if(null!==this.Cb){var c=this.Cb[0]-b[0],d=b[1]-this.Cb[1];a=a.map;var e=a.g(),f=e.u(),d=c=[c,d],g=f.e;d[0]*=g;d[1]*=g;bd(c,f.rotation);ad(c,f.center);c=e.Tb.center(c);Z(a);e.Ea(c)}this.Cb=b};
Xh.prototype.vb=function(a){a=a.map;var b=a.g();if(0===this.O.length){if(!this.Nf&&this.aa&&this.aa.end()){var c=(this.aa.ed-this.aa.zb)/this.aa.Qd,d=this.aa.Dd,e=b.ja();this.hc=Ph(this.aa,e);a.ga(this.hc);var f;f=a.ab;null===f?f=null:(e=e.slice(0,2),f=th(f.Ze,e,e));c=a.Zb([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Tb.center(c);b.Ea(c)}wf(b,-1);Z(a);return!1}this.Cb=null;return!0};
Xh.prototype.tb=function(a){if(0<this.O.length&&this.ra(a)){var b=a.map,c=b.g();this.Cb=null;this.xb||wf(c,1);Z(b);null!==this.hc&&Ea(b.nd,this.hc)&&(c.Ea(a.frameState.i.center),this.hc=null);this.aa&&(a=this.aa,a.Y.length=0,a.Dd=0,a.zb=0);this.Nf=1<this.O.length;return!0}return!1};function Yh(a){a=v(a)?a:{};Vh.call(this);this.ra=v(a.V)?a.V:Rh;this.xa=void 0}H(Yh,Vh);Yh.prototype.ub=function(a){if(1==a.fb.pointerId){var b=a.map,c=b.Na();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(v(this.xa)){a=c-this.xa;var d=b.g(),e=d.u();Z(b);Jg(b,d,e.rotation-a)}this.xa=c}};Yh.prototype.vb=function(a){if(1!=a.fb.pointerId)return!0;a=a.map;var b=a.g();wf(b,-1);var c=b.u().rotation,c=b.Nd(c,0);Jg(a,b,c,void 0,250);return!1};
Yh.prototype.tb=function(a){return 1!=a.fb.pointerId||!de(a.r)||M&&Ta&&a.r.ctrlKey||!this.ra(a)?!1:(a=a.map,wf(a.g(),1),Z(a),this.xa=void 0,!0)};function Zh(){Ge.call(this);this.b=void 0;this.gf=-1;this.nk={};this.pk=this.ok=0}H(Zh,Ge);Zh.prototype.Jc=rc;Zh.prototype.transform=function(a,b){var c=td(a),d=td(b),c=c.Sb,d=d.Sb,e;c in md&&d in md[c]&&(e=md[c][d]);v(e)||(e=ud);null!==this.C&&(e(this.C,this.C,this.D),this.Z());return this};function $h(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=v(f)?f:[],r=0;b<c;b+=d){var t=a[b],u=a[b+1];q[r++]=g*t+m*u+p;q[r++]=h*t+n*u+e}v(f)&&q.length!=r&&(q.length=r);return q};function ai(){Zh.call(this);this.jc="XY";this.D=2;this.C=null}H(ai,Zh);function bi(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}ai.prototype.Jc=rc;
ai.prototype.J=function(a){if(this.gf!=this.Da){for(var b=this.C,c=this.C.length,d=this.D,e=cd(Infinity,Infinity,-Infinity,-Infinity,this.b),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.b=e;this.gf=this.Da}b=this.b;v(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function ci(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function di(a,b,c,d,e){if(0===b.length||!ci(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(ci(a,b[f-1],b[f],c,d,e))return!1;return!0};function ei(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function fi(a,b){ai.call(this);this.$=[];this.kf=-1;this.lf=null;this.Qf=this.jk=this.kk=-1;this.lc=null;if(null===a){var c=this.$;this.D=bi("XY");this.jc="XY";this.C=null;this.$=c}else{a:{var c=b,d=a;if(v(c))d=bi(c);else{for(c=0;2>c;++c){if(0===d.length){this.jc="XY";this.D=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.jc=c;this.D=d}null===this.C&&(this.C=[]);var c=this.C,d=this.D,e=this.$,f=0,e=v(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],q=
d,r=void 0,t=void 0,r=0,t=p.length;r<t;++r){var u=p[r],y;for(y=0;y<q;++y)n[f++]=u[y]}n=f;f=e[g++]=n}e.length=g;this.C.length=0===e.length?0:e[e.length-1]}this.Z()}H(fi,ai);fi.prototype.ia=function(){var a=new fi(null),b=this.jc,c=this.C.slice(),d=this.$.slice();a.D=bi(b);a.jc=b;a.C=c;a.$=d;a.Z();return a};fi.prototype.Jc=function(a,b){return di(gi(this),this.$,this.D,a,b)};
function gi(a){if(a.Qf!=a.Da){var b=a.C,c;a:{c=a.$;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=ei(b,d,g,a.D);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.lc=b;else{a.lc=b.slice();c=b=a.lc;e=a.$;f=a.D;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=ei(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var r;for(r=0;r<q;++r){var t=n[h+r];n[h+r]=n[p-q+r];n[p-q+r]=t}h+=q;p-=q}h=m}b.length=h}a.Qf=a.Da}return a.lc}fi.prototype.ce=ba("Polygon");function hi(a,b,c,d,e,f,g){T.call(this,a,b);this.vectorContext=c;this.cg=d;this.frameState=e;this.context=f;this.glContext=g}H(hi,T);function ii(a){this.Pc=this.Mc=this.da=this.md=this.a=null;this.bj=a}H(ii,Td);function ji(a){var b=a.da,c=a.Mc;a=Ca([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.Zb,a.a);a[4]=a[0].slice();return new fi([a])}ii.prototype.h=function(){this.setMap(null)};ii.prototype.rh=function(a){var b=this.Pc,c=this.bj;ki(a.vectorContext,function(a){a.Mi(c.hf,c.ng);a.Vi(c.P);a.df(b)})};ii.prototype.Yd=k("Pc");function li(a){null===a.a||(null===a.da||null===a.Mc)||Z(a.a)}
ii.prototype.setMap=function(a){null!==this.md&&(V(this.md),this.md=null,Z(this.a),this.a=null);this.a=a;null!==this.a&&(this.md=U(a,"postcompose",this.rh,!1,this),li(this))};function mi(a,b){T.call(this,a);this.coordinate=b}H(mi,T);function ni(a){Vh.call(this);a=v(a)?a:{};this.Pb=new ii(v(a.style)?a.style:null);this.da=null;this.ra=v(a.V)?a.V:sc}H(ni,Vh);l=ni.prototype;l.ub=function(a){if(1==a.fb.pointerId){var b=this.Pb;a=a.pixel;b.da=this.da;b.Mc=a;b.Pc=ji(b);li(b)}};l.Yd=function(){return this.Pb.Yd()};l.Of=ea;
l.vb=function(a){if(1!=a.fb.pointerId)return!0;this.Pb.setMap(null);var b=a.pixel[0]-this.da[0],c=a.pixel[1]-this.da[1];64<=b*b+c*c&&(this.Of(a),this.dispatchEvent(new mi("boxend",a.coordinate)));return!1};l.tb=function(a){if(1==a.fb.pointerId&&de(a.r)&&!(M&&Ta&&a.r.ctrlKey)&&this.ra(a)){this.da=a.pixel;this.Pb.setMap(a.map);var b=this.Pb,c=this.da;b.da=this.da;b.Mc=c;b.Pc=ji(b);li(b);this.dispatchEvent(new mi("boxstart",a.coordinate));return!0}return!1};l.kg=function(a){return a};function oi(a){var b=a[0];b!=(b|0)&&(b=b+0.5|0);var c=a[1];c!=(c|0)&&(c=c+0.5|0);var d=a[2];d!=(d|0)&&(d=d+0.5|0);return"rgba("+b+","+c+","+d+","+a[3]+")"};function pi(a){a=v(a)?a:{};this.Ic=v(a.color)?a.color:null;this.Ff=a.lineCap;this.Ph=v(a.ma)?a.ma:null;this.Gf=a.lineJoin;this.Lf=a.miterLimit;this.rj=a.width}pi.prototype.getLineDash=k("Ph");pi.prototype.bb=k("rj");var qi=[0,0,0,1],ri=[],si=[0,0,0,1];function ti(a){a=v(a)?a:{};this.hf=v(a.fill)?a.fill:null;this.v=v(a.Fh)?a.Fh:null;this.ng=v(a.stroke)?a.stroke:null;this.P=v(a.text)?a.text:null;this.wk=a.zIndex}ti.prototype.Ka=k("v");function ui(a){a=v(a)?a:{};ni.call(this,{V:v(a.V)?a.V:Th,style:v(a.style)?a.style:new ti({stroke:new pi({color:[0,0,255,1]})})})}H(ui,ni);ui.prototype.Of=function(){var a=this.Ma(),b=a.g(),c=this.Yd().J(),d=dd(c),e=a.Na(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=uf(b,c,0,void 0);Lg(a,b,c,d,200)};function vi(a){Ig.call(this);a=v(a)?a:{};this.ra=v(a.V)?a.V:vc(Sh,Uh);this.wi=v(a.vi)?a.vi:128}H(vi,Ig);vi.prototype.ua=function(a){var b=!1;if("key"==a.type){var c=a.r.keyCode;if(this.ra(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.g(),e=b.u(),f=e.e*this.wi,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];bd(c,e.rotation);e=b.ja();v(e)&&(v(100)&&d.ga(Af({source:e,duration:100,K:zf})),d=b.Tb.center([e[0]+c[0],e[1]+c[1]]),b.Ea(d));a.preventDefault();b=!0}}return!b};function wi(a){Ig.call(this);a=v(a)?a:{};this.ra=v(a.V)?a.V:Uh;this.j=v(a.Ya)?a.Ya:1;this.T=v(a.duration)?a.duration:100}H(wi,Ig);wi.prototype.ua=function(a){var b=!1;if("key"==a.type){var c=a.r.charCode;if(this.ra(a)&&(43==c||45==c)){b=a.map;c=43==c?this.j:-this.j;Z(b);var d=b.g();Kg(b,d,c,void 0,this.T);a.preventDefault();b=!0}}return!b};function xi(a){a=v(a)?a:{};Ig.call(this);this.j=0;this.T=v(a.duration)?a.duration:250;this.wa=null;this.Ie=this.sd=void 0}H(xi,Ig);xi.prototype.ua=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.r;this.wa=a.coordinate;this.j+=c.Rd;v(this.sd)||(this.sd=ra());c=Math.max(80-(ra()-this.sd),0);s.clearTimeout(this.Ie);this.Ie=s.setTimeout(D(this.Td,this,b),c);a.preventDefault();b=!0}return!b};
xi.prototype.Td=function(a){var b=rb(this.j,-1,1),c=a.g();Z(a);Kg(a,c,-b,this.wa,this.T);this.j=0;this.wa=null;this.Ie=this.sd=void 0};function yi(a){Vh.call(this);a=v(a)?a:{};this.qa=null;this.xa=void 0;this.uc=!1;this.rd=0;this.ej=v(a.dj)?a.dj:0.3}H(yi,Vh);yi.prototype.ub=function(a){var b=0,c=this.O[0],d=this.O[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);v(this.xa)&&(b=c-this.xa,this.rd+=b,!this.uc&&Math.abs(this.rd)>this.ej&&(this.uc=!0));this.xa=c;a=a.map;c=Te(a.w);d=Wh(this.O);d[0]-=c.x;d[1]-=c.y;this.qa=a.Zb(d);this.uc&&(c=a.g(),d=c.u(),Z(a),Jg(a,c,d.rotation+b,this.qa))};
yi.prototype.vb=function(a){if(2>this.O.length){a=a.map;var b=a.g();wf(b,-1);if(this.uc){var c=b.u().rotation,d=this.qa,c=b.Nd(c,0);Jg(a,b,c,d,250)}return!1}return!0};yi.prototype.tb=function(a){return 2<=this.O.length?(a=a.map,this.qa=null,this.xa=void 0,this.uc=!1,this.rd=0,this.xb||wf(a.g(),1),Z(a),!0):!1};function zi(a){a=v(a)?a:{};Vh.call(this);this.qa=null;this.T=v(a.duration)?a.duration:400;this.Zc=void 0;this.le=1}H(zi,Vh);zi.prototype.ub=function(a){var b=1,c=this.O[0],d=this.O[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);v(this.Zc)&&(b=this.Zc/e);this.Zc=e;1!=b&&(this.le=b);a=a.map;var e=a.g(),c=e.u(),d=Te(a.w),f=Wh(this.O);f[0]-=d.x;f[1]-=d.y;this.qa=a.Zb(f);Z(a);Lg(a,e,c.e*b,this.qa)};
zi.prototype.vb=function(a){if(2>this.O.length){a=a.map;var b=a.g();wf(b,-1);var c=b.u().e,d=this.qa,e=this.T,c=uf(b,c,0,this.le-1);Lg(a,b,c,d,e);return!1}return!0};zi.prototype.tb=function(a){return 2<=this.O.length?(a=a.map,this.qa=null,this.Zc=void 0,this.le=1,this.xb||wf(a.g(),1),Z(a),!0):!1};function Ai(a){a=v(a)?a:{};var b=new eh,c=new Oh(-0.005,0.05,100);(v(a.Dg)?a.Dg:1)&&b.push(new Yh);(v(a.Rg)?a.Rg:1)&&b.push(new Qh({Ya:a.sj,duration:a.Pe}));(v(a.Sg)?a.Sg:1)&&b.push(new Xh({Oh:c}));(v(a.ti)?a.ti:1)&&b.push(new yi);(v(a.ui)?a.ui:1)&&b.push(new zi({duration:a.Pe}));if(v(a.Nh)?a.Nh:1)b.push(new vi),b.push(new wi({Ya:a.sj,duration:a.Pe}));(v(a.Mf)?a.Mf:1)&&b.push(new xi({duration:a.Pe}));(v(a.Zi)?a.Zi:1)&&b.push(new ui);return b};function Bi(a){var b=v(a)?a:{};a=Ab(b);delete a.Db;b=b.Db;Y.call(this,a);this.Pa=null;U(this,tf("layers"),this.ph,!1,this);v(b)?ga(b)&&(b=new eh(Ga(b))):b=new eh;this.jg(b)}H(Bi,Y);l=Bi.prototype;l.vf=function(){this.ee()&&this.Z()};
l.ph=function(){null!==this.Pa&&(J(wb(this.Pa),V),this.Pa=null);var a=this.ac();if(null!=a){this.Pa={add:U(a,"add",this.oh,!1,this),remove:U(a,"remove",this.qh,!1,this)};var a=a.fa,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Pa[z(d).toString()]=U(d,["propertychange","change"],this.vf,!1,this)}this.Z()};l.oh=function(a){a=a.element;this.Pa[z(a).toString()]=U(a,["propertychange","change"],this.vf,!1,this);this.Z()};l.qh=function(a){a=z(a.element).toString();V(this.Pa[a]);delete this.Pa[a];this.Z()};
l.ac=function(){return this.get("layers")};Bi.prototype.getLayers=Bi.prototype.ac;Bi.prototype.jg=function(a){this.set("layers",a)};Bi.prototype.setLayers=Bi.prototype.jg;
Bi.prototype.$d=function(a){var b=v(a)?a:[],c=b.length;this.ac().forEach(function(a){a.$d(b)});a=hh(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.kb=rb(e.kb+a.kb,-1,1),e.ob*=a.ob,e.yb+=a.yb,e.opacity*=a.opacity,e.Kb*=a.Kb,e.visible=e.visible&&a.visible,e.Aa=Math.min(e.Aa,a.Aa),e.Qa=Math.max(e.Qa,a.Qa),v(a.b)&&v(e.b)&&(e.b=hd(e.b,a.b));return b};Bi.prototype.tf=ba("ready");function Ci(a,b){kd.call(this,{code:a,Me:"degrees",b:Di,Se:b,global:!0,Oe:Di})}H(Ci,kd);var Di=[-180,-90,180,90],Ei=[new Ci("CRS:84"),new Ci("EPSG:4326","neu"),new Ci("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Ci("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ci("urn:ogc:def:crs:OGC:2:84"),new Ci("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ci("urn:x-ogc:def:crs:EPSG:4326","neu")];function Fi(a){ih.call(this,a)}H(Fi,ih);Fi.prototype.ae=function(){return this.get("preload")};Fi.prototype.getPreload=Fi.prototype.ae;Fi.prototype.Si=function(a){this.set("preload",a)};Fi.prototype.setPreload=Fi.prototype.Si;Fi.prototype.de=function(){return this.get("useInterimTilesOnError")};Fi.prototype.getUseInterimTilesOnError=Fi.prototype.de;Fi.prototype.Wi=function(a){this.set("useInterimTilesOnError",a)};Fi.prototype.setUseInterimTilesOnError=Fi.prototype.Wi;function Gi(a,b,c,d,e){this.Gc={};this.s=a;this.Hb=b;this.Ja=c;this.G=d;this.qj=e;this.v=this.F=this.Q=this.Xe=this.We=this.Ve=null;this.Hh=this.Gh=this.ge=this.yf=this.xf=this.wf=0;this.Ih=!1;this.Tc=this.Jh=0;this.Kh=!1;this.Af=0;this.P="";this.Ac=this.td=this.qg=this.pg=0;this.Ce=this.Bc=this.zc=null;this.hd=[];this.vg=Yc()}
function Hi(a,b,c){if(null!==a.v){b=$h(b,0,c,2,a.G,a.hd);c=a.s;var d=a.vg,e=c.globalAlpha;1!=a.ge&&(c.globalAlpha=e*a.ge);var f=a.Jh;a.Ih&&(f+=a.qj);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.wf,n=b[g+1]-a.xf;a.Kh&&(m=m+0.5|0,n=n+0.5|0);if(0!==f||1!=a.Tc){var p=m+a.wf,q=n+a.xf;sh(d,p,q,a.Tc,a.Tc,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.v,a.Gh,a.Hh,a.Af,a.yf,m,n,a.Af,a.yf)}0===f&&1==a.Tc||c.setTransform(1,0,0,1,0,0);1!=a.ge&&(c.globalAlpha=e)}}
function Ii(a,b,c,d){var e=0;if(null!==a.Ce&&""!==a.P){null===a.zc||Ji(a,a.zc);null===a.Bc||Ki(a,a.Bc);var f=a.Ce,g=a.s,h=a.Xe;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Xe={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=$h(b,e,c,d,a.G,a.hd);for(f=a.s;e<c;e+=d){g=
b[e]+a.pg;h=b[e+1]+a.qg;if(0!==a.td||1!=a.Ac){var m=sh(a.vg,g,h,a.Ac,a.Ac,a.td,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Bc||f.strokeText(a.P,g,h);null===a.zc||f.fillText(a.P,g,h)}0===a.td&&1==a.Ac||f.setTransform(1,0,0,1,0,0)}}function Li(a,b,c,d,e,f){var g=a.s;a=$h(b,c,d,e,a.G,a.hd);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function Mi(a,b,c,d,e){var f=a.s,g,h;g=0;for(h=d.length;g<h;++g)c=Li(a,b,c,d[g],e,!0),f.closePath();return c}function ki(a,b){var c=Infinity.toString(),d=a.Gc[c];v(d)?d.push(b):a.Gc[c]=[b]}l=Gi.prototype;
l.Tg=function(a){if(id(this.Ja,a.J())){if(null!==this.Q||null!==this.F){null===this.Q||Ji(this,this.Q);null===this.F||Ki(this,this.F);var b;b=a.C;b=null===b?null:$h(b,0,b.length,a.D,this.G,this.hd);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.s;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.Q||d.fill();null===this.F||d.stroke()}""!==this.P&&Ii(this,a.ja(),2,2)}};l.Ug=function(a,b){var c=a.Xj(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];Ni[f.ce()].call(this,f,b)}};
l.Zg=function(a){var b=a.C;a=a.D;null===this.v||Hi(this,b,b.length);""!==this.P&&Ii(this,b,b.length,a)};l.Xg=function(a){var b=a.C;a=a.D;null===this.v||Hi(this,b,b.length);""!==this.P&&Ii(this,b,b.length,a)};l.Vg=function(a){if(id(this.Ja,a.J())){if(null!==this.F){Ki(this,this.F);var b=this.s,c=a.C;b.beginPath();Li(this,c,0,c.length,a.D,!1);b.stroke()}""!==this.P&&(a=a.Uj(),Ii(this,a,2,2))}};
l.Wg=function(a){var b=a.J();if(id(this.Ja,b)){if(null!==this.F){Ki(this,this.F);var b=this.s,c=a.C,d=0,e=a.$,f=a.D;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=Li(this,c,d,e[g],f,!1);b.stroke()}""!==this.P&&(a=a.Vj(),Ii(this,a,a.length,2))}};
l.df=function(a){if(id(this.Ja,a.J())){if(null!==this.F||null!==this.Q){null===this.Q||Ji(this,this.Q);null===this.F||Ki(this,this.F);var b=this.s;b.beginPath();Mi(this,gi(a),0,a.$,a.D);null===this.Q||b.fill();null===this.F||b.stroke()}if(""!==this.P){if(a.kf!=a.Da){b=dd(a.J());var c=gi(a),d=a.$,e=a.D,f,g,h,m,n,p=b[1],q=[],r=d[0];h=c[r-e];n=c[r-e+1];for(f=0;f<r;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}r=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var t=Math.abs(m-h);t>n&&(h=(h+m)/2,di(c,d,e,h,p)&&(r=h,n=t));h=m}isNaN(r)&&(r=b[0]);v(void 0)?((void 0).push(r,p),b=void 0):b=[r,p];a.lf=b;a.kf=a.Da}Ii(this,a.lf,2,2)}}};
l.Yg=function(a){if(id(this.Ja,a.J())){if(null!==this.F||null!==this.Q){null===this.Q||Ji(this,this.Q);null===this.F||Ki(this,this.F);var b=this.s,c=gi(a),d=0,e=a.Sj(),f=a.D,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=Mi(this,c,d,m,f);null===this.Q||b.fill();null===this.F||b.stroke()}}""!==this.P&&(a=a.Tj(),Ii(this,a,a.length,2))}};l.flush=function(){var a=Ca(xb(this.Gc),Number);La(a);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Gc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function Ji(a,b){var c=a.s,d=a.Ve;null===d?(c.fillStyle=b.fillStyle,a.Ve={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function Ki(a,b){var c=a.s,d=a.We;null===d?(c.lineCap=b.lineCap,Of&&c.setLineDash(b.ma),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.We={lineCap:b.lineCap,ma:b.ma,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Of&&!Na(d.ma,b.ma)&&c.setLineDash(d.ma=b.ma),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=
c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
l.Mi=function(a,b){if(null===a)this.Q=null;else{var c=a.Ic;this.Q={fillStyle:x(null===c?qi:c)?null===c?qi:c:oi(null===c?qi:c)}}if(null===b)this.F=null;else{var c=b.Ic,d=b.Ff,e=b.getLineDash(),f=b.Gf,g=b.bb(),h=b.Lf;this.F={lineCap:v(d)?d:"round",ma:null!=e?e:ri,lineJoin:v(f)?f:"round",lineWidth:this.Hb*(v(g)?g:1),miterLimit:v(h)?h:10,strokeStyle:x(null===c?si:c)?null===c?si:c:oi(null===c?si:c)}}};
l.Vi=function(a){if(null===a)this.P="";else{var b=a.hf;null===b?this.zc=null:(b=b.Ic,this.zc={fillStyle:x(null===b?qi:b)?null===b?qi:b:oi(null===b?qi:b)});var c=a.ng;if(null===c)this.Bc=null;else{var b=c.Ic,d=c.Ff,e=c.getLineDash(),f=c.Gf,g=c.bb(),c=c.Lf;this.Bc={lineCap:v(d)?d:"round",ma:null!=e?e:ri,lineJoin:v(f)?f:"round",lineWidth:v(g)?g:1,miterLimit:v(c)?c:10,strokeStyle:x(null===b?si:b)?null===b?si:b:oi(null===b?si:b)}}var b=a.Wj(),d=a.Yj(),e=a.Zj(),f=a.qb(),g=a.$j(),c=a.P,h=a.ak();a=a.bk();
this.Ce={font:v(b)?b:"10px sans-serif",textAlign:v(h)?h:"center",textBaseline:v(a)?a:"middle"};this.P=v(c)?c:"";this.pg=v(d)?this.Hb*d:0;this.qg=v(e)?this.Hb*e:0;this.td=v(f)?f:0;this.Ac=this.Hb*(v(g)?g:1)}};var Ni={Point:Gi.prototype.Zg,LineString:Gi.prototype.Vg,Polygon:Gi.prototype.df,MultiPoint:Gi.prototype.Xg,MultiLineString:Gi.prototype.Wg,MultiPolygon:Gi.prototype.Yg,GeometryCollection:Gi.prototype.Ug,Circle:Gi.prototype.Tg};var Oi=["Polygon","LineString","Image","Text"];function Pi(a,b,c){this.uk=a;this.Yh=b;this.eg=c;this.qc={};this.dk=Jf(1,1);this.ek=Yc()}Pi.prototype.bg=function(a,b,c,d,e,f){var g=Ca(xb(this.qc),Number);La(g);return this.Ji(g,a,b,c,d,e,f)};
Pi.prototype.Ji=function(a,b,c,d,e,f,g){var h=this.Yh,m=h[0],n=h[1],p=h[2],h=h[3],m=$h([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,r,m=0,n=a.length;m<n;++m)for(q=this.qc[a[m].toString()],p=0,h=Oi.length;p<h;++p)if(r=q[Oi[p]],v(r)&&id(c,r.J())&&(r=r.bg(b,d,e,f,g)))return r;b.restore()};Pi.prototype.finish=function(){for(var a in this.qc){var b=this.qc[a],c;for(c in b)b[c].finish()}};
Pi.prototype.Bb=function(){return yb(this.qc)};function Qi(a,b){jh.call(this,a,b);this.G=Yc()}H(Qi,jh);Qi.prototype.Ub=function(a,b,c,d){var e=this.oe;if(e.dc(a)){if(!v(d)){d=c.i;var f=c.Ca;d=sh(this.G,f*c.size[0]/2,f*c.size[1]/2,f/d.e,-f/d.e,-d.rotation,-d.center[0],-d.center[1])}d=new Gi(b,c.Ca,c.b,d,c.i.rotation);e.dispatchEvent(new hi(a,e,d,null,c,b,null));d.flush()}};
var Ri=function(){var a=null,b=null;return function(c){if(null===a){a=Jf(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Na(b.data,c.data));return e}}();function Si(a,b){Qi.call(this,a,b);this.ha=this.A=null;this.Kd=!1;this.s=null;this.zf=Yc();this.xe=NaN;this.pd=this.oa=null}H(Si,Qi);Si.prototype.Ka=k("A");
Si.prototype.te=function(a,b){var c=a.Ca,d=a.i,e=d.projection,f=this.oe,g=f.yc,h=Je(g,e),m=Ed(h.sc,d.e,0),n=Ld(Je(g,e),m)*g.sg,p=n/Ld(h,m),q=h.t(m),p=q/p,r=d.center,t;q==d.e?(r=oh(r,q,a.size),t=gd(r,q,d.rotation,a.size)):t=a.b;v(b.b)&&(t=hd(t,b.b));if(t[2]<t[0]||t[3]<t[1])return!1;var u=Jd(h,t,q),y=n*u.bb(),w=n*(u.k-u.p+1),E,G;null===this.A?(G=Jf(y,w),this.A=G.canvas,this.ha=[y,w],this.s=G,this.Kd=!Ri(this.ha)):(E=this.A,G=this.s,this.ha[0]<y||this.ha[1]<w||this.Kd&&(this.ha[0]>y||this.ha[1]>w)?(E.width=
y,E.height=w,this.ha=[y,w],this.Kd=!Ri(this.ha),this.oa=null):(y=this.ha[0],w=this.ha[1],m==this.xe&&this.oa.l<=u.l&&u.H<=this.oa.H&&this.oa.p<=u.p&&u.k<=this.oa.k||(this.oa=null,m<this.xe&&this.s.clearRect(0,0,y,w))));var B,C;null===this.oa?(y/=n,w/=n,B=u.l-Math.floor((y-u.bb())/2),C=u.p-Math.floor((w-(u.k-u.p+1))/2),this.xe=m,this.oa=new Tc(B,B+y-1,C,C+w-1),this.pd=Array(y*w),w=this.oa):(w=this.oa,y=w.bb());E={};E[m]={};var A=[],K=D(g.jf,g,E,nh(function(a){return null!==a&&2==a.u()},g,c,e)),ha=
f.de();v(ha)||(ha=!0);var Aa=[Infinity,Infinity,-Infinity,-Infinity],Ia=new Tc(0,0,0,0),da,F,S;for(C=u.l;C<=u.H;++C)for(S=u.p;S<=u.k;++S)F=Me(g,m,C,S,c,e),B=F.u(),2==B||4==B||3==B&&!ha?E[m][Sc(F.q)]=F:(da=h.Xd(F.q,K,null,Ia,Aa),da||(A.push(F),da=h.be(F.q,Ia,Aa),null===da||K(m+1,da)));K=0;for(da=A.length;K<da;++K)F=A[K],C=n*(F.q[1]-w.l),S=n*(w.k-F.q[2]),G.clearRect(C,S,n,n);A=Ca(xb(E),Number);La(A);var N=g.pi,Cd=fd(Hd(h,[m,w.l,w.k],Aa)),Wa,Ja,Dd,yc,qb,We,K=0;for(da=A.length;K<da;++K)if(Wa=A[K],n=Ld(Je(g,
e),Wa)*g.sg,yc=E[Wa],Wa==m)for(Dd in yc)F=yc[Dd],Ja=(F.q[2]-w.p)*y+(F.q[1]-w.l),this.pd[Ja]!=F&&(C=n*(F.q[1]-w.l),S=n*(w.k-F.q[2]),B=F.u(),4!=B&&(3!=B||ha)&&N||G.clearRect(C,S,n,n),2==B&&G.drawImage(F.Ka(),0,0,n,n,C,S,n,n),this.pd[Ja]=F);else for(Dd in Wa=h.t(Wa)/q,yc)for(F=yc[Dd],Ja=Hd(h,F.q,Aa),C=(Ja[0]-Cd[0])/p,S=(Cd[1]-Ja[3])/p,We=Wa*n,qb=Wa*n,B=F.u(),4!=B&&N||G.clearRect(C,S,We,qb),2==B&&G.drawImage(F.Ka(),0,0,n,n,C,S,We,qb),F=Id(h,Ja,m,Ia),B=Math.max(F.l,w.l),S=Math.min(F.H,w.H),C=Math.max(F.p,
w.p),F=Math.min(F.k,w.k);B<=S;++B)for(qb=C;qb<=F;++qb)Ja=(qb-w.p)*y+(B-w.l),this.pd[Ja]=void 0;mh(a.yd,g,m,u);ph(a,g,h,c,e,t,m,f.ae());kh(a,g);lh(a,g);sh(this.zf,c*a.size[0]/2,c*a.size[1]/2,c*p/d.e,c*p/d.e,d.rotation,(Cd[0]-r[0])/p,(r[1]-Cd[1])/p);return!0};function Ti(a,b){uh.call(this,0,b);this.s=Jf();this.A=this.s.canvas;this.A.style.width="100%";this.A.style.height="100%";this.A.className="ol-unselectable";Ob(a,this.A,0);this.B=!0;this.G=Yc()}H(Ti,uh);Ti.prototype.Pd=function(a){return a instanceof Fi?new Si(this,a):null};
Ti.prototype.Ub=function(a,b){var c=this.Ma(),d=this.s;if(c.dc(a)){var e=b.b,f=b.Ca,g=b.i,h=g.e,m=g.rotation;sh(this.G,this.A.width/2,this.A.height/2,f/g.e,-f/g.e,-g.rotation,-g.center[0],-g.center[1]);g=new Gi(d,f,e,this.G,m);h=new Pi(0.5*h/f,e,h);c.dispatchEvent(new hi(a,c,g,h,b,d,null));h.finish();h.Bb()||h.bg(d,e,f,this.G,m,{});g.flush();this.cg=h}};Ti.prototype.ce=ba("canvas");
Ti.prototype.we=function(a){if(null===a)this.B&&(Xe(this.A,!1),this.B=!1);else{var b=this.s,c=a.size[0]*a.Ca,d=a.size[1]*a.Ca;this.A.width!=c||this.A.height!=d?(this.A.width=c,this.A.height=d):b.clearRect(0,0,this.A.width,this.A.height);vh(a);this.Ub("precompose",a);var c=a.ne,d=a.i.e,e,f,g,h;e=0;for(f=c.length;e<f;++e)if(h=c[e],g=h.$c,g=xh(this,g),h.visible&&(d>=h.Qa&&d<h.Aa)&&"ready"==h.lg&&g.te(a,h)){var m=a,n=h;h=b;g.Ub("precompose",h,m,void 0);var p=g.Ka();if(null!==p){var q=g.zf,r=h.globalAlpha;
h.globalAlpha=n.opacity;if(0===m.i.rotation){var n=q[13],t=p.width*q[0],u=p.height*q[5];h.drawImage(p,0,0,+p.width,+p.height,Math.round(q[12]),Math.round(n),Math.round(t),Math.round(u))}else h.setTransform(q[0],q[1],q[4],q[5],q[12],q[13]),h.drawImage(p,0,0),h.setTransform(1,0,0,1,0,0);h.globalAlpha=r}g.Ub("postcompose",h,m,void 0)}this.Ub("postcompose",a);this.B||(Xe(this.A,!0),this.B=!0);yh(this,a);a.oc.push(wh)}};function Ui(a,b,c){jh.call(this,a,b);this.target=c}H(Ui,jh);Ui.prototype.rb=k("target");function Vi(a,b){var c=document.createElement("DIV");c.style.position="absolute";Ui.call(this,a,b,c);this.B=!0;this.Zf=1;this.$f=0;this.ea={}}H(Vi,Ui);
Vi.prototype.te=function(a,b){if(!b.visible)return this.B&&(Xe(this.target,!1),this.B=!1),!0;var c=a.Ca,d=a.i,e=d.projection,f=this.oe,g=f.yc,h=Je(g,e),m=Ed(h.sc,d.e,0),n=h.t(m),p=d.center,q;n==d.e?(p=oh(p,n,a.size),q=gd(p,n,d.rotation,a.size)):q=a.b;v(b.b)&&(q=hd(q,b.b));var n=Jd(h,q,n),r={};r[m]={};var t=D(g.jf,g,r,nh(function(a){return null!==a&&2==a.u()},g,c,e)),u=f.de();v(u)||(u=!0);var y=[Infinity,Infinity,-Infinity,-Infinity],w=new Tc(0,0,0,0),E,G,B,C;for(B=n.l;B<=n.H;++B)for(C=n.p;C<=n.k;++C)E=
Me(g,m,B,C,c,e),G=E.u(),2==G?r[m][Sc(E.q)]=E:4==G||3==G&&!u||(G=h.Xd(E.q,t,null,w,y),G||(E=h.be(E.q,w,y),null===E||t(m+1,E)));var A;if(this.$f!=g.Da){for(A in this.ea)u=this.ea[+A],Pb(u.target);this.ea={};this.$f=g.Da}y=Ca(xb(r),Number);La(y);var t={},K;B=0;for(C=y.length;B<C;++B){A=y[B];A in this.ea?u=this.ea[A]:(u=Md(h,p,A),u=new Wi(h,u),t[A]=!0,this.ea[A]=u);A=r[A];for(K in A)Xi(u,A[K]);Yi(u)}K=Ca(xb(this.ea),Number);La(K);C=Yc();y=0;for(B=K.length;y<B;++y)if(A=K[y],u=this.ea[A],A in r)if(G=u.t(),
E=u.bc(),sh(C,a.size[0]/2,a.size[1]/2,G/d.e,G/d.e,d.rotation,(E[0]-p[0])/G,(p[1]-E[1])/G),u.setTransform(C),A in t){for(A-=1;0<=A;--A)if(A in this.ea){Nb(u.target,this.ea[A].target);break}0>A&&Ob(this.target,u.target,0)}else a.I[0]||a.I[1]||Zi(u,q,w);else Pb(u.target),delete this.ea[A];b.opacity!=this.Zf&&(Ve(this.target,b.opacity),this.Zf=b.opacity);b.visible&&!this.B&&(Xe(this.target,!0),this.B=!0);mh(a.yd,g,m,n);ph(a,g,h,c,e,q,m,f.ae());kh(a,g);lh(a,g);return!0};
function Wi(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.rg=a;this.Ee=b;this.fd=fd(Hd(a,b));this.eg=a.t(b[0]);this.Dc={};this.pb=null;var c=Array(16);Zc(c,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.G=c}
function Xi(a,b){var c=b.q,d=c[0],e=c[1],f=c[2],c=Sc(c);if(!(c in a.Dc)){var d=Ld(a.rg,d),g=b.Ka(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.Ee[1])*d+"px";h.top=(a.Ee[2]-f)*d+"px";null===a.pb&&(a.pb=document.createDocumentFragment());a.pb.appendChild(g);a.Dc[c]=b}}function Yi(a){null!==a.pb&&(a.target.appendChild(a.pb),a.pb=null)}Wi.prototype.bc=k("fd");Wi.prototype.t=k("eg");
function Zi(a,b,c){var d=Id(a.rg,b,a.Ee[0],c);b=[];for(var e in a.Dc)c=a.Dc[e],d.contains(c.q)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=Sc(c.q),Pb(c.Ka(a)),delete a.Dc[e]}
Wi.prototype.setTransform=function(a){if(a[0]!=this.G[0]||a[1]!=this.G[1]||a[4]!=this.G[4]||a[5]!=this.G[5]||a[12]!=this.G[12]||a[13]!=this.G[13]){var b=this.target,c;if(Lf()){if(v(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");Mf(b,"matrix3d("+c+")")}else if(Kf()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(v(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Mf(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",
b.style.top=Math.round(a[13])+"px";b=this.G;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function $i(a,b){uh.call(this,0,b);this.Eb=document.createElement("DIV");this.Eb.className="ol-unselectable";var c=this.Eb.style;c.position="absolute";c.width="100%";c.height="100%";Ob(a,this.Eb,0);this.B=!0}H($i,uh);$i.prototype.Pd=function(a){if(a instanceof Fi)a=new Vi(this,a);else return null;return a};$i.prototype.ce=ba("dom");
$i.prototype.we=function(a){if(null===a)this.B&&(Xe(this.Eb,!1),this.B=!1);else{var b;b=function(a,b){Ob(this.Eb,a,b)};var c=a.ne,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.$c,f=xh(this,f),b.call(this,f.rb(),d),"ready"==g.lg&&f.te(a,g);b=a.me;for(var h in this.la)h in b||(f=this.la[h],Pb(f.rb()));this.B||(Xe(this.Eb,!0),this.B=!0);vh(a);yh(this,a);a.oc.push(wh)}};var aj=["canvas","webgl","dom"];
function $(a){pf.call(this);var b=bj(a);this.Hb=v(a.Ca)?a.Ca:Nf;this.Th=b.Fb;this.Ed=new Ng(this.Hi,void 0,this);Wd(this,this.Ed);this.Mg=Yc();this.xi=Yc();this.ah=0;this.ic=this.Ad=this.Jb=this.ab=null;this.w=R("DIV","ol-viewport");this.w.style.position="relative";this.w.style.overflow="hidden";this.w.style.width="100%";this.w.style.height="100%";this.w.style.msTouchAction="none";Qf&&(this.w.className="ol-touch");this.si=R("DIV","ol-overlaycontainer");this.w.appendChild(this.si);this.qe=R("DIV",
"ol-overlaycontainer-stopevent");U(this.qe,["click","dblclick","mousedown","touchstart","MSPointerDown",Eg,$a?"DOMMouseScroll":"mousewheel"],Yd);this.w.appendChild(this.qe);a=new wg(this);U(a,wb(Hg),this.ua,!1,this);Wd(this,a);this.Cf=b.gc;this.Wc=new Xg;U(this.Wc,"key",this.uf,!1,this);Wd(this,this.Wc);a=new bf(this.w);U(a,"mousewheel",this.uf,!1,this);Wd(this,a);this.Od=b.controls;this.Pg=b.Sd;this.fc=b.Ab;this.re=b.mc;this.ag=new b.Ii(this.w,this);Wd(this,this.ag);this.Ag=new Tg;Wd(this,this.Ag);
U(this.Ag,"resize",this.xg,!1,this);this.Wd=null;this.nd=[];this.Uf=[];this.tg=new Bh(D(this.fh,this),D(this.Ah,this));this.$i={};U(this,tf("layergroup"),this.lh,!1,this);U(this,tf("view"),this.Bh,!1,this);U(this,tf("size"),this.wh,!1,this);U(this,tf("target"),this.yh,!1,this);this.wc(b.pj);this.Od.forEach(function(a){a.setMap(this)},this);U(this.Od,"add",function(a){a.element.setMap(this)},!1,this);U(this.Od,"remove",function(a){a.element.setMap(null)},!1,this);this.fc.forEach(function(a){a.setMap(this)},
this);U(this.fc,"add",function(a){a.element.setMap(this)},!1,this);U(this.fc,"remove",function(a){a.element.setMap(null)},!1,this);this.re.forEach(function(a){a.setMap(this)},this);U(this.re,"add",function(a){a.element.setMap(this)},!1,this);U(this.re,"remove",function(a){a.element.setMap(null)},!1,this)}H($,pf);$.prototype.ga=function(a){Z(this);Array.prototype.push.apply(this.nd,arguments)};$.prototype.h=function(){Pb(this.w);$.N.h.call(this)};$.prototype.rb=function(){return this.get("target")};
$.prototype.getTarget=$.prototype.rb;$.prototype.Zb=function(a){var b=this.ab;if(null===b)return null;a=a.slice();return th(b.Tf,a,a)};$.prototype.Qc=function(){return this.get("layergroup")};$.prototype.getLayerGroup=$.prototype.Qc;$.prototype.ac=function(){var a=this.Qc();if(v(a))return a.ac()};$.prototype.Na=function(){return this.get("size")};$.prototype.getSize=$.prototype.Na;$.prototype.g=function(){return this.get("view")};$.prototype.getView=$.prototype.g;l=$.prototype;
l.fh=function(a,b,c,d){var e=this.ab;if(!(null!==e&&b in e.Ob&&e.Ob[b][Sc(a.q)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};l.uf=function(a,b){var c=new ug(b||a.type,this,a);this.ua(c)};l.ua=function(a){if(null!==this.ab){this.Wd=a.coordinate;a.frameState=this.ab;var b=this.fc.fa,c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c&&b[c].ua(a);c--);}};
l.uh=function(){var a=this.ab,b=this.tg;if(!b.Bb()){var c=16,d=c,e=0;if(null!==a){var e=a.I,f=this.Pg;e[0]&&(c=!1===f.hk?0:8,d=2);e[1]&&(c=!1===f.ik?0:8,d=2);e=vb(a.Ob)}c*=e;d*=e;if(b.Cc<c){var e=b.Vf,f=b.sa,g=b.pc,h=0,m=f.length,n,p,q;for(p=0;p<m;++p)n=f[p],q=e(n),Infinity==q?delete b.od[b.je(n)]:(g[h]=q,f[h++]=n);f.length=h;g.length=h;for(e=(b.sa.length>>1)-1;0<=e;e--)Ah(b,e);c=Math.min(c-b.Cc,d,b.$b());for(d=0;d<c;++d)e=b,g=e.sa,h=e.pc,f=g[0],1==g.length?(g.length=0,h.length=0):(g[0]=g.pop(),h[0]=
h.pop(),Ah(e,0)),g=e.je(f),delete e.od[g],e=f[0],re(e,"change",b.zh,!1,b),e.load();b.Cc+=c}}b=this.Uf;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};l.wh=function(){Z(this)};l.yh=function(){var a=this.rb(),a=v(a)?Gb(a):null;this.Wc.detach();null===a?Pb(this.w):(a.appendChild(this.w),Yg(this.Wc,null===this.Cf?a:this.Cf));this.xg()};l.Ah=function(){Z(this)};l.Ch=function(){Z(this)};
l.Bh=function(){null!==this.Ad&&(V(this.Ad),this.Ad=null);var a=this.g();null!=a&&(this.Ad=U(a,"propertychange",this.Ch,!1,this));Z(this)};l.mh=function(){Z(this)};l.nh=function(){Z(this)};l.lh=function(){if(null!==this.ic){for(var a=this.ic.length,b=0;b<a;++b)V(this.ic[b]);this.ic=null}a=this.Qc();null!=a&&(this.ic=[U(a,"propertychange",this.nh,!1,this),U(a,"change",this.mh,!1,this)]);Z(this)};
l.he=function(){if(!Qb(document,this.w)||"none"==this.w.style.display)return!1;var a=this.Na();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.g();return v(a)&&a.he()?!0:!1};function Z(a){null!=a.Ed.R||a.Ed.start()}
l.Hi=function(a){var b,c,d,e=this.Na(),f=this.g(),g=null;if(v(e)&&0<e[0]&&0<e[1]&&v(f)&&f.he()){var g=Ga(f.fe),h=this.Qc().$d(),m={};b=0;for(c=h.length;b<c;++b)m[z(h[b].$c)]=h[b];d=f.u();g={Va:!1,Xa:{},Ze:this.Mg,b:null,focus:null===this.Wd?d.center:this.Wd,index:this.ah++,me:m,ne:h,Fb:this.Th,Ca:this.Hb,Tf:this.xi,oc:[],size:e,qk:this.$i,hj:this.tg,time:a,yd:{},i:d,I:g,Ob:{}}}a=this.nd;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;null!==g&&(g.b=gd(d.center,d.e,d.rotation,
g.size));this.ab=g;this.ag.we(g);null!==g&&(g.Va&&Z(this),Array.prototype.push.apply(this.Uf,g.oc),0!==this.nd.length||(g.I[0]||g.I[1]||this.Jb&&g.b[0]==this.Jb[0]&&g.b[2]==this.Jb[2]&&g.b[1]==this.Jb[1]&&g.b[3]==this.Jb[3])||(this.dispatchEvent(new Df("moveend",this,g)),this.Jb=v(void 0)?void 0:g.b.slice()));this.dispatchEvent(new Df("postrender",this,g));c=b=this.uh;this&&(c=D(b,this));ka(s.setImmediate)?s.setImmediate(c):(Qg||(Qg=Rg()),Qg(c))};l.Oi=function(a){this.set("layergroup",a)};
$.prototype.setLayerGroup=$.prototype.Oi;$.prototype.Ae=function(a){this.set("size",a)};$.prototype.setSize=$.prototype.Ae;$.prototype.Ui=function(a){this.set("target",a)};$.prototype.setTarget=$.prototype.Ui;$.prototype.Xi=function(a){this.set("view",a)};$.prototype.setView=$.prototype.Xi;
$.prototype.xg=function(){var a=this.rb(),a=v(a)?Gb(a):null;if(null===a)this.Ae(void 0);else{var b=Fb(a),c=L&&a.currentStyle,d;if(d=c)b=Db(b),d=Kb(b.Vb)&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing;if(d)b=Ye(a,c.width,"width","pixelWidth"),a=Ye(a,c.height,"height","pixelHeight"),a=new sb(b,a);else{c=new sb(a.offsetWidth,a.offsetHeight);if(L){b=Ze(a,"paddingLeft");d=Ze(a,"paddingRight");var e=Ze(a,"paddingTop"),f=Ze(a,"paddingBottom"),b=new Oe(e,d,f,b)}else b=Pe(a,"paddingLeft"),d=Pe(a,"paddingRight"),
e=Pe(a,"paddingTop"),f=Pe(a,"paddingBottom"),b=new Oe(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));L?(d=af(a,"borderLeft"),e=af(a,"borderRight"),f=af(a,"borderTop"),a=af(a,"borderBottom"),a=new Oe(f,e,a,d)):(d=Pe(a,"borderLeftWidth"),e=Pe(a,"borderRightWidth"),f=Pe(a,"borderTopWidth"),a=Pe(a,"borderBottomWidth"),a=new Oe(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d)));a=new sb(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.Ae([a.width,a.height])}};
function bj(a){var b=null;v(a.gc)&&(b=x(a.gc)?document.getElementById(a.gc):a.gc);var c={},d={};if(!v(a.za)||"boolean"==typeof a.za&&a.za)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.za;x(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.Db instanceof Bi?a.Db:new Bi({Db:a.Db});c.layergroup=e;c.target=a.target;c.view=v(a.view)?a.view:new X;var e=uh,f;v(a.qd)?ga(a.qd)?f=a.qd:x(a.qd)&&(f=[a.qd]):f=aj;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(Pf){e=Ti;break}}else if("dom"==m){e=$i;break}}v(a.controls)?f=ga(a.controls)?new eh(Ga(a.controls)):a.controls:(f=v(void 0)?void 0:{},g=new eh,(v(f.zoom)?f.zoom:1)&&g.push(new Mh(f.xk)),(v(f.rotate)?
f.rotate:1)&&g.push(new Kh(f.mk)),(v(f.attribution)?f.attribution:1)&&g.push(new Ih(f.Lj)),f=g);g=v(a.Sd)?a.Sd:{};h=v(a.Ab)?ga(a.Ab)?new eh(Ga(a.Ab)):a.Ab:Ai();a=v(a.mc)?ga(a.mc)?new eh(Ga(a.mc)):a.mc:new eh;return{controls:f,Sd:g,Ab:h,gc:b,Fb:d,mc:a,Ii:e,pj:c}}nd(zd);nd(Ei);J(Ei,function(a){J(zd,function(b){pd(a,b,Ad);pd(b,a,Bd)})});function cj(a,b){var c=b.width,d=b.height,e=b["@id"];if(!e){var f=b.image_host,g=b.identifier;f&&g&&(e=f+g)}if(!e)throw Error("Unable to determine base url");f=new kd({code:"IIIF",Me:"pixels",b:[0,-d,c,0]});e=new Ne({Gg:e,width:c,height:d,gb:b.scale_factors,projection:f});e=new Fi({source:e});a.a=new $({Db:[e],target:a.Vh,view:new X({projection:f,b:[0,-d,c,0]}),Ab:Ai({Mf:!1}),controls:[],za:!1});c=a.a;d=new Mg;c.fc.push(d);c=a.a.g();f=f.J();d=a.a.Na()||null;f[2]<f[0]||f[3]<f[1]||(c.Ea(dd(f)),f=Math.max((f[2]-
f[0])/d[0],(f[3]-f[1])/d[1]),d=uf(c,f,0,0),d<f&&(d=uf(c,d,-1,0)),c.xc(d))}function dj(a,b){x(b)?(new Lc(b)).send(null,D(function(a){dj(this,a)},a)):cj(a,b)}ca("IiifViewer",function(a,b){var c=Gb(a);if(!c)throw Error("Invalid element");this.Vh=c;dj(this,b)});
