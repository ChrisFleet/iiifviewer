/*
 * IiifViewer; Copyright (C) 2014 - Klokan Technologies GmbH
 * Powered by OpenLayers 3
 */
function aa(a){return function(b){this[a]=b}}function k(a){return function(){return this[a]}}function ba(a){return function(){return a}}var l,s=this;function da(a,b){var c=a.split("."),d=s;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function ea(){}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function v(a){return void 0!==a}function ga(a){return"array"==fa(a)}function ia(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function x(a){return"string"==typeof a}function ja(a){return"number"==typeof a}function ka(a){return"function"==fa(a)}function la(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function z(a){return a[ma]||(a[ma]=++na)}
var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function D(a,b,c){D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return D.apply(null,arguments)}function qa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ra=Date.now||function(){return+new Date};function H(a,b){function c(){}c.prototype=b.prototype;a.N=b.prototype;a.prototype=new c};function sa(a){Error.captureStackTrace?Error.captureStackTrace(this,sa):this.stack=Error().stack||"";a&&(this.message=String(a))}H(sa,Error);sa.prototype.name="CustomError";function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));return a}var va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,ua=/[&<>\"]/;var I=Array.prototype,za=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},J=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Aa=I.filter?function(a,b,c){return I.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=x(a)?
a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ca=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Da=I.some?function(a,b,c){return I.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
function Ea(a,b){var c=za(a,b),d;(d=0<=c)&&I.splice.call(a,c,1);return d}function Fa(a){return I.concat.apply(I,arguments)}function Ga(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ha(a,b,c,d){I.splice.apply(a,Ia(arguments,1))}function Ia(a,b,c){return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,b,c)}function Ja(a){I.sort.call(a,Ma)}
function Na(a,b){if(!ia(a)||!ia(b)||a.length!=b.length)return!1;for(var c=a.length,d=Oa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ma(a,b){return a>b?1:a<b?-1:0}function Oa(a,b){return a===b};function Pa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Qa(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Ra(a){var b=0,c;for(c in a)b++;return b}function Sa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ta(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ua(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return c}function Va(a){for(var b in a)return!1;return!0}function Wa(a,b){b in a&&delete a[b]}function L(a,b,c){return b in a?a[b]:c}
function Ya(a){var b={},c;for(c in a)b[c]=a[c];return b}var Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $a(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Za.length;f++)c=Za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ab(a){if("function"==typeof a.ma)return a.ma();if(x(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Sa(a)}function bb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||x(a))J(a,b,c);else{var d;if("function"==typeof a.Ma)d=a.Ma();else if("function"!=typeof a.ma)if(ia(a)||x(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ta(a);else d=void 0;for(var e=ab(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function cb(a,b){this.a={};this.J=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof cb?(c=a.Ma(),d=a.ma()):(c=Ta(a),d=Sa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=cb.prototype;l.b=0;l.Pe=0;l.bc=k("b");l.ma=function(){db(this);for(var a=[],b=0;b<this.J.length;b++)a.push(this.a[this.J[b]]);return a};l.Ma=function(){db(this);return this.J.concat()};
l.Ja=function(a){return eb(this.a,a)};l.Bb=function(){return 0==this.b};l.clear=function(){this.a={};this.Pe=this.b=this.J.length=0};l.remove=function(a){return eb(this.a,a)?(delete this.a[a],this.b--,this.Pe++,this.J.length>2*this.b&&db(this),!0):!1};function db(a){if(a.b!=a.J.length){for(var b=0,c=0;b<a.J.length;){var d=a.J[b];eb(a.a,d)&&(a.J[c++]=d);b++}a.J.length=c}if(a.b!=a.J.length){for(var e={},c=b=0;b<a.J.length;)d=a.J[b],eb(e,d)||(a.J[c++]=d,e[d]=1),b++;a.J.length=c}}
l.get=function(a,b){return eb(this.a,a)?this.a[a]:b};l.set=function(a,b){eb(this.a,a)||(this.b++,this.J.push(a),this.Pe++);this.a[a]=b};l.ja=function(){return new cb(this)};function eb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var fb,gb,hb,ib,jb,kb;function lb(){return s.navigator?s.navigator.userAgent:null}ib=hb=gb=fb=!1;var mb;if(mb=lb()){var nb=s.navigator;fb=0==mb.lastIndexOf("Opera",0);gb=!fb&&(-1!=mb.indexOf("MSIE")||-1!=mb.indexOf("Trident"));hb=!fb&&-1!=mb.indexOf("WebKit");ib=!fb&&!hb&&!gb&&"Gecko"==nb.product}var ob=fb,M=gb,pb=ib,O=hb,qb,sb=s.navigator;qb=sb&&sb.platform||"";jb=-1!=qb.indexOf("Mac");kb=-1!=qb.indexOf("Win");var tb=-1!=qb.indexOf("Linux");
function ub(){var a=s.document;return a?a.documentMode:void 0}var vb;a:{var wb="",xb;if(ob&&s.opera)var yb=s.opera.version,wb="function"==typeof yb?yb():yb;else if(pb?xb=/rv\:([^\);]+)(\)|;)/:M?xb=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:O&&(xb=/WebKit\/(\S+)/),xb)var zb=xb.exec(lb()),wb=zb?zb[1]:"";if(M){var Ab=ub();if(Ab>parseFloat(wb)){vb=String(Ab);break a}}vb=wb}var Bb={};
function P(a){var b;if(!(b=Bb[a])){b=0;for(var c=String(vb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==p[1].length?0:parseInt(p[1],
10))>(0==q[1].length?0:parseInt(q[1],10))?1:0)||((0==p[2].length)<(0==q[2].length)?-1:(0==p[2].length)>(0==q[2].length)?1:0)||(p[2]<q[2]?-1:p[2]>q[2]?1:0)}while(0==b)}b=Bb[a]=0<=b}return b}var Cb=s.document,Db=Cb&&M?ub()||("CSS1Compat"==Cb.compatMode?parseInt(vb,10):5):void 0;var Eb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?\x3d[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Fb(a){if(Gb){Gb=!1;var b=s.location;if(b){var c=b.href;if(c&&(c=(c=Fb(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Gb=!0,Error();}}return a.match(Eb)}var Gb=O;function Hb(a,b){var c;if(a instanceof Hb)this.Y=v(b)?b:a.Y,Ib(this,a.Mb),c=a.Bd,Jb(this),this.Bd=c,c=a.Xb,Jb(this),this.Xb=c,Kb(this,a.od),c=a.kd,Jb(this),this.kd=c,Lb(this,a.Ta.ja()),c=a.Rc,Jb(this),this.Rc=c;else if(a&&(c=Fb(String(a)))){this.Y=!!b;Ib(this,c[1]||"",!0);var d=c[2]||"";Jb(this);this.Bd=d?decodeURIComponent(d):"";d=c[3]||"";Jb(this);this.Xb=d?decodeURIComponent(d):"";Kb(this,c[4]);d=c[5]||"";Jb(this);this.kd=d?decodeURIComponent(d):"";Lb(this,c[6]||"",!0);c=c[7]||"";Jb(this);this.Rc=
c?decodeURIComponent(c):""}else this.Y=!!b,this.Ta=new Mb(null,0,this.Y)}l=Hb.prototype;l.Mb="";l.Bd="";l.Xb="";l.od=null;l.kd="";l.Rc="";l.Ph=!1;l.Y=!1;
l.toString=function(){var a=[],b=this.Mb;b&&a.push(Nb(b,Ob),":");if(b=this.Xb){a.push("//");var c=this.Bd;c&&a.push(Nb(c,Ob),"@");a.push(encodeURIComponent(String(b)));b=this.od;null!=b&&a.push(":",String(b))}if(b=this.kd)this.Xb&&"/"!=b.charAt(0)&&a.push("/"),a.push(Nb(b,"/"==b.charAt(0)?Pb:Qb));(b=this.Ta.toString())&&a.push("?",b);(b=this.Rc)&&a.push("#",Nb(b,Rb));return a.join("")};l.ja=function(){return new Hb(this)};
function Ib(a,b,c){Jb(a);a.Mb=c?b?decodeURIComponent(b):"":b;a.Mb&&(a.Mb=a.Mb.replace(/:$/,""))}function Kb(a,b){Jb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.od=b}else a.od=null}function Lb(a,b,c){Jb(a);b instanceof Mb?(a.Ta=b,a.Ta.Ae(a.Y)):(c||(b=Nb(b,Sb)),a.Ta=new Mb(b,0,a.Y))}function Tb(a,b,c){Jb(a);ga(c)||(c=[String(c)]);Ub(a.Ta,b,c)}function Jb(a){if(a.Ph)throw Error("Tried to modify a read-only Uri");}l.Ae=function(a){this.Y=a;this.Ta&&this.Ta.Ae(a);return this};
function Nb(a,b){return x(a)?encodeURI(a).replace(b,Vb):null}function Vb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ob=/[#\/\?@]/g,Qb=/[\#\?:]/g,Pb=/[\#\?]/g,Sb=/[\#\?@]/g,Rb=/#/g;function Mb(a,b,c){this.U=a||null;this.Y=!!c}
function Wb(a){if(!a.k&&(a.k=new cb,a.b=0,a.U))for(var b=a.U.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Xb(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}l=Mb.prototype;l.k=null;l.b=null;l.bc=function(){Wb(this);return this.b};l.add=function(a,b){Wb(this);this.U=null;a=Xb(this,a);var c=this.k.get(a);c||this.k.set(a,c=[]);c.push(b);this.b++;return this};
l.remove=function(a){Wb(this);a=Xb(this,a);return this.k.Ja(a)?(this.U=null,this.b-=this.k.get(a).length,this.k.remove(a)):!1};l.clear=function(){this.k=this.U=null;this.b=0};l.Bb=function(){Wb(this);return 0==this.b};l.Ja=function(a){Wb(this);a=Xb(this,a);return this.k.Ja(a)};l.Ma=function(){Wb(this);for(var a=this.k.ma(),b=this.k.Ma(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.ma=function(a){Wb(this);var b=[];if(a)this.Ja(a)&&(b=Fa(b,this.k.get(Xb(this,a))));else{a=this.k.ma();for(var c=0;c<a.length;c++)b=Fa(b,a[c])}return b};l.set=function(a,b){Wb(this);this.U=null;a=Xb(this,a);this.Ja(a)&&(this.b-=this.k.get(a).length);this.k.set(a,[b]);this.b++;return this};l.get=function(a,b){var c=a?this.ma(a):[];return 0<c.length?String(c[0]):b};function Ub(a,b,c){a.remove(b);0<c.length&&(a.U=null,a.k.set(Xb(a,b),Ga(c)),a.b+=c.length)}
l.toString=function(){if(this.U)return this.U;if(!this.k)return"";for(var a=[],b=this.k.Ma(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ma(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.U=a.join("\x26")};l.ja=function(){var a=new Mb;a.U=this.U;this.k&&(a.k=this.k.ja(),a.b=this.b);return a};function Xb(a,b){var c=String(b);a.Y&&(c=c.toLowerCase());return c}
l.Ae=function(a){a&&!this.Y&&(Wb(this),this.U=null,bb(this.k,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Ub(this,d,a))},this));this.Y=a};l.extend=function(a){for(var b=0;b<arguments.length;b++)bb(arguments[b],function(a,b){this.add(b,a)},this)};function Yb(){0!=Zb&&(this.Sj=Error().stack,$b[z(this)]=this)}var Zb=0,$b={};Yb.prototype.ef=!1;Yb.prototype.Oc=function(){if(!this.ef&&(this.ef=!0,this.h(),0!=Zb)){var a=z(this);delete $b[a]}};function ac(a,b){var c=qa(bc,b);a.mc||(a.mc=[]);a.mc.push(D(c,void 0))}Yb.prototype.h=function(){if(this.mc)for(;this.mc.length;)this.mc.shift()()};function bc(a){a&&"function"==typeof a.Oc&&a.Oc()};var cc=!M||M&&9<=Db,dc=!M||M&&9<=Db,ec=M&&!P("9");!O||P("528");pb&&P("1.9b")||M&&P("8")||ob&&P("9.5")||O&&P("528");pb&&!P("8")||M&&P("9");function Q(a,b){this.type=a;this.currentTarget=this.target=b}l=Q.prototype;l.h=function(){};l.Oc=function(){};l.Sa=!1;l.defaultPrevented=!1;l.ig=!0;l.stopPropagation=function(){this.Sa=!0};l.preventDefault=function(){this.defaultPrevented=!0;this.ig=!1};function fc(a){a.stopPropagation()};var gc=M?"focusout":"DOMFocusOut";function hc(a){hc[" "](a);return a}hc[" "]=ea;function ic(a,b){a&&jc(this,a,b)}H(ic,Q);var kc=[1,4,2];l=ic.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.md=!1;l.f=null;
function jc(a,b,c){var d=a.type=b.type;Q.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(pb){var e;a:{try{hc(c.nodeName);e=!0;break a}catch(f){}e=!1}e||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=O||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=O||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.md=jb?b.metaKey:b.ctrlKey;a.state=b.state;a.f=b;b.defaultPrevented&&a.preventDefault();delete a.Sa}function lc(a){return cc?0==a.f.button:"click"==a.type?!0:!!(a.f.button&kc[0])}
l.stopPropagation=function(){ic.N.stopPropagation.call(this);this.f.stopPropagation?this.f.stopPropagation():this.f.cancelBubble=!0};l.preventDefault=function(){ic.N.preventDefault.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ec)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};l.fh=k("f");l.h=function(){};var mc="closure_listenable_"+(1E6*Math.random()|0);function nc(a){return!(!a||!a[mc])}var oc=0;function pc(a,b,c,d,e,f){this.Aa=a;this.$f=b;this.src=c;this.type=d;this.capture=!!e;this.wb=f;this.key=++oc;this.Ua=this.mb=!1}function qc(a){a.Ua=!0;a.Aa=null;a.$f=null;a.src=null;a.wb=null};var rc={},sc={},tc={},uc={};function R(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);return null}c=vc(c);return nc(a)?a.ta.add(b,c,!1,d,e):wc(a,b,c,!1,d,e)}
function wc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=sc;b in g||(g[b]={b:0});g=g[b];e in g||(g[e]={b:0},g.b++);var g=g[e],h=z(a),m;if(g[h]){m=g[h];for(var n=0;n<m.length;n++)if(g=m[n],g.Aa==c&&g.wb==f){if(g.Ua)break;d||(m[n].mb=!1);return m[n]}}else m=g[h]=[],g.b++;n=xc();g=new pc(c,n,a,b,e,f);g.mb=d;n.src=a;n.Aa=g;m.push(g);tc[h]||(tc[h]=[]);tc[h].push(g);a.addEventListener?a.addEventListener(b,n,e):a.attachEvent(b in uc?uc[b]:uc[b]="on"+b,n);return rc[g.key]=g}
function xc(){var a=yc,b=dc?function(c){return a.call(b.src,b.Aa,c)}:function(c){c=a.call(b.src,b.Aa,c);if(!c)return c};return b}function zc(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)zc(a,b[f],c,d,e);return null}c=vc(c);return nc(a)?a.ta.add(b,c,!0,d,e):wc(a,b,c,!0,d,e)}
function Bc(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)Bc(a,b[f],c,d,e);else if(c=vc(c),nc(a))a.ta.remove(b,c,d,e);else{d=!!d;a:{f=sc;if(b in f&&(f=f[b],d in f&&(f=f[d],a=z(a),f[a]))){a=f[a];break a}a=null}if(a)for(f=0;f<a.length;f++)if(a[f].Aa==c&&a[f].capture==d&&a[f].wb==e){S(a[f]);break}}}
function S(a){if(ja(a)||!a||a.Ua)return!1;var b=a.src;if(nc(b))return Cc(b.ta,a);var c=a.type,d=a.$f,e=a.capture;b.removeEventListener?b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in uc?uc[c]:uc[c]="on"+c,d);b=z(b);tc[b]&&(d=tc[b],Ea(d,a),0==d.length&&delete tc[b]);qc(a);if(d=sc[c][e][b])Ea(d,a),0==d.length&&(delete sc[c][e][b],sc[c][e].b--),0==sc[c][e].b&&(delete sc[c][e],sc[c].b--),0==sc[c].b&&delete sc[c];delete rc[a.key];return!0}
function Dc(a){if(nc(a))return a.fc(void 0,void 0);a=z(a);var b=tc[a];if(b){var c=v(void 0),d=v(void 0);return c&&d?(b=sc[void 0],!!b&&!!b[void 0]&&a in b[void 0]):c||d?Da(b,function(a){return c&&void 0==a.type||d&&void 0==a.capture}):!0}return!1}function Ec(a,b,c){var d=1;b=z(b);if(a[b])for(a=Ga(a[b]),b=0;b<a.length;b++){var e=a[b];e&&!e.Ua&&(d&=!1!==Fc(e,c))}return Boolean(d)}function Fc(a,b){var c=a.Aa,d=a.wb||a.src;a.mb&&S(a);return c.call(d,b)}
function yc(a,b){if(a.Ua)return!0;var c=a.type,d=sc;if(!(c in d))return!0;var d=d[c],e,f;if(!dc){if(!(c=b))a:{for(var c=["window","event"],g=s;e=c.shift();)if(null!=g[e])g=g[e];else{c=null;break a}c=g}e=c;c=!0 in d;g=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var h=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(m){h=!0}if(h||void 0==e.returnValue)e.returnValue=!0}}h=new ic;jc(h,e,this);e=!0;try{if(c){for(var n=[],p=h.currentTarget;p;p=p.parentNode)n.push(p);f=d[!0];for(var q=
n.length-1;!h.Sa&&0<=q;q--)h.currentTarget=n[q],e&=Ec(f,n[q],h);if(g)for(f=d[!1],q=0;!h.Sa&&q<n.length;q++)h.currentTarget=n[q],e&=Ec(f,n[q],h)}else e=Fc(a,h)}finally{n&&(n.length=0)}return e}d=new ic(b,this);return e=Fc(a,d)}var Gc="__closure_events_fn_"+(1E9*Math.random()>>>0);function vc(a){return ka(a)?a:a[Gc]||(a[Gc]=function(b){return a.handleEvent(b)})};function Hc(a){return function(){return a}}var Ic=Hc(!1),Jc=Hc(!0);function Kc(a){return function(){throw a;}}function Lc(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function Mc(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function Nc(a,b,c){Yb.call(this);this.Uh=a;this.Hh=c;this.qa=b||window;this.Jd=D(this.Tg,this)}H(Nc,Yb);l=Nc.prototype;l.R=null;l.Oe=!1;l.start=function(){this.stop();this.Oe=!1;var a=Oc(this),b=Pc(this);a&&!b&&this.qa.mozRequestAnimationFrame?(this.R=R(this.qa,"MozBeforePaint",this.Jd),this.qa.mozRequestAnimationFrame(null),this.Oe=!0):this.R=a&&b?a.call(this.qa,this.Jd):this.qa.setTimeout(Lc(this.Jd),20)};
l.stop=function(){if(null!=this.R){var a=Oc(this),b=Pc(this);a&&!b&&this.qa.mozRequestAnimationFrame?S(this.R):a&&b?b.call(this.qa,this.R):this.qa.clearTimeout(this.R)}this.R=null};l.Tg=function(){this.Oe&&this.R&&S(this.R);this.R=null;this.Uh.call(this.Hh,ra())};l.h=function(){this.stop();Nc.N.h.call(this)};function Oc(a){a=a.qa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}
function Pc(a){a=a.qa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};var Qc;
function Rc(){var a=s.MessageChannel;"undefined"===typeof a&&("undefined"!==typeof window&&window.postMessage&&window.addEventListener)&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.body.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=D(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);
this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Ve;c.Ve=null;a()};return function(a){d.next={Ve:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:
function(a){s.setTimeout(a,0)}};function Sc(){this.ag=ra()}new Sc;Sc.prototype.set=aa("ag");Sc.prototype.get=k("ag");var Tc,Uc=!M||M&&9<=Db;!pb&&!M||M&&M&&9<=Db||pb&&P("1.9.1");M&&P("9");function Vc(a,b){var c;c=a.className;c=x(c)&&c.match(/\S+/g)||[];for(var d=Ia(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=za(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};function Wc(a,b,c){return Math.min(Math.max(a,b),c)};function U(a,b){this.x=v(a)?a:0;this.y=v(b)?b:0}U.prototype.ja=function(){return new U(this.x,this.y)};U.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};U.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};U.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};function Xc(a,b){this.width=a;this.height=b}l=Xc.prototype;l.ja=function(){return new Xc(this.width,this.height)};l.Bb=function(){return!(this.width*this.height)};l.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Yc(a){return a?new Zc($c(a)):Tc||(Tc=new Zc)}function ad(a){return x(a)?document.getElementById(a):a}function bd(a,b){Pa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in cd?a.setAttribute(cd[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var cd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function dd(a){a=a.document;a=ed(a)?a.documentElement:a.body;return new Xc(a.clientWidth,a.clientHeight)}
function V(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!Uc&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',ta(g.name),'"');if(g.type){f.push(' type\x3d"',ta(g.type),'"');var h={};$a(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(x(g)?f.className=g:ga(g)?Vc.apply(null,[f].concat(g)):bd(f,g));2<d.length&&fd(e,f,d);return f}
function fd(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ia(f)||la(f)&&0<f.nodeType?d(f):J(gd(f)?Ga(f):f,d)}}function hd(a){return document.createElement(a)}function ed(a){return"CSS1Compat"==a.compatMode}function id(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function jd(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function kd(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function ld(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function $c(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function gd(a){if(a&&"number"==typeof a.length){if(la(a))return"function"==typeof a.item||"string"==typeof a.item;if(ka(a))return"function"==typeof a.item}return!1}function Zc(a){this.Wb=a||s.document||document}l=Zc.prototype;
l.zc=bd;l.createElement=function(a){return this.Wb.createElement(a)};l.createTextNode=function(a){return this.Wb.createTextNode(String(a))};function md(a){var b=a.Wb;a=!O&&ed(b)?b.documentElement:b.body;b=b.parentWindow||b.defaultView;return M&&P("10")&&b.pageYOffset!=a.scrollTop?new U(a.scrollLeft,a.scrollTop):new U(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}l.appendChild=function(a,b){a.appendChild(b)};l.contains=ld;function nd(a){this.src=a;this.S={};this.yd=0}nd.prototype.add=function(a,b,c,d,e){var f=this.S[a];f||(f=this.S[a]=[],this.yd++);var g=od(f,b,d,e);-1<g?(a=f[g],c||(a.mb=!1)):(a=new pc(b,null,this.src,a,!!d,e),a.mb=c,f.push(a));return a};nd.prototype.remove=function(a,b,c,d){if(!(a in this.S))return!1;var e=this.S[a];b=od(e,b,c,d);return-1<b?(qc(e[b]),I.splice.call(e,b,1),0==e.length&&(delete this.S[a],this.yd--),!0):!1};
function Cc(a,b){var c=b.type;if(!(c in a.S))return!1;var d=Ea(a.S[c],b);d&&(qc(b),0==a.S[c].length&&(delete a.S[c],a.yd--));return d}nd.prototype.fc=function(a,b){var c=v(a),d=v(b);return Qa(this.S,function(e){for(var f=0;f<e.length;++f)if(!(c&&e[f].type!=a||d&&e[f].capture!=b))return!0;return!1})};function od(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ua&&f.Aa==b&&f.capture==!!c&&f.wb==d)return e}return-1};function W(){Yb.call(this);this.ta=new nd(this);this.Fg=this}H(W,Yb);W.prototype[mc]=!0;l=W.prototype;l.ue=null;l.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Bc(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.ue;if(c)for(b=[];c;c=c.ue)b.push(c);var c=this.Fg,d=a.type||a;if(x(a))a=new Q(a,c);else if(a instanceof Q)a.target=a.target||c;else{var e=a;a=new Q(d,c);$a(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Sa&&0<=g;g--)f=a.currentTarget=b[g],e=pd(f,d,!0,a)&&e;a.Sa||(f=a.currentTarget=c,e=pd(f,d,!0,a)&&e,a.Sa||(e=pd(f,d,!1,a)&&e));if(b)for(g=0;!a.Sa&&g<b.length;g++)f=a.currentTarget=b[g],e=pd(f,d,!1,a)&&e;return e};
l.h=function(){W.N.h.call(this);if(this.ta){var a=this.ta,b=0,c;for(c in a.S){for(var d=a.S[c],e=0;e<d.length;e++)++b,d[e].Ua=!0;delete a.S[c];a.yd--}}this.ue=null};function pd(a,b,c,d){b=a.ta.S[b];if(!b)return!0;b=Ga(b);for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Ua&&g.capture==c){var h=g.Aa,m=g.wb||g.src;g.mb&&Cc(a.ta,g);e=!1!==h.call(m,d)&&e}}return e&&!1!=d.ig}l.fc=function(a,b){return this.ta.fc(a,b)};function qd(a){W.call(this);this.Ic=a||window;this.dd=R(this.Ic,"resize",this.zh,!1,this);this.Ha=dd(this.Ic||window)}H(qd,W);l=qd.prototype;l.dd=null;l.Ic=null;l.Ha=null;l.Na=function(){return this.Ha?this.Ha.ja():null};l.h=function(){qd.N.h.call(this);this.dd&&(S(this.dd),this.dd=null);this.Ha=this.Ic=null};l.zh=function(){var a=dd(this.Ic||window);a==this.Ha||a&&this.Ha&&a.width==this.Ha.width&&a.height==this.Ha.height||(this.Ha=a,this.dispatchEvent("resize"))};function rd(a,b,c,d,e){if(!(M||O&&P("525")))return!0;if(jb&&e)return sd(a);if(e&&!d||!c&&(17==b||18==b||jb&&91==b))return!1;if(O&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(M&&d&&b==a)return!1;switch(a){case 13:return!(M&&M&&9<=Db);case 27:return!O}return sd(a)}
function sd(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||O&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function td(a){switch(a){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return a}};function ud(a,b){W.call(this);a&&vd(this,a,b)}H(ud,W);l=ud.prototype;l.L=null;l.$c=null;l.je=null;l.ad=null;l.V=-1;l.Oa=-1;l.Ed=!1;
var yd={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},zd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ad=M||O&&P("525"),Bd=jb&&pb;l=ud.prototype;
l.nh=function(a){O&&(17==this.V&&!a.ctrlKey||18==this.V&&!a.altKey||jb&&91==this.V&&!a.metaKey)&&(this.Oa=this.V=-1);-1==this.V&&(a.ctrlKey&&17!=a.keyCode?this.V=17:a.altKey&&18!=a.keyCode?this.V=18:a.metaKey&&91!=a.keyCode&&(this.V=91));Ad&&!rd(a.keyCode,this.V,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Oa=pb?td(a.keyCode):a.keyCode,Bd&&(this.Ed=a.altKey))};l.oh=function(a){this.Oa=this.V=-1;this.Ed=a.altKey};
l.handleEvent=function(a){var b=a.f,c,d,e=b.altKey;M&&"keypress"==a.type?(c=this.Oa,d=13!=c&&27!=c?b.keyCode:0):O&&"keypress"==a.type?(c=this.Oa,d=0<=b.charCode&&63232>b.charCode&&sd(c)?b.charCode:0):ob?(c=this.Oa,d=sd(c)?b.keyCode:0):(c=b.keyCode||this.Oa,d=b.charCode||0,Bd&&(e=this.Ed),jb&&(63==d&&224==c)&&(c=191));var f=c,g=b.keyIdentifier;c?63232<=c&&c in yd?f=yd[c]:25==c&&a.shiftKey&&(f=9):g&&g in zd&&(f=zd[g]);a=f==this.V;this.V=f;b=new Cd(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function vd(a,b,c){a.ad&&a.detach();a.L=b;a.$c=R(a.L,"keypress",a,c);a.je=R(a.L,"keydown",a.nh,c,a);a.ad=R(a.L,"keyup",a.oh,c,a)}l.detach=function(){this.$c&&(S(this.$c),S(this.je),S(this.ad),this.ad=this.je=this.$c=null);this.L=null;this.Oa=this.V=-1};l.h=function(){ud.N.h.call(this);this.detach()};function Cd(a,b,c,d){d&&jc(this,d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}H(Cd,ic);function Dd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}l=Dd.prototype;l.ja=function(){return new Dd(this.top,this.right,this.bottom,this.left)};l.contains=function(a){return this&&a?a instanceof Dd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
l.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};l.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};l.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function Ed(a,b){var c=$c(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Fd(a,b){return Ed(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Gd(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}M&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Hd(a){if(M&&!(M&&8<=Db))return a.offsetParent;var b=$c(a),c=Fd(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Fd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function Id(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=Gd(a),b=new U(b.left,b.top);else{b=md(Yc(a));var c,d=$c(a),e=Fd(a,"position"),f=pb&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new U(0,0),h;c=d?$c(d):document;(h=!M)||(h=M&&9<=Db)||(h=Yc(c),h=ed(h.Wb));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=Gd(a),d=md(Yc(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(O&&"fixed"==Fd(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(ob||O&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=Hd(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,ob&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new U(g.x-b.x,g.y-b.y)}if(pb&&!P(12)){var m;M?m="-ms-transform":O?m="-webkit-transform":
ob?m="-o-transform":pb&&(m="-moz-transform");var n;m&&(n=Fd(a,m));n||(n=Fd(a,"transform"));a=n?(a=n.match(Jd))?new U(parseFloat(a[1]),parseFloat(a[2])):new U(0,0):new U(0,0);a=new U(b.x+a.x,b.y+a.y)}else a=b;return a}m=ka(a.fh);n=a;a.targetTouches?n=a.targetTouches[0]:m&&a.f.targetTouches&&(n=a.f.targetTouches[0]);return new U(n.clientX,n.clientY)}
function Kd(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function Ld(a,b){a.style.display=b?"":"none"}function Md(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function Nd(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Md(a,c,"left","pixelLeft"):0}var Od={thin:2,medium:4,thick:6};function Pd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Od?Od[c]:Md(a,c,"left","pixelLeft")}var Jd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function Qd(a,b){W.call(this);this.L=a;var c=la(this.L)&&1==this.L.nodeType?this.L:this.L?this.L.body:null;this.Qh=!!c&&"rtl"==Fd(c,"direction");this.Kf=R(this.L,pb?"DOMMouseScroll":"mousewheel",this,b)}H(Qd,W);
Qd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.f;if("mousewheel"==a.type){c=1;if(M||O&&(kb||P("532.0")))c=40;d=Rd(-a.wheelDelta,c);v(a.wheelDeltaX)?(b=Rd(-a.wheelDeltaX,c),c=Rd(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),v(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ja(this.Lf)&&(b=Wc(b,-this.Lf,this.Lf));ja(this.Mf)&&(c=Wc(c,-this.Mf,this.Mf));this.Qh&&(b=-b);b=new Sd(d,a,b,c);this.dispatchEvent(b)};function Rd(a,b){return O&&(jb||tb)&&0!=a%b?a:a/b}
Qd.prototype.h=function(){Qd.N.h.call(this);S(this.Kf);this.Kf=null};function Sd(a,b,c,d){b&&jc(this,b,void 0);this.type="mousewheel";this.detail=a;this.Tj=c;this.Sd=d}H(Sd,ic);function Td(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Td.prototype.BYTES_PER_ELEMENT=4;Td.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Td.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Td.BYTES_PER_ELEMENT=4,Td.prototype.BYTES_PER_ELEMENT=Td.prototype.BYTES_PER_ELEMENT,Td.prototype.set=Td.prototype.set,Td.prototype.toString=Td.prototype.toString,da("Float32Array",Td));function Ud(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Ud.prototype.BYTES_PER_ELEMENT=8;Ud.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Ud.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Ud.BYTES_PER_ELEMENT=8}catch(Vd){}Ud.prototype.BYTES_PER_ELEMENT=Ud.prototype.BYTES_PER_ELEMENT;Ud.prototype.set=Ud.prototype.set;Ud.prototype.toString=Ud.prototype.toString;da("Float64Array",Ud)};function Wd(){var a=Array(16);Xd(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Xd(a,b,c,d,e,f,g,h,m,n,p,q,r,t,u,y,w){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=r;a[12]=t;a[13]=u;a[14]=y;a[15]=w}function Yd(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);
new Float64Array(16);function Zd(){W.call(this);this.Fa=0}H(Zd,W);Zd.prototype.X=function(){++this.Fa;this.dispatchEvent("change")};function $d(a,b){Q.call(this,a);this.key=b}H($d,Q);function ae(a){Zd.call(this);z(this);this.Ob={};this.Dd={};this.Rj={};this.kk={};v(a)&&this.zc(a)}H(ae,Zd);var be={},ce={},de={};function ee(a){return be.hasOwnProperty(a)?be[a]:be[a]="change:"+a.toLowerCase()}
ae.prototype.get=function(a){var b,c=this.Dd;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.gj,d=ce.hasOwnProperty(c)?ce[c]:ce[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=L(b,d);b=v(d)?d.call(b):b.get(c);b=a.xk(b)}else this.Ob.hasOwnProperty(a)&&(b=this.Ob[a]);return b};ae.prototype.Ma=function(){var a=this.Dd,b;if(Va(this.Ob)){if(Va(a))return[];b=a}else if(Va(a))b=this.Ob;else{b={};for(var c in this.Ob)b[c]=!0;for(c in a)b[c]=!0}return Ta(b)};
ae.prototype.set=function(a,b){this.dispatchEvent(new $d("beforepropertychange",a));var c=this.Dd;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.gj;b=d.Vj(b);d=de.hasOwnProperty(e)?de[e]:de[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=L(c,d);v(d)?d.call(c,b):c.set(e,b)}else this.Ob[a]=b,c=ee(a),this.dispatchEvent(c),this.dispatchEvent(new $d("propertychange",a))};ae.prototype.zc=function(a){for(var b in a)this.set(b,a[b])};function fe(a,b,c){Q.call(this,a,c);this.element=b}H(fe,Q);function ge(a){ae.call(this);this.ga=a||[];he(this)}H(ge,ae);l=ge.prototype;l.clear=function(){for(;0<this.get("length");)this.pop()};l.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};l.forEach=function(a,b){J(this.ga,a,b)};l.item=function(a){return this.ga[a]};l.pop=function(){return ie(this,this.get("length")-1)};
l.push=function(a){var b=this.ga.length;Ha(this.ga,b,0,a);he(this);this.dispatchEvent(new fe("add",a,this));return b};l.remove=function(a){var b=this.ga,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return ie(this,c)};function ie(a,b){var c=a.ga[b];I.splice.call(a.ga,b,1);he(a);a.dispatchEvent(new fe("remove",c,a));return c}function he(a){a.set("length",a.ga.length)};var je=M&&!P("9.0")&&""!==vb;function ke(a,b){a[0]+=b[0];a[1]+=b[1]}function le(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function me(a,b,c){Q.call(this,a);this.map=b;this.frameState=v(c)?c:null}H(me,Q);function ne(a,b,c){Q.call(this,a);this.r=b;a=v(c)?c:{};this.buttons=oe(a);this.we=pe(a,this.buttons);this.bubbles=L(a,"bubbles",!1);this.cancelable=L(a,"cancelable",!1);this.view=L(a,"view",null);this.detail=L(a,"detail",null);this.screenX=L(a,"screenX",0);this.screenY=L(a,"screenY",0);this.clientX=L(a,"clientX",0);this.clientY=L(a,"clientY",0);this.ctrlKey=L(a,"ctrlKey",!1);this.altKey=L(a,"altKey",!1);this.shiftKey=L(a,"shiftKey",!1);this.metaKey=L(a,"metaKey",!1);this.button=L(a,"button",0);this.relatedTarget=
L(a,"relatedTarget",null);this.pointerId=L(a,"pointerId",0);this.width=L(a,"width",0);this.height=L(a,"height",0);this.vk=L(a,"tiltX",0);this.wk=L(a,"tiltY",0);this.pointerType=L(a,"pointerType","");this.hwTimestamp=L(a,"hwTimestamp",0);this.Yc=L(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}H(ne,Q);function oe(a){if(a.buttons||qe)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}
function pe(a,b){var c=0;return c=a.we?a.we:b?0.5:0}var qe=!1;try{qe=1===(new MouseEvent("click",{buttons:1})).buttons}catch(re){};function se(a,b){var c=hd("CANVAS");v(a)&&(c.width=a);v(b)&&(c.height=b);return c.getContext("2d")}
var te=function(){var a;return function(){if(!v(a))if(s.getComputedStyle){var b=hd("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=s.getComputedStyle(b).getPropertyValue(d[e]));kd(b);a=c&&"none"!==c}else a=!1;return a}}(),ue=function(){var a;return function(){if(!v(a))if(s.getComputedStyle){var b=hd("P"),
c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=s.getComputedStyle(b).getPropertyValue(d[e]));kd(b);a=c&&"none"!==c}else a=!1;return a}}();function ve(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Ej=b;c.msTransform=b;c.transform=b;M&&!je&&(a.style.transformOrigin="0 0")};var we=s.devicePixelRatio||1,xe=!1,ye=function(){if(!("HTMLCanvasElement"in s))return!1;try{var a=se();if(null===a)return!1;v(a.setLineDash)&&(xe=!0);return!0}catch(b){return!1}}(),ze="ontouchstart"in s,Ae="PointerEvent"in s,Be=!!s.navigator.msPointerEnabled;function Ce(a,b){this.d=a;this.gd=b};function De(a){Ce.call(this,a,{mousedown:this.fi,mousemove:this.gi,mouseup:this.ji,mouseover:this.ii,mouseout:this.hi});this.o=a.o;this.Hf=[]}H(De,Ce);function Ee(a,b){for(var c=a.Hf,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}function Fe(a){var b=Ge(a,a.f),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.Yc=!0;b.pointerType="mouse";return b}l=De.prototype;
l.fi=function(a){if(!Ee(this,a)){(1).toString()in this.o&&this.cancel(a);var b=Fe(a);this.o[(1).toString()]=a;this.d.fireEvent(He,b,a)}};l.gi=function(a){if(!Ee(this,a)){var b=Fe(a);this.d.move(b,a)}};l.ji=function(a){if(!Ee(this,a)){var b=L(this.o,(1).toString());b&&b.button===a.button&&(b=Fe(a),this.d.fireEvent(Ie,b,a),Wa(this.o,(1).toString()))}};l.ii=function(a){if(!Ee(this,a)){var b=Fe(a);Je(this.d,b,a)}};l.hi=function(a){if(!Ee(this,a)){var b=Fe(a);Ke(this.d,b,a)}};
l.cancel=function(a){var b=Fe(a);this.d.cancel(b,a);Wa(this.o,(1).toString())};function Le(a){Ce.call(this,a,{MSPointerDown:this.oi,MSPointerMove:this.pi,MSPointerUp:this.si,MSPointerOut:this.qi,MSPointerOver:this.ri,MSPointerCancel:this.ni,MSGotPointerCapture:this.li,MSLostPointerCapture:this.mi});this.o=a.o;this.Eg=["","unavailable","touch","pen","mouse"]}H(Le,Ce);function Me(a,b){var c=b;ja(b.f.pointerType)&&(c=Ge(b,b.f),c.pointerType=a.Eg[b.f.pointerType]);return c}l=Le.prototype;l.oi=function(a){this.o[a.f.pointerId]=a;var b=Me(this,a);this.d.fireEvent(He,b,a)};
l.pi=function(a){var b=Me(this,a);this.d.move(b,a)};l.si=function(a){var b=Me(this,a);this.d.fireEvent(Ie,b,a);Wa(this.o,a.f.pointerId)};l.qi=function(a){var b=Me(this,a);Ke(this.d,b,a)};l.ri=function(a){var b=Me(this,a);Je(this.d,b,a)};l.ni=function(a){var b=Me(this,a);this.d.cancel(b,a);Wa(this.o,a.f.pointerId)};l.mi=function(a){this.d.dispatchEvent(new ne("lostpointercapture",a,a.f))};l.li=function(a){this.d.dispatchEvent(new ne("gotpointercapture",a,a.f))};function Ne(a){Ce.call(this,a,{pointerdown:this.Di,pointermove:this.Ei,pointerup:this.Hi,pointerout:this.Fi,pointerover:this.Gi,pointercancel:this.Ci,gotpointercapture:this.jh,lostpointercapture:this.Yh})}H(Ne,Ce);l=Ne.prototype;l.Di=function(a){Oe(this.d,a)};l.Ei=function(a){Oe(this.d,a)};l.Hi=function(a){Oe(this.d,a)};l.Fi=function(a){Oe(this.d,a)};l.Gi=function(a){Oe(this.d,a)};l.Ci=function(a){Oe(this.d,a)};l.Yh=function(a){Oe(this.d,a)};l.jh=function(a){Oe(this.d,a)};function Pe(a,b){Ce.call(this,a,{touchstart:this.qj,touchmove:this.pj,touchend:this.oj,touchcancel:this.nj});this.o=a.o;this.ei=b;this.$b=void 0;this.Nd=0;this.uc=void 0}H(Pe,Ce);l=Pe.prototype;l.gg=function(){this.Nd=0;this.uc=void 0};
function Qe(a,b,c){b=Ge(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Nd;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.we=c.webkitForce||c.force||0.5;b.Yc=a.$b===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Se(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.f.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=Qe(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
l.qj=function(a){var b=a.f.touches,c=Ta(this.o),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.o[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.gb)}for(f=0;f<e.length;++f)this.Kd(a,e[f])}b=Ra(this.o);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.o;c=b}c&&(this.$b=a.f.changedTouches[0].identifier,v(this.uc)&&s.clearTimeout(this.uc));Te(this,a);this.Nd++;Se(this,a,this.vi)};
l.vi=function(a,b){this.o[b.pointerId]={target:b.target,gb:b,Vf:b.target};var c=this.d;b.bubbles=!0;c.fireEvent(Ue,b,a);c=this.d;b.bubbles=!1;c.fireEvent(Ve,b,a);this.d.fireEvent(He,b,a)};l.pj=function(a){a.preventDefault();Se(this,a,this.ki)};
l.ki=function(a,b){var c=L(this.o,b.pointerId);if(c){var d=c.gb,e=c.Vf;this.d.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Ke(this.d,d,a),Je(this.d,b,a)):(b.target=e,b.relatedTarget=null,this.Kd(a,b)));c.gb=b;c.Vf=b.target}};l.oj=function(a){Te(this,a);Se(this,a,this.rj)};
l.rj=function(a,b){this.d.fireEvent(Ie,b,a);this.d.gb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(We,b,a);Wa(this.o,b.pointerId);b.Yc&&(this.$b=void 0,this.uc=s.setTimeout(D(this.gg,this),200))};l.nj=function(a){Se(this,a,this.Kd)};l.Kd=function(a,b){this.d.cancel(b,a);this.d.gb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(We,b,a);Wa(this.o,b.pointerId);b.Yc&&(this.$b=void 0,this.uc=s.setTimeout(D(this.gg,this),200))};
function Te(a,b){var c=a.ei.Hf,d=b.f.changedTouches[0];if(a.$b===d.identifier){var e=[d.clientX,d.clientY];c.push(e);s.setTimeout(function(){Ea(c,e)},2500)}};function Xe(a){W.call(this);this.L=a;this.o={};this.hf={};this.Zb=[];Ae?Ye(this,new Ne(this)):Be?Ye(this,new Le(this)):(a=new De(this),Ye(this,a),ze&&Ye(this,new Pe(this,a)));a=this.Zb.length;for(var b,c=0;c<a;c++)b=this.Zb[c],Ze(this,Ta(b.gd))}H(Xe,W);function Ye(a,b){var c=Ta(b.gd);c&&(J(c,function(a){var c=b.gd[a];c&&(this.hf[a]=D(c,b))},a),a.Zb.push(b))}l=Xe.prototype;l.gf=function(a){var b=this.hf[a.type];b&&b(a)};function Ze(a,b){J(b,function(a){R(this.L,a,this.gf,!1,this)},a)}
function $e(a,b){J(b,function(a){Bc(this.L,a,this.gf,!1,this)},a)}function Ge(a,b){for(var c={},d,e=0,f=af.length;e<f;e++)d=af[e][0],c[d]=a[d]||b[d]||af[e][1];return c}l.move=function(a,b){this.fireEvent(bf,a,b)};l.gb=function(a,b){a.bubbles=!0;this.fireEvent(cf,a,b)};l.cancel=function(a,b){this.fireEvent(df,a,b)};function Ke(a,b,c){a.gb(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(We,b,c))}
function Je(a,b,c){b.bubbles=!0;a.fireEvent(Ue,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(Ve,b,c))}l.fireEvent=function(a,b,c){this.dispatchEvent(new ne(a,c,b))};function Oe(a,b){a.dispatchEvent(new ne(b.type,b,b.f))}l.h=function(){for(var a=this.Zb.length,b,c=0;c<a;c++)b=this.Zb[c],$e(this,Ta(b.gd));Xe.N.h.call(this)};
var bf="pointermove",He="pointerdown",Ie="pointerup",Ue="pointerover",cf="pointerout",Ve="pointerenter",We="pointerleave",df="pointercancel",af=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function ef(a,b,c,d){me.call(this,a,b,d);this.r=c;this.originalEvent=c.f;c=this.originalEvent;v(c.changedTouches)?(a=c.changedTouches[0],c=Id(b.w),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.w,c=Id(c),a=Id(a),a=new U(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.ac(this.pixel)}H(ef,me);ef.prototype.preventDefault=function(){ef.N.preventDefault.call(this);this.r.preventDefault()};ef.prototype.stopPropagation=function(){ef.N.stopPropagation.call(this);this.r.stopPropagation()};
function ff(a,b,c,d){ef.call(this,a,b,c.r,d);this.hb=c}H(ff,ef);function gf(a){W.call(this);this.a=a;this.Sb=0;this.Vd=!1;this.Pc=this.nd=this.ab=null;a=this.a.w;this.Se=0;this.Le={};this.Ib=new Xe(a);this.Ka=null;this.nd=R(this.Ib,He,this.wh,!1,this);this.xe=R(this.Ib,bf,this.Ji,!1,this)}H(gf,W);
function hf(a,b){var c;c=new ff(jf,a.a,b);a.dispatchEvent(c);0!==a.Sb?(s.clearTimeout(a.Sb),a.Sb=0,c=new ff(kf,a.a,b),a.dispatchEvent(c)):a.Sb=s.setTimeout(D(function(){this.Sb=0;var a=new ff(lf,this.a,b);this.dispatchEvent(a)},a),250)}function mf(a,b){b.type==nf||b.type==of?delete a.Le[b.pointerId]:b.type==pf&&(a.Le[b.pointerId]=!0);a.Se=Ra(a.Le)}l=gf.prototype;
l.xa=function(a){mf(this,a);var b=new ff(nf,this.a,a);this.dispatchEvent(b);0===this.Se&&(J(this.ab,S),this.ab=null,bc(this.Ka),this.Ka=null);!this.Vd&&0===a.button&&hf(this,this.Pc)};l.wh=function(a){mf(this,a);var b=new ff(pf,this.a,a);this.dispatchEvent(b);this.Pc=a;this.Vd=!1;null===this.ab&&(this.Ka=new Xe(document),this.ab=[R(this.Ka,qf,this.xh,!1,this),R(this.Ka,nf,this.xa,!1,this),R(this.Ib,of,this.xa,!1,this)]);a.preventDefault()};
l.xh=function(a){if(a.clientX!=this.Pc.clientX||a.clientY!=this.Pc.clientY){this.Vd=!0;var b=new ff(rf,this.a,a);this.dispatchEvent(b)}a.preventDefault()};l.Ji=function(a){this.dispatchEvent(new ff(a.type,this.a,a))};l.h=function(){null!==this.xe&&(S(this.xe),this.xe=null);null!==this.nd&&(S(this.nd),this.nd=null);null!==this.ab&&(J(this.ab,S),this.ab=null);null!==this.Ka&&(bc(this.Ka),this.Ka=null);null!==this.Ib&&(bc(this.Ib),this.Ib=null);gf.N.h.call(this)};
var lf="singleclick",jf="click",kf="dblclick",rf="pointerdrag",qf="pointermove",pf="pointerdown",nf="pointerup",of="pointercancel",sf={Oj:lf,Cj:jf,Dj:kf,Hj:rf,Kj:qf,Gj:pf,Nj:nf,Mj:"pointerover",Lj:"pointerout",Ij:"pointerenter",Jj:"pointerleave",Fj:of};function tf(a,b,c){return a+"/"+b+"/"+c}function uf(a){return tf(a[0],a[1],a[2])};function vf(a,b,c,d){this.n=a;this.H=b;this.p=c;this.l=d}function wf(a,b,c,d,e){return v(e)?(e.n=a,e.H=b,e.p=c,e.l=d,e):new vf(a,b,c,d)}l=vf.prototype;l.contains=function(a){return this.Nc(a[1],a[2])};l.Nc=function(a,b){return this.n<=a&&a<=this.H&&this.p<=b&&b<=this.l};l.extend=function(a){a.n<this.n&&(this.n=a.n);a.H>this.H&&(this.H=a.H);a.p<this.p&&(this.p=a.p);a.l>this.l&&(this.l=a.l)};l.Na=function(){return[this.eb(),this.l-this.p+1]};l.eb=function(){return this.H-this.n+1};function xf(a,b,c,d,e){return v(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function yf(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function zf(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=Af(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function Bf(a,b,c,d){var e=b*d[0]/2,f=b*d[1]/2;b=Math.cos(c);d=Math.sin(c);e=[-e,-e,e,e];c=[-f,f,-f,f];for(var g,h,f=0;4>f;++f)g=e[f],h=c[f],e[f]=a[0]+g*b-h*d,c[f]=a[1]+g*d+h*b;a=Math.min.apply(null,e);b=Math.min.apply(null,c);e=Math.max.apply(null,e);c=Math.max.apply(null,c);return xf(a,b,e,c,void 0)}
function Cf(a,b){var c=v(void 0)?void 0:[Infinity,Infinity,-Infinity,-Infinity];Df(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function Af(a){return[a[0],a[3]]}function Df(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
var Ef={};Ef.degrees=2*Math.PI*(new (aa("Ii"))(6370997)).Ii/360;Ef.ft=0.3048;Ef.m=1;function Ff(a){this.Tb=a.code;this.zg=a.Ne;this.La=v(a.c)?a.c:null;this.zk=v(a.Qe)?a.Qe:null;this.Qj=v(a.Ue)?a.Ue:"enu";this.gk=v(a.global)?a.global:!1;this.cf=null}Ff.prototype.M=k("La");Ff.prototype.lg=aa("La");var Gf={},Hf={};function If(a){Jf(a);J(a,function(b){J(a,function(a){b!==a&&Kf(b,a,Lf)})})}function Mf(a){Gf[a.Tb]=a;Kf(a,a,Lf)}function Jf(a){var b=[];J(a,function(a){b.push(Mf(a))})}
function Nf(a){return null!=a?x(a)?Of(a):a:Of("EPSG:3857")}function Kf(a,b,c){a=a.Tb;b=b.Tb;a in Hf||(Hf[a]={});Hf[a][b]=c}function Of(a){return a instanceof Ff?a:x(a)?Gf[a]:null}function Pf(a,b){if(v(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Lf(a,b){var c;if(v(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function Qf(a){Zd.call(this);this.Zf=Of(a.projection);this.Hg=v(a.Ya)?a.Ya:null;this.Wh=a.Ba;this.ej=v(a.state)?a.state:"ready"}H(Qf,Zd);Qf.prototype.u=k("ej");function X(a){ae.call(this);a=Ya(a);a.lb=v(a.lb)?a.lb:0;a.ob=v(a.ob)?a.ob:1;a.yb=v(a.yb)?a.yb:0;a.opacity=v(a.opacity)?a.opacity:1;a.Lb=v(a.Lb)?a.Lb:1;a.visible=v(a.visible)?a.visible:!0;a.Ca=v(a.Ca)?a.Ca:Infinity;a.Qa=v(a.Qa)?a.Qa:0;this.zc(a)}H(X,ae);X.prototype.of=function(){return this.get("brightness")};X.prototype.getBrightness=X.prototype.of;X.prototype.pf=function(){return this.get("contrast")};X.prototype.getContrast=X.prototype.pf;X.prototype.qf=function(){return this.get("hue")};
X.prototype.getHue=X.prototype.qf;function Rf(a){var b=a.of(),c=a.pf(),d=a.qf(),e=a.tf(),f=a.uf(),g=a.vf(),h=a.fe(),m=a.M(),n=a.rf(),p=a.sf();return{cd:a,lb:v(b)?Wc(b,-1,1):0,ob:v(c)?Math.max(c,0):1,yb:v(d)?d:0,opacity:v(e)?Wc(e,0,1):1,Lb:v(f)?Math.max(f,0):1,og:g,visible:v(h)?!!h:!0,c:m,Ca:v(n)?n:Infinity,Qa:v(p)?Math.max(p,0):0}}X.prototype.M=function(){return this.get("extent")};X.prototype.getExtent=X.prototype.M;X.prototype.rf=function(){return this.get("maxResolution")};
X.prototype.getMaxResolution=X.prototype.rf;X.prototype.sf=function(){return this.get("minResolution")};X.prototype.getMinResolution=X.prototype.sf;X.prototype.tf=function(){return this.get("opacity")};X.prototype.getOpacity=X.prototype.tf;X.prototype.uf=function(){return this.get("saturation")};X.prototype.getSaturation=X.prototype.uf;X.prototype.fe=function(){return this.get("visible")};X.prototype.getVisible=X.prototype.fe;X.prototype.Oi=function(a){this.set("brightness",a)};
X.prototype.setBrightness=X.prototype.Oi;X.prototype.Pi=function(a){this.set("contrast",a)};X.prototype.setContrast=X.prototype.Pi;X.prototype.Ri=function(a){this.set("hue",a)};X.prototype.setHue=X.prototype.Ri;X.prototype.lg=function(a){this.set("extent",a)};X.prototype.setExtent=X.prototype.lg;X.prototype.Ti=function(a){this.set("maxResolution",a)};X.prototype.setMaxResolution=X.prototype.Ti;X.prototype.Ui=function(a){this.set("minResolution",a)};X.prototype.setMinResolution=X.prototype.Ui;
X.prototype.Vi=function(a){this.set("opacity",a)};X.prototype.setOpacity=X.prototype.Vi;X.prototype.Xi=function(a){this.set("saturation",a)};X.prototype.setSaturation=X.prototype.Xi;X.prototype.bj=function(a){this.set("visible",a)};X.prototype.setVisible=X.prototype.bj;function Sf(a){var b=Ya(a);delete b.source;X.call(this,b);this.Bc=a.source;R(this.Bc,"change",this.Bh,!1,this)}H(Sf,X);Sf.prototype.ae=function(a){a=v(a)?a:[];a.push(Rf(this));return a};Sf.prototype.vf=function(){return this.Bc.u()};Sf.prototype.Bh=function(){this.X()};function Tf(a,b){W.call(this);this.q=a;this.state=b}H(Tf,W);Tf.prototype.X=function(){this.dispatchEvent("change")};Tf.prototype.getKey=function(){return z(this).toString()};Tf.prototype.u=k("state");function Uf(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Vf(a){this.Da=v(a.Da)?a.Da:0;this.vc=a.ib;this.Gb=this.vc.length-1;this.jd=v(a.origin)?a.origin:null;this.Uf=null;v(a.ui)&&(this.Uf=a.ui);this.Ie=null;v(a.mj)&&(this.Ie=a.mj);this.xg=v(a.kb)?a.kb:null===this.Ie?256:void 0}var Wf=[0,0,0];Vf.prototype.Yd=function(a,b,c,d,e){e=Xf(this,a,e);for(a=a[0]-1;a>=this.Da;){if(b.call(c,a,Yf(this,e,a,d)))return!0;--a}return!1};Vf.prototype.dc=function(a){return null===this.jd?this.Uf[a]:this.jd};Vf.prototype.t=function(a){return this.vc[a]};
Vf.prototype.ce=function(a,b,c){return a[0]<this.Gb?(c=Xf(this,a,c),Yf(this,c,a[0]+1,b)):null};function Zf(a,b,c,d){$f(a,b[0],b[1],c,!1,Wf);var e=Wf[1],f=Wf[2];$f(a,b[2],b[3],c,!0,Wf);return wf(e,Wf[1],f,Wf[2],d)}function Yf(a,b,c,d){c=a.t(c);return Zf(a,b,c,d)}function Xf(a,b,c){var d=a.dc(b[0]),e=a.t(b[0]);a=ag(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return xf(f,b,f+a*e,b+a*e,c)}
function $f(a,b,c,d,e,f){var g=Uf(a.vc,d,0),h=d/a.t(g),m=a.dc(g);a=ag(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;v(f)?(f[0]=g,f[1]=e,f[2]=c):f=[g,e,c];return f}function bg(a,b,c){c=a.t(c);return $f(a,b[0],b[1],c,!1,void 0)}function ag(a,b){return v(a.xg)?a.xg:a.Ie[b]}function cg(a,b,c){b=v(b)?b:42;c=v(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c};function dg(a){Qf.call(this,{Ya:a.Ya,c:a.c,Ba:a.Ba,projection:a.projection,state:a.state});this.ti=v(a.qe)?a.qe:!1;this.vg=v(a.He)?a.He:1;this.jb=v(a.jb)?a.jb:null}H(dg,Qf);dg.prototype.Rb=Ic;dg.prototype.lf=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.n;h<=d.H;++h)for(m=d.p;m<=d.l;++m)g=this.$d(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};dg.prototype.$d=tf;
function eg(a,b){var c;if(null===a.jb){if(c=b.cf,null===c){c=Of(b);var d=c.M();null===d&&(c=180*Ef.degrees/Ef[c.zg],d=xf(-c,-c,c,c));c=d;var d=v(void 0)?void 0:256,e=v(void 0)?void 0:"bottom-left",f=cg(c,void 0,d);c=new Vf({origin:zf(c,e),ib:f,kb:d});b.cf=c}}else c=a.jb;return c}dg.prototype.Bg=ea;function fg(a,b){Yb.call(this);this.$h=a;this.pe=b}H(fg,Yb);fg.prototype.va=function(){return this.$h.va()};function gg(a,b){b.Rb()&&a.qc.push(qa(function(a,b,e){b=z(a).toString();a.Wd(e.Ad[b])},b))}function hg(a,b){var c=b.Wh;v(c)&&(x(c)?a.Fb[c]="":la(c)&&(a.Fb[c.src]=c.href))}function ig(a,b,c,d){b=z(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function jg(a,b,c,d){return function(e,f,g){e=kg(b,e,f,g,c,d);return a(e)?e:null}}
function lg(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function mg(a,b,c,d,e,f,g,h){var m=z(b).toString();m in a.Pb||(a.Pb[m]={});var n=a.Pb[m];a=a.lj;var p=c.Da,q,r,t,u,y,w;v(h)||(h=0);for(w=g;w>=p;--w)for(r=Yf(c,f,w,r),t=c.t(w),u=r.n;u<=r.H;++u)for(y=r.p;y<=r.l;++y)if(g-w<=h){q=kg(b,w,u,y,d,e);if(0==q.u()&&(n[uf(q.q)]=!0,!(q.getKey()in a.rc))){var E=a,G=q,B=m,C=c,A=q.q,K=C.dc(A[0]),ha=C.t(A[0]),C=ag(C,A[0]),G=[G,B,[K[0]+(A[1]+0.5)*C*ha,K[1]+(A[2]+0.5)*C*ha],t],B=E.Yf(G);Infinity!=B&&(E.ka.push(G),E.Kb.push(B),E.rc[E.ke(G)]=!0,ng(E,0,E.ka.length-1))}v(void 0)&&
(void 0).call(void 0,q)}else b.Bg(w,u,y)};function og(){this.Za={};this.Jc=0;this.ai=32}og.hh=function(){return og.Ef?og.Ef:og.Ef=new og};og.prototype.clear=function(){this.Za={};this.Jc=0};og.prototype.get=function(a,b){var c=b+":"+a;return c in this.Za?this.Za[c]:null};og.prototype.set=function(a,b,c){this.Za[b+":"+a]=c;++this.Jc};function pg(a,b,c,d,e,f,g,h){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;0===b&&0===c||Yd(a,b,c);1==d&&1==e||Xd(a,a[0]*d,a[1]*d,a[2]*d,a[3]*d,a[4]*e,a[5]*e,a[6]*e,a[7]*e,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15]);if(0!==f){b=a[0];c=a[1];d=a[2];e=a[3];var m=a[4],n=a[5],p=a[6],q=a[7],r=Math.cos(f);f=Math.sin(f);a[0]=b*r+m*f;a[1]=c*r+n*f;a[2]=d*r+p*f;a[3]=e*r+q*f;a[4]=b*-f+m*r;a[5]=c*-f+n*r;a[6]=d*-f+p*r;a[7]=e*-f+
q*r}0===g&&0===h||Yd(a,g,h);return a}function qg(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function rg(a,b){Yb.call(this);this.a=b;this.fg=null;this.na={}}H(rg,Yb);
function sg(a){var b=a.i,c=a.af;pg(c,a.size[0]/2,a.size[1]/2,1/b.e,-1/b.e,-b.rotation,-b.center[0],-b.center[1]);a=a.Wf;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],r=c[10],t=c[11],u=c[12],y=c[13],w=c[14],c=c[15],E=b*h-d*g,G=b*m-e*g,B=b*n-f*g,C=d*m-e*h,A=d*n-f*h,K=e*n-f*m,ha=p*y-q*u,Ba=p*w-r*u,Ka=p*c-t*u,ca=q*w-r*y,F=q*c-t*y,T=r*c-t*w,N=E*T-G*F+B*ca+C*Ka-A*Ba+K*ha;0!=N&&(N=1/N,a[0]=(h*T-m*F+n*ca)*N,a[1]=(-d*T+e*F-f*ca)*N,a[2]=(y*K-w*A+c*C)*N,a[3]=(-q*K+r*A-t*C)*N,a[4]=
(-g*T+m*Ka-n*Ba)*N,a[5]=(b*T-e*Ka+f*Ba)*N,a[6]=(-u*K+w*B-c*G)*N,a[7]=(p*K-r*B+t*G)*N,a[8]=(g*F-h*Ka+n*ha)*N,a[9]=(-b*F+d*Ka-f*ha)*N,a[10]=(u*A-y*B+c*E)*N,a[11]=(-p*A+q*B-t*E)*N,a[12]=(-g*ca+h*Ba-m*ha)*N,a[13]=(b*ca-d*Ba+e*ha)*N,a[14]=(-u*C+y*G-w*E)*N,a[15]=(p*C-q*G+r*E)*N)}l=rg.prototype;l.Qd=function(a){return new fg(this,a)};l.h=function(){Pa(this.na,bc);rg.N.h.call(this)};
function tg(){var a=og.hh();if(a.Jc>a.ai){var b=0,c,d;for(c in a.Za)d=a.Za[c],0!==(b++&3)||Dc(d)||(delete a.Za[c],--a.Jc)}}function ug(a,b){var c=z(b).toString();if(c in a.na)return a.na[c];var d=a.Qd(b);return a.na[c]=d}l.va=k("a");l.ye=ea;l.Ki=function(a,b){for(var c in this.na)if(!(null!==b&&c in b.ne)){var d=this.na[c];delete this.na[c];bc(d)}};function vg(a,b){for(var c in a.na)if(!(c in b.ne)){b.qc.push(D(a.Ki,a));break}};function wg(a,b){this.Yf=a;this.ke=b;this.ka=[];this.Kb=[];this.rc={}}wg.prototype.clear=function(){this.ka.length=0;this.Kb.length=0;var a=this.rc,b;for(b in a)delete a[b]};wg.prototype.bc=function(){return this.ka.length};wg.prototype.Bb=function(){return 0===this.ka.length};function xg(a,b){for(var c=a.ka,d=a.Kb,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;ng(a,h,b)}
function ng(a,b,c){var d=a.ka;a=a.Kb;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f};function yg(a,b){wg.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.jj=b;this.Fc=0}H(yg,wg);yg.prototype.Dh=function(){--this.Fc;this.jj()};function zg(a){return function(b){if(v(b))return[Wc(b[0],a[0],a[2]),Wc(b[1],a[1],a[3])]}}function Ag(a){return a};function Bg(a){return function(b,c,d){if(v(b))return b=Uf(a,b,d),b=Wc(b+c,0,a.length-1),a[b]}}function Cg(a,b,c){return function(d,e,f){if(v(d))return f=0<f?0:0>f?1:0.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),v(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function Dg(a){if(v(a))return 0}function Eg(a,b){if(v(a))return a+b}function Fg(a){var b=2*Math.PI/a;return function(a,d){if(v(a))return a=Math.floor((a+d)/b+0.5)*b}}function Gg(){var a=5*Math.PI/180;return function(b,c){if(v(b))return Math.abs(b+c)<=a?0:b+c}};function Hg(a,b,c){this.center=a;this.e=b;this.rotation=c};function Y(a){ae.call(this);a=v(a)?a:{};this.ge=[0,0];var b={};b.center=v(a.center)?a.center:null;this.Zf=Nf(a.projection);var c,d,e,f=v(a.Da)?a.Da:0;c=v(a.Gb)?a.Gb:28;var g=v(a.xj)?a.xj:2;if(v(a.ib))c=a.ib,d=c[0],e=c[c.length-1],c=Bg(c);else{d=Nf(a.projection);e=d.M();var h=(null===e?360*Ef.degrees/Ef[d.zg]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.Ca;v(d)?f=0:d=h/Math.pow(g,f);e=a.Qa;v(e)||(e=v(a.Gb)?v(a.Ca)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/
e)/Math.log(g));e=d/Math.pow(g,c-f);c=Cg(g,d,c-f)}this.Nf=d;this.ci=e;this.di=f;f=v(a.c)?zg(a.c):Ag;(v(a.dh)?a.dh:1)?(d=a.Od,d=v(d)&&!0!==d?!1===d?Eg:ja(d)?Fg(d):Eg:Gg()):d=Dg;this.Ub=new Hg(f,c,d);v(a.e)?b.resolution=a.e:v(a.zoom)&&(b.resolution=Ig(this,this.Nf,a.zoom-this.di));b.rotation=v(a.rotation)?a.rotation:0;this.zc(b)}H(Y,ae);function Jg(a,b,c){var d,e=a.la();a=a.t();v(e)&&v(a)&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function Ig(a,b,c,d){return a.Ub.e(b,c||0,d||0)}
Y.prototype.Od=function(a,b){return this.Ub.rotation(a,b||0)};Y.prototype.la=function(){return this.get("center")};Y.prototype.getCenter=Y.prototype.la;Y.prototype.t=function(){return this.get("resolution")};Y.prototype.getResolution=Y.prototype.t;Y.prototype.qb=function(){return this.get("rotation")};Y.prototype.getRotation=Y.prototype.qb;Y.prototype.u=function(){var a=this.la(),b=this.Zf,c=this.t(),d=this.qb();return{center:a.slice(),projection:v(b)?b:null,e:c,rotation:v(d)?d:0}};
Y.prototype.ie=function(){return null!=this.la()&&v(this.t())};Y.prototype.rotate=function(a,b){if(v(b)){var c,d=this.la();v(d)&&(c=[d[0]-b[0],d[1]-b[1]],le(c,a-this.qb()),ke(c,b));this.Ga(c)}this.Be(a)};Y.prototype.Ga=function(a){this.set("center",a)};Y.prototype.setCenter=Y.prototype.Ga;function Kg(a,b){a.ge[1]+=b}Y.prototype.Ac=function(a){this.set("resolution",a)};Y.prototype.setResolution=Y.prototype.Ac;Y.prototype.Be=function(a){this.set("rotation",a)};Y.prototype.setRotation=Y.prototype.Be;var Lg=!!s.DOMTokenList,Mg=Lg?function(a){return a.classList}:function(a){a=a.className;return x(a)&&a.match(/\S+/g)||[]},Ng=Lg?function(a,b){return a.classList.contains(b)}:function(a,b){var c=Mg(a);return 0<=za(c,b)},Og=Lg?function(a,b){a.classList.add(b)}:function(a,b){Ng(a,b)||(a.className+=0<a.className.length?" "+b:b)},Pg=Lg?function(a,b){a.classList.remove(b)}:function(a,b){Ng(a,b)&&(a.className=Aa(Mg(a),function(a){return a!=b}).join(" "))};function Qg(a){ae.call(this);this.element=v(a.element)?a.element:null;this.rg=v(a.target)?ad(a.target):null;this.a=null;this.ed=[]}H(Qg,ae);Qg.prototype.h=function(){kd(this.element);Qg.N.h.call(this)};Qg.prototype.va=k("a");Qg.prototype.Uc=ea;
Qg.prototype.setMap=function(a){null===this.a||kd(this.element);0!=this.ed.length&&(J(this.ed,S),this.ed.length=0);this.a=a;null!==this.a&&((null===this.rg?a.re:this.rg).appendChild(this.element),this.Uc!==ea&&this.ed.push(R(a,"postrender",this.Uc,!1,this)),Z(a))};function Rg(a){a=v(a)?a:{};this.zd=hd("UL");this.fd=hd("LI");this.zd.appendChild(this.fd);Ld(this.fd,!1);this.nb=v(a.collapsed)?a.collapsed:!0;this.Lc=v(a.Og)?a.Og:!0;this.Lc||(this.nb=!1);var b=v(a.className)?a.className:"ol-attribution",c=V("SPAN",{role:"tooltip"},v(a.Ke)?a.Ke:"Attributions");this.We=v(a.Ng)?a.Ng:"\u00bb";this.fb=v(a.label)?a.label:"i";this.Gf=V("SPAN",{},this.Lc&&!this.nb?this.We:this.fb);var d=V("BUTTON",{"class":"ol-has-tooltip",type:"button"},this.Gf);d.appendChild(c);c=new Xe(d);
ac(this,c);R(c,Ie,this.xa,!1,this);R(d,"click",this.sb,!1,this);R(d,["mouseout",gc],function(){this.blur()},!1);b=V("DIV",{"class":b+" ol-unselectable ol-control"+(this.nb&&this.Lc?" ol-collapsed":"")+(this.Lc?"":" ol-uncollapsible")},this.zd,d);Qg.call(this,{element:b,target:a.target});this.B=!0;this.Xa={};this.Ia={};this.Vh={}}H(Rg,Qg);
Rg.prototype.Uc=function(a){a=a.frameState;if(null===a)this.B&&(Ld(this.element,!1),this.B=!1);else{var b,c,d,e,f,g,h,m,n,p=a.oe,q=Ya(a.Ya),r={};c=0;for(b=p.length;c<b;c++)if(d=p[c].cd.Bc,n=z(d).toString(),m=d.Hg,null!==m)for(d=0,e=m.length;d<e;d++)g=m[d],h=z(g).toString(),h in q||(f=a.Ad[n],v(f)&&g.jk(f)?(h in r&&delete r[h],q[h]=g):r[h]=g);b=[q,r];c=b[0];b=b[1];for(var t in this.Xa)t in c?(this.Ia[t]||(Ld(this.Xa[t],!0),this.Ia[t]=!0),delete c[t]):t in b?(this.Ia[t]&&(Ld(this.Xa[t],!1),delete this.Ia[t]),
delete b[t]):(kd(this.Xa[t]),delete this.Xa[t],delete this.Ia[t]);for(t in c)n=hd("LI"),n.innerHTML=c[t].gh(),this.zd.appendChild(n),this.Xa[t]=n,this.Ia[t]=!0;for(t in b)n=hd("LI"),n.innerHTML=b[t].gh(),Ld(n,!1),this.zd.appendChild(n),this.Xa[t]=n;t=!Va(this.Ia)||!Va(a.Fb);this.B!=t&&(Ld(this.element,t),this.B=t);t&&Va(this.Ia)?Og(this.element,"ol-logo-only"):Pg(this.element,"ol-logo-only");var u;a=a.Fb;t=this.Vh;for(u in t)u in a||(kd(t[u]),delete t[u]);for(var y in a)y in t||(u=new Image,u.src=
y,c=a[y],""===c?c=u:(c=V("A",{href:c,target:"_blank"}),c.appendChild(u)),this.fd.appendChild(c),t[y]=c);Ld(this.fd,!Va(a))}};Rg.prototype.sb=function(a){0!==a.screenX&&0!==a.screenY||Sg(this)};Rg.prototype.xa=function(a){a.r.preventDefault();Sg(this)};
function Sg(a){var b=a.element;Ng(b,"ol-collapsed")?Pg(b,"ol-collapsed"):Og(b,"ol-collapsed");var b=a.Gf,c=a.nb?a.We:a.fb;if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=c}else{for(var d;d=b.firstChild;)b.removeChild(d);b.appendChild($c(b).createTextNode(String(c)))}a.nb=!a.nb};function Tg(a){return 1-Math.pow(1-a,3)};function Ug(a){return 3*a*a-2*a*a*a}function Vg(a){return a};function Wg(a){var b=a.source,c=v(a.start)?a.start:ra(),d=b[0],e=b[1],f=v(a.duration)?a.duration:1E3,g=v(a.K)?a.K:Ug;return function(a,b){if(b.time<c)return b.Wa=!0,b.I[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.i.center[0],q=e-b.i.center[1];b.Wa=!0;b.i.center[0]+=n*p;b.i.center[1]+=n*q;b.I[0]+=1;return!0}return!1}}
function Xg(a){var b=v(a.rotation)?a.rotation:0,c=v(a.start)?a.start:ra(),d=v(a.duration)?a.duration:1E3,e=v(a.K)?a.K:Ug,f=v(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.Wa=!0,h.I[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.i.rotation)*m;h.Wa=!0;h.i.rotation+=m;if(null!==f){var n=h.i.center;n[0]-=f[0];n[1]-=f[1];le(n,m);ke(n,f)}h.I[0]+=1;return!0}return!1}}
function Yg(a){var b=a.e,c=v(a.start)?a.start:ra(),d=v(a.duration)?a.duration:1E3,e=v(a.K)?a.K:Ug;return function(a,g){if(g.time<c)return g.Wa=!0,g.I[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.i.e;g.Wa=!0;g.i.e+=h*m;g.I[0]+=1;return!0}return!1}};function Zg(a){a=v(a)?a:{};var b=v(a.className)?a.className:"ol-rotate";this.fb=V("SPAN",{"class":"ol-compass"},v(a.label)?a.label:"\u21e7");var c=V("SPAN",{role:"tooltip"},v(a.Ke)?a.Ke:"Reset rotation"),c=V("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.fb),d=new Xe(c);ac(this,d);R(d,Ie,Zg.prototype.xa,!1,this);R(c,"click",Zg.prototype.sb,!1,this);R(c,["mouseout",gc],function(){this.blur()},!1);b=V("DIV",b+" ol-unselectable ol-control",c);Qg.call(this,{element:b,
target:a.target});this.T=v(a.duration)?a.duration:250;this.Te=v(a.Ig)?a.Ig:!0;this.jg=void 0;b.style.opacity=this.Te?0:1}H(Zg,Qg);Zg.prototype.sb=function(a){0!==a.screenX&&0!==a.screenY||$g(this)};Zg.prototype.xa=function(a){a.r.preventDefault();$g(this)};function $g(a){for(var b=a.va(),c=b.g(),d=c.qb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;v(d)&&(0<a.T&&b.ha(Xg({rotation:d,duration:a.T,K:Tg})),c.Be(0))}
Zg.prototype.Uc=function(a){a=a.frameState;if(null!==a){a=a.i.rotation;if(a!=this.jg){var b="rotate("+180*a/Math.PI+"deg)";this.Te&&(this.element.style.opacity=0===a?0:1);this.fb.style.msTransform=b;this.fb.style.webkitTransform=b;this.fb.style.transform=b}this.jg=a}};function ah(a){a=v(a)?a:{};var b=v(a.className)?a.className:"ol-zoom",c=v(a.$a)?a.$a:1,d=v(a.yj)?a.yj:"+",e=v(a.Aj)?a.Aj:"\u2212",f=v(a.Bj)?a.Bj:"Zoom out",g=V("SPAN",{role:"tooltip"},v(a.zj)?a.zj:"Zoom in"),d=V("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new Xe(d);ac(this,g);R(g,Ie,qa(ah.prototype.xa,c),!1,this);R(d,"click",qa(ah.prototype.sb,c),!1,this);R(d,["mouseout",gc],function(){this.blur()},!1);f=V("SPAN",{role:"tooltip"},f);e=V("BUTTON",{"class":b+"-out  ol-has-tooltip",
type:"button"},f,e);f=new Xe(e);ac(this,f);R(f,Ie,qa(ah.prototype.xa,-c),!1,this);R(e,"click",qa(ah.prototype.sb,-c),!1,this);R(e,["mouseout",gc],function(){this.blur()},!1);b=V("DIV",b+" ol-unselectable ol-control",d,e);Qg.call(this,{element:b,target:a.target});this.T=v(a.duration)?a.duration:250}H(ah,Qg);ah.prototype.sb=function(a,b){0!==b.screenX&&0!==b.screenY||bh(this,a)};ah.prototype.xa=function(a,b){b.r.preventDefault();bh(this,a)};
function bh(a,b){var c=a.va(),d=c.g(),e=d.t();v(e)&&(0<a.T&&c.ha(Yg({e:e,duration:a.T,K:Tg})),c=Ig(d,e,b),d.Ac(c))};function ch(a,b,c){this.Rd=a;this.hd=b;this.Rg=c;this.$=[];this.zb=this.Fd=0}ch.prototype.update=function(a,b){this.$.push(a,b,ra())};ch.prototype.end=function(){if(6>this.$.length)return!1;var a=ra()-this.Rg,b=this.$.length-3;if(this.$[b+2]<a)return!1;for(var c=b-3;0<c&&this.$[c+2]>a;)c-=3;var a=this.$[b+2]-this.$[c+2],d=this.$[b]-this.$[c],b=this.$[b+1]-this.$[c+1];this.Fd=Math.atan2(b,d);this.zb=Math.sqrt(d*d+b*b)/a;return this.zb>this.hd};
function dh(a,b){var c=a.Rd,d=a.zb,e=a.hd-d,f=Math.log(a.hd/a.zb)/a.Rd;return Wg({source:b,duration:f,K:function(a){return d*(Math.exp(c*a*f)-1)/e}})};function eh(){Zd.call(this);this.a=null}H(eh,Zd);eh.prototype.va=k("a");eh.prototype.setMap=aa("a");function fh(a,b,c,d,e){if(null!=c){var f=b.qb(),g=b.la();v(f)&&(v(g)&&v(e)&&0<e)&&(a.ha(Xg({rotation:f,duration:e,K:Tg})),v(d)&&a.ha(Wg({source:g,duration:e,K:Tg})));b.rotate(c,d)}}function gh(a,b,c,d,e){var f=b.t();c=Ig(b,f,c,0);hh(a,b,c,d,e)}
function hh(a,b,c,d,e){if(null!=c){var f=b.t(),g=b.la();v(f)&&(v(g)&&v(e)&&0<e)&&(a.ha(Yg({e:f,duration:e,K:Tg})),v(d)&&a.ha(Wg({source:g,duration:e,K:Tg})));null!=d&&(a=Jg(b,c,d),b.Ga(a));b.Ac(c)}};function ih(a){a=v(a)?a:{};this.j=v(a.$a)?a.$a:1;eh.call(this);this.T=v(a.duration)?a.duration:250}H(ih,eh);ih.prototype.wa=function(a){var b=!1,c=a.r;if(a.type==kf){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.j:this.j,e=b.g();gh(b,e,c,d,this.T);a.preventDefault();b=!0}return!b};function jh(a){a=a.r;return a.altKey&&!a.md&&a.shiftKey}function kh(a){a=a.r;return!a.altKey&&!a.md&&!a.shiftKey}function lh(a){a=a.r;return!a.altKey&&!a.md&&a.shiftKey}function mh(a){a=a.r.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function nh(){eh.call(this);this.xb=!1;this.Hc={};this.O=[]}H(nh,eh);function oh(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}l=nh.prototype;l.ub=ea;l.vb=Ic;l.tb=Ic;
l.wa=function(a){if(!(a instanceof ff))return!0;var b=!1,c=a.type;if(c===pf||c===rf||c===nf)c=a.hb,a.type==nf?delete this.Hc[c.pointerId]:a.type==pf?this.Hc[c.pointerId]=c:c.pointerId in this.Hc&&(this.Hc[c.pointerId]=c),this.O=Sa(this.Hc);this.xb&&(a.type==rf?this.ub(a):a.type==nf&&(this.xb=this.vb(a)));a.type==pf&&(this.xb=a=this.tb(a),b=this.ng(a));return!b};l.ng=Ic;function ph(a){nh.call(this);this.ba=(v(a)?a:{}).Sh;this.Cb=this.jc=null;this.sa=v(a.W)?a.W:kh;this.Qf=!1}H(ph,nh);ph.prototype.ub=function(a){var b=oh(this.O);this.ba&&this.ba.update(b[0],b[1]);if(null!==this.Cb){var c=this.Cb[0]-b[0],d=b[1]-this.Cb[1];a=a.map;var e=a.g(),f=e.u(),d=c=[c,d],g=f.e;d[0]*=g;d[1]*=g;le(c,f.rotation);ke(c,f.center);c=e.Ub.center(c);Z(a);e.Ga(c)}this.Cb=b};
ph.prototype.vb=function(a){a=a.map;var b=a.g();if(0===this.O.length){if(!this.Qf&&this.ba&&this.ba.end()){var c=(this.ba.hd-this.ba.zb)/this.ba.Rd,d=this.ba.Fd,e=b.la();this.jc=dh(this.ba,e);a.ha(this.jc);var f;f=a.cb;null===f?f=null:(e=e.slice(0,2),f=qg(f.af,e,e));c=a.ac([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Ub.center(c);b.Ga(c)}Kg(b,-1);Z(a);return!1}this.Cb=null;return!0};
ph.prototype.tb=function(a){if(0<this.O.length&&this.sa(a)){var b=a.map,c=b.g();this.Cb=null;this.xb||Kg(c,1);Z(b);null!==this.jc&&Ea(b.qd,this.jc)&&(c.Ga(a.frameState.i.center),this.jc=null);this.ba&&(a=this.ba,a.$.length=0,a.Fd=0,a.zb=0);this.Qf=1<this.O.length;return!0}return!1};function qh(a){a=v(a)?a:{};nh.call(this);this.sa=v(a.W)?a.W:jh;this.za=void 0}H(qh,nh);qh.prototype.ub=function(a){if(1==a.hb.pointerId){var b=a.map,c=b.Na();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(v(this.za)){a=c-this.za;var d=b.g(),e=d.u();Z(b);fh(b,d,e.rotation-a)}this.za=c}};qh.prototype.vb=function(a){if(1!=a.hb.pointerId)return!0;a=a.map;var b=a.g();Kg(b,-1);var c=b.u().rotation,c=b.Od(c,0);fh(a,b,c,void 0,250);return!1};
qh.prototype.tb=function(a){return 1!=a.hb.pointerId||!lc(a.r)||O&&jb&&a.r.ctrlKey||!this.sa(a)?!1:(a=a.map,Kg(a.g(),1),Z(a),this.za=void 0,!0)};function rh(){Zd.call(this);this.c=void 0;this.jf=-1;this.rk={};this.tk=this.sk=0}H(rh,Zd);rh.prototype.Nc=Ic;rh.prototype.transform=function(a,b){var c=Of(a),d=Of(b),c=c.Tb,d=d.Tb,e;c in Hf&&d in Hf[c]&&(e=Hf[c][d]);v(e)||(e=Pf);null!==this.C&&(e(this.C,this.C,this.D),this.X());return this};function sh(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=v(f)?f:[],r=0;b<c;b+=d){var t=a[b],u=a[b+1];q[r++]=g*t+m*u+p;q[r++]=h*t+n*u+e}v(f)&&q.length!=r&&(q.length=r);return q};function th(){rh.call(this);this.lc="XY";this.D=2;this.C=null}H(th,rh);function uh(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}th.prototype.Nc=Ic;
th.prototype.M=function(a){if(this.jf!=this.Fa){for(var b=this.C,c=this.C.length,d=this.D,e=xf(Infinity,Infinity,-Infinity,-Infinity,this.c),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.c=e;this.jf=this.Fa}b=this.c;v(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function vh(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function wh(a,b,c,d,e){if(0===b.length||!vh(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(vh(a,b[f-1],b[f],c,d,e))return!1;return!0};function xh(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function yh(a,b){th.call(this);this.aa=[];this.mf=-1;this.nf=null;this.Tf=this.nk=this.ok=-1;this.nc=null;if(null===a){var c=this.aa;this.D=uh("XY");this.lc="XY";this.C=null;this.aa=c}else{a:{var c=b,d=a;if(v(c))d=uh(c);else{for(c=0;2>c;++c){if(0===d.length){this.lc="XY";this.D=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.lc=c;this.D=d}null===this.C&&(this.C=[]);var c=this.C,d=this.D,e=this.aa,f=0,e=v(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],
q=d,r=void 0,t=void 0,r=0,t=p.length;r<t;++r){var u=p[r],y;for(y=0;y<q;++y)n[f++]=u[y]}n=f;f=e[g++]=n}e.length=g;this.C.length=0===e.length?0:e[e.length-1]}this.X()}H(yh,th);yh.prototype.ja=function(){var a=new yh(null),b=this.lc,c=this.C.slice(),d=this.aa.slice();a.D=uh(b);a.lc=b;a.C=c;a.aa=d;a.X();return a};yh.prototype.Nc=function(a,b){return wh(zh(this),this.aa,this.D,a,b)};
function zh(a){if(a.Tf!=a.Fa){var b=a.C,c;a:{c=a.aa;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=xh(b,d,g,a.D);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.nc=b;else{a.nc=b.slice();c=b=a.nc;e=a.aa;f=a.D;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=xh(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var r;for(r=0;r<q;++r){var t=n[h+r];n[h+r]=n[p-q+r];n[p-q+r]=t}h+=q;p-=q}h=m}b.length=h}a.Tf=a.Fa}return a.nc}yh.prototype.de=ba("Polygon");function Ah(a,b,c,d,e,f,g){Q.call(this,a,b);this.vectorContext=c;this.fg=d;this.frameState=e;this.context=f;this.glContext=g}H(Ah,Q);function Bh(a){this.Sc=this.Qc=this.ea=this.pd=this.a=null;this.fj=a}H(Bh,Yb);function Ch(a){var b=a.ea,c=a.Qc;a=Ca([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.ac,a.a);a[4]=a[0].slice();return new yh([a])}Bh.prototype.h=function(){this.setMap(null)};Bh.prototype.vh=function(a){var b=this.Sc,c=this.fj;Dh(a.vectorContext,function(a){a.Qi(c.kf,c.qg);a.Zi(c.P);a.ff(b)})};Bh.prototype.Zd=k("Sc");function Eh(a){null===a.a||(null===a.ea||null===a.Qc)||Z(a.a)}
Bh.prototype.setMap=function(a){null!==this.pd&&(S(this.pd),this.pd=null,Z(this.a),this.a=null);this.a=a;null!==this.a&&(this.pd=R(a,"postcompose",this.vh,!1,this),Eh(this))};function Fh(a,b){Q.call(this,a);this.coordinate=b}H(Fh,Q);function Gh(a){nh.call(this);a=v(a)?a:{};this.Qb=new Bh(v(a.style)?a.style:null);this.ea=null;this.sa=v(a.W)?a.W:Jc}H(Gh,nh);l=Gh.prototype;l.ub=function(a){if(1==a.hb.pointerId){var b=this.Qb;a=a.pixel;b.ea=this.ea;b.Qc=a;b.Sc=Ch(b);Eh(b)}};l.Zd=function(){return this.Qb.Zd()};l.Rf=ea;
l.vb=function(a){if(1!=a.hb.pointerId)return!0;this.Qb.setMap(null);var b=a.pixel[0]-this.ea[0],c=a.pixel[1]-this.ea[1];64<=b*b+c*c&&(this.Rf(a),this.dispatchEvent(new Fh("boxend",a.coordinate)));return!1};l.tb=function(a){if(1==a.hb.pointerId&&lc(a.r)&&!(O&&jb&&a.r.ctrlKey)&&this.sa(a)){this.ea=a.pixel;this.Qb.setMap(a.map);var b=this.Qb,c=this.ea;b.ea=this.ea;b.Qc=c;b.Sc=Ch(b);Eh(b);this.dispatchEvent(new Fh("boxstart",a.coordinate));return!0}return!1};l.ng=function(a){return a};function Hh(a){var b=a[0];b!=(b|0)&&(b=b+0.5|0);var c=a[1];c!=(c|0)&&(c=c+0.5|0);var d=a[2];d!=(d|0)&&(d=d+0.5|0);return"rgba("+b+","+c+","+d+","+a[3]+")"};function Ih(a){a=v(a)?a:{};this.Mc=v(a.color)?a.color:null;this.If=a.lineCap;this.Th=v(a.oa)?a.oa:null;this.Jf=a.lineJoin;this.Of=a.miterLimit;this.vj=a.width}Ih.prototype.getLineDash=k("Th");Ih.prototype.eb=k("vj");var Jh=[0,0,0,1],Kh=[],Lh=[0,0,0,1];function Mh(a){a=v(a)?a:{};this.kf=v(a.fill)?a.fill:null;this.v=v(a.Jh)?a.Jh:null;this.qg=v(a.stroke)?a.stroke:null;this.P=v(a.text)?a.text:null;this.Ak=a.zIndex}Mh.prototype.ua=k("v");function Nh(a){a=v(a)?a:{};Gh.call(this,{W:v(a.W)?a.W:lh,style:v(a.style)?a.style:new Mh({stroke:new Ih({color:[0,0,255,1]})})})}H(Nh,Gh);Nh.prototype.Rf=function(){var a=this.va(),b=a.g(),c=this.Zd().M(),d=yf(c),e=a.Na(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=Ig(b,c,0,void 0);hh(a,b,c,d,200)};function Oh(a){eh.call(this);a=v(a)?a:{};this.sa=v(a.W)?a.W:Mc(kh,mh);this.Ai=v(a.zi)?a.zi:128}H(Oh,eh);Oh.prototype.wa=function(a){var b=!1;if("key"==a.type){var c=a.r.keyCode;if(this.sa(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.g(),e=b.u(),f=e.e*this.Ai,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];le(c,e.rotation);e=b.la();v(e)&&(v(100)&&d.ha(Wg({source:e,duration:100,K:Vg})),d=b.Ub.center([e[0]+c[0],e[1]+c[1]]),b.Ga(d));a.preventDefault();b=!0}}return!b};function Ph(a){eh.call(this);a=v(a)?a:{};this.sa=v(a.W)?a.W:mh;this.j=v(a.$a)?a.$a:1;this.T=v(a.duration)?a.duration:100}H(Ph,eh);Ph.prototype.wa=function(a){var b=!1;if("key"==a.type){var c=a.r.charCode;if(this.sa(a)&&(43==c||45==c)){b=a.map;c=43==c?this.j:-this.j;Z(b);var d=b.g();gh(b,d,c,void 0,this.T);a.preventDefault();b=!0}}return!b};function Qh(a){a=v(a)?a:{};eh.call(this);this.j=0;this.T=v(a.duration)?a.duration:250;this.ya=null;this.Je=this.td=void 0}H(Qh,eh);Qh.prototype.wa=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.r;this.ya=a.coordinate;this.j+=c.Sd;v(this.td)||(this.td=ra());c=Math.max(80-(ra()-this.td),0);s.clearTimeout(this.Je);this.Je=s.setTimeout(D(this.Ud,this,b),c);a.preventDefault();b=!0}return!b};
Qh.prototype.Ud=function(a){var b=Wc(this.j,-1,1),c=a.g();Z(a);gh(a,c,-b,this.ya,this.T);this.j=0;this.ya=null;this.Je=this.td=void 0};function Rh(a){nh.call(this);a=v(a)?a:{};this.ra=null;this.za=void 0;this.xc=!1;this.sd=0;this.ij=v(a.hj)?a.hj:0.3}H(Rh,nh);Rh.prototype.ub=function(a){var b=0,c=this.O[0],d=this.O[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);v(this.za)&&(b=c-this.za,this.sd+=b,!this.xc&&Math.abs(this.sd)>this.ij&&(this.xc=!0));this.za=c;a=a.map;c=Id(a.w);d=oh(this.O);d[0]-=c.x;d[1]-=c.y;this.ra=a.ac(d);this.xc&&(c=a.g(),d=c.u(),Z(a),fh(a,c,d.rotation+b,this.ra))};
Rh.prototype.vb=function(a){if(2>this.O.length){a=a.map;var b=a.g();Kg(b,-1);if(this.xc){var c=b.u().rotation,d=this.ra,c=b.Od(c,0);fh(a,b,c,d,250)}return!1}return!0};Rh.prototype.tb=function(a){return 2<=this.O.length?(a=a.map,this.ra=null,this.za=void 0,this.xc=!1,this.sd=0,this.xb||Kg(a.g(),1),Z(a),!0):!1};function Sh(a){a=v(a)?a:{};nh.call(this);this.ra=null;this.T=v(a.duration)?a.duration:400;this.bd=void 0;this.me=1}H(Sh,nh);Sh.prototype.ub=function(a){var b=1,c=this.O[0],d=this.O[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);v(this.bd)&&(b=this.bd/e);this.bd=e;1!=b&&(this.me=b);a=a.map;var e=a.g(),c=e.u(),d=Id(a.w),f=oh(this.O);f[0]-=d.x;f[1]-=d.y;this.ra=a.ac(f);Z(a);hh(a,e,c.e*b,this.ra)};
Sh.prototype.vb=function(a){if(2>this.O.length){a=a.map;var b=a.g();Kg(b,-1);var c=b.u().e,d=this.ra,e=this.T,c=Ig(b,c,0,this.me-1);hh(a,b,c,d,e);return!1}return!0};Sh.prototype.tb=function(a){return 2<=this.O.length?(a=a.map,this.ra=null,this.bd=void 0,this.me=1,this.xb||Kg(a.g(),1),Z(a),!0):!1};function Th(a){a=v(a)?a:{};var b=new ge,c=new ch(-0.005,0.05,100);(v(a.Gg)?a.Gg:1)&&b.push(new qh);(v(a.Ug)?a.Ug:1)&&b.push(new ih({$a:a.wj,duration:a.Re}));(v(a.Vg)?a.Vg:1)&&b.push(new ph({Sh:c}));(v(a.xi)?a.xi:1)&&b.push(new Rh);(v(a.yi)?a.yi:1)&&b.push(new Sh({duration:a.Re}));if(v(a.Rh)?a.Rh:1)b.push(new Oh),b.push(new Ph({$a:a.wj,duration:a.Re}));(v(a.Pf)?a.Pf:1)&&b.push(new Qh({duration:a.Re}));(v(a.cj)?a.cj:1)&&b.push(new Nh);return b};function Uh(a){var b=v(a)?a:{};a=Ya(b);delete a.Db;b=b.Db;X.call(this,a);this.Pa=null;R(this,ee("layers"),this.th,!1,this);v(b)?ga(b)&&(b=new ge(Ga(b))):b=new ge;this.mg(b)}H(Uh,X);l=Uh.prototype;l.xf=function(){this.fe()&&this.X()};
l.th=function(){null!==this.Pa&&(J(Sa(this.Pa),S),this.Pa=null);var a=this.cc();if(null!=a){this.Pa={add:R(a,"add",this.sh,!1,this),remove:R(a,"remove",this.uh,!1,this)};var a=a.ga,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Pa[z(d).toString()]=R(d,["propertychange","change"],this.xf,!1,this)}this.X()};l.sh=function(a){a=a.element;this.Pa[z(a).toString()]=R(a,["propertychange","change"],this.xf,!1,this);this.X()};l.uh=function(a){a=z(a.element).toString();S(this.Pa[a]);delete this.Pa[a];this.X()};
l.cc=function(){return this.get("layers")};Uh.prototype.getLayers=Uh.prototype.cc;Uh.prototype.mg=function(a){this.set("layers",a)};Uh.prototype.setLayers=Uh.prototype.mg;
Uh.prototype.ae=function(a){var b=v(a)?a:[],c=b.length;this.cc().forEach(function(a){a.ae(b)});a=Rf(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.lb=Wc(e.lb+a.lb,-1,1),e.ob*=a.ob,e.yb+=a.yb,e.opacity*=a.opacity,e.Lb*=a.Lb,e.visible=e.visible&&a.visible,e.Ca=Math.min(e.Ca,a.Ca),e.Qa=Math.max(e.Qa,a.Qa),v(a.c)&&v(e.c)&&(e.c=Cf(e.c,a.c));return b};Uh.prototype.vf=ba("ready");function Vh(a){Ff.call(this,{code:a,Ne:"m",c:Wh,global:!0,Qe:Xh})}H(Vh,Ff);var Yh=6378137*Math.PI,Wh=[-Yh,-Yh,Yh,Yh],Xh=[-180,-85,180,85],Zh=Ca("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new Vh(a)});
function $h(a,b,c){var d=a.length;c=1<c?c:2;v(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function ai(a,b,c){var d=a.length;c=1<c?c:2;v(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function bi(a,b){Ff.call(this,{code:a,Ne:"degrees",c:ci,Ue:b,global:!0,Qe:ci})}H(bi,Ff);var ci=[-180,-90,180,90],di=[new bi("CRS:84"),new bi("EPSG:4326","neu"),new bi("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new bi("urn:ogc:def:crs:OGC:1.3:CRS84"),new bi("urn:ogc:def:crs:OGC:2:84"),new bi("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new bi("urn:x-ogc:def:crs:EPSG:4326","neu")];function ei(a){Sf.call(this,a)}H(ei,Sf);ei.prototype.be=function(){return this.get("preload")};ei.prototype.getPreload=ei.prototype.be;ei.prototype.Wi=function(a){this.set("preload",a)};ei.prototype.setPreload=ei.prototype.Wi;ei.prototype.ee=function(){return this.get("useInterimTilesOnError")};ei.prototype.getUseInterimTilesOnError=ei.prototype.ee;ei.prototype.$i=function(a){this.set("useInterimTilesOnError",a)};ei.prototype.setUseInterimTilesOnError=ei.prototype.$i;function fi(a,b,c,d,e){this.Kc={};this.s=a;this.Hb=b;this.La=c;this.G=d;this.uj=e;this.v=this.F=this.Q=this.Ze=this.Ye=this.Xe=null;this.Lh=this.Kh=this.he=this.Af=this.zf=this.yf=0;this.Mh=!1;this.Wc=this.Nh=0;this.Oh=!1;this.Cf=0;this.P="";this.Dc=this.ud=this.tg=this.sg=0;this.Ee=this.Ec=this.Cc=null;this.ld=[];this.yg=Wd()}
function gi(a,b,c){if(null!==a.v){b=sh(b,0,c,2,a.G,a.ld);c=a.s;var d=a.yg,e=c.globalAlpha;1!=a.he&&(c.globalAlpha=e*a.he);var f=a.Nh;a.Mh&&(f+=a.uj);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.yf,n=b[g+1]-a.zf;a.Oh&&(m=m+0.5|0,n=n+0.5|0);if(0!==f||1!=a.Wc){var p=m+a.yf,q=n+a.zf;pg(d,p,q,a.Wc,a.Wc,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.v,a.Kh,a.Lh,a.Cf,a.Af,m,n,a.Cf,a.Af)}0===f&&1==a.Wc||c.setTransform(1,0,0,1,0,0);1!=a.he&&(c.globalAlpha=e)}}
function hi(a,b,c,d){var e=0;if(null!==a.Ee&&""!==a.P){null===a.Cc||ii(a,a.Cc);null===a.Ec||ji(a,a.Ec);var f=a.Ee,g=a.s,h=a.Ze;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Ze={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=sh(b,e,c,d,a.G,a.ld);for(f=a.s;e<c;e+=d){g=
b[e]+a.sg;h=b[e+1]+a.tg;if(0!==a.ud||1!=a.Dc){var m=pg(a.yg,g,h,a.Dc,a.Dc,a.ud,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Ec||f.strokeText(a.P,g,h);null===a.Cc||f.fillText(a.P,g,h)}0===a.ud&&1==a.Dc||f.setTransform(1,0,0,1,0,0)}}function ki(a,b,c,d,e,f){var g=a.s;a=sh(b,c,d,e,a.G,a.ld);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function li(a,b,c,d,e){var f=a.s,g,h;g=0;for(h=d.length;g<h;++g)c=ki(a,b,c,d[g],e,!0),f.closePath();return c}function Dh(a,b){var c=Infinity.toString(),d=a.Kc[c];v(d)?d.push(b):a.Kc[c]=[b]}l=fi.prototype;
l.Wg=function(a){if(Df(this.La,a.M())){if(null!==this.Q||null!==this.F){null===this.Q||ii(this,this.Q);null===this.F||ji(this,this.F);var b;b=a.C;b=null===b?null:sh(b,0,b.length,a.D,this.G,this.ld);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.s;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.Q||d.fill();null===this.F||d.stroke()}""!==this.P&&hi(this,a.la(),2,2)}};l.Xg=function(a,b){var c=a.ak(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];mi[f.de()].call(this,f,b)}};
l.bh=function(a){var b=a.C;a=a.D;null===this.v||gi(this,b,b.length);""!==this.P&&hi(this,b,b.length,a)};l.$g=function(a){var b=a.C;a=a.D;null===this.v||gi(this,b,b.length);""!==this.P&&hi(this,b,b.length,a)};l.Yg=function(a){if(Df(this.La,a.M())){if(null!==this.F){ji(this,this.F);var b=this.s,c=a.C;b.beginPath();ki(this,c,0,c.length,a.D,!1);b.stroke()}""!==this.P&&(a=a.Yj(),hi(this,a,2,2))}};
l.Zg=function(a){var b=a.M();if(Df(this.La,b)){if(null!==this.F){ji(this,this.F);var b=this.s,c=a.C,d=0,e=a.aa,f=a.D;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=ki(this,c,d,e[g],f,!1);b.stroke()}""!==this.P&&(a=a.Zj(),hi(this,a,a.length,2))}};
l.ff=function(a){if(Df(this.La,a.M())){if(null!==this.F||null!==this.Q){null===this.Q||ii(this,this.Q);null===this.F||ji(this,this.F);var b=this.s;b.beginPath();li(this,zh(a),0,a.aa,a.D);null===this.Q||b.fill();null===this.F||b.stroke()}if(""!==this.P){if(a.mf!=a.Fa){b=yf(a.M());var c=zh(a),d=a.aa,e=a.D,f,g,h,m,n,p=b[1],q=[],r=d[0];h=c[r-e];n=c[r-e+1];for(f=0;f<r;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}r=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var t=Math.abs(m-h);t>n&&(h=(h+m)/2,wh(c,d,e,h,p)&&(r=h,n=t));h=m}isNaN(r)&&(r=b[0]);v(void 0)?((void 0).push(r,p),b=void 0):b=[r,p];a.nf=b;a.mf=a.Fa}hi(this,a.nf,2,2)}}};
l.ah=function(a){if(Df(this.La,a.M())){if(null!==this.F||null!==this.Q){null===this.Q||ii(this,this.Q);null===this.F||ji(this,this.F);var b=this.s,c=zh(a),d=0,e=a.Wj(),f=a.D,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=li(this,c,d,m,f);null===this.Q||b.fill();null===this.F||b.stroke()}}""!==this.P&&(a=a.Xj(),hi(this,a,a.length,2))}};l.flush=function(){var a=Ca(Ta(this.Kc),Number);Ja(a);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Kc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function ii(a,b){var c=a.s,d=a.Xe;null===d?(c.fillStyle=b.fillStyle,a.Xe={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function ji(a,b){var c=a.s,d=a.Ye;null===d?(c.lineCap=b.lineCap,xe&&c.setLineDash(b.oa),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Ye={lineCap:b.lineCap,oa:b.oa,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),xe&&!Na(d.oa,b.oa)&&c.setLineDash(d.oa=b.oa),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=
c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
l.Qi=function(a,b){if(null===a)this.Q=null;else{var c=a.Mc;this.Q={fillStyle:x(null===c?Jh:c)?null===c?Jh:c:Hh(null===c?Jh:c)}}if(null===b)this.F=null;else{var c=b.Mc,d=b.If,e=b.getLineDash(),f=b.Jf,g=b.eb(),h=b.Of;this.F={lineCap:v(d)?d:"round",oa:null!=e?e:Kh,lineJoin:v(f)?f:"round",lineWidth:this.Hb*(v(g)?g:1),miterLimit:v(h)?h:10,strokeStyle:x(null===c?Lh:c)?null===c?Lh:c:Hh(null===c?Lh:c)}}};
l.Zi=function(a){if(null===a)this.P="";else{var b=a.kf;null===b?this.Cc=null:(b=b.Mc,this.Cc={fillStyle:x(null===b?Jh:b)?null===b?Jh:b:Hh(null===b?Jh:b)});var c=a.qg;if(null===c)this.Ec=null;else{var b=c.Mc,d=c.If,e=c.getLineDash(),f=c.Jf,g=c.eb(),c=c.Of;this.Ec={lineCap:v(d)?d:"round",oa:null!=e?e:Kh,lineJoin:v(f)?f:"round",lineWidth:v(g)?g:1,miterLimit:v(c)?c:10,strokeStyle:x(null===b?Lh:b)?null===b?Lh:b:Hh(null===b?Lh:b)}}var b=a.$j(),d=a.bk(),e=a.ck(),f=a.qb(),g=a.dk(),c=a.P,h=a.ek();a=a.fk();
this.Ee={font:v(b)?b:"10px sans-serif",textAlign:v(h)?h:"center",textBaseline:v(a)?a:"middle"};this.P=v(c)?c:"";this.sg=v(d)?this.Hb*d:0;this.tg=v(e)?this.Hb*e:0;this.ud=v(f)?f:0;this.Dc=this.Hb*(v(g)?g:1)}};var mi={Point:fi.prototype.bh,LineString:fi.prototype.Yg,Polygon:fi.prototype.ff,MultiPoint:fi.prototype.$g,MultiLineString:fi.prototype.Zg,MultiPolygon:fi.prototype.ah,GeometryCollection:fi.prototype.Xg,Circle:fi.prototype.Wg};var ni=["Polygon","LineString","Image","Text"];function oi(a,b,c){this.yk=a;this.bi=b;this.hg=c;this.tc={};this.hk=se(1,1);this.ik=Wd()}oi.prototype.eg=function(a,b,c,d,e,f){var g=Ca(Ta(this.tc),Number);Ja(g);return this.Ni(g,a,b,c,d,e,f)};
oi.prototype.Ni=function(a,b,c,d,e,f,g){var h=this.bi,m=h[0],n=h[1],p=h[2],h=h[3],m=sh([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,r,m=0,n=a.length;m<n;++m)for(q=this.tc[a[m].toString()],p=0,h=ni.length;p<h;++p)if(r=q[ni[p]],v(r)&&Df(c,r.M())&&(r=r.eg(b,d,e,f,g)))return r;b.restore()};oi.prototype.finish=function(){for(var a in this.tc){var b=this.tc[a],c;for(c in b)b[c].finish()}};
oi.prototype.Bb=function(){return Va(this.tc)};function pi(a,b){fg.call(this,a,b);this.G=Wd()}H(pi,fg);pi.prototype.Vb=function(a,b,c,d){var e=this.pe;if(e.fc(a)){if(!v(d)){d=c.i;var f=c.Ea;d=pg(this.G,f*c.size[0]/2,f*c.size[1]/2,f/d.e,-f/d.e,-d.rotation,-d.center[0],-d.center[1])}d=new fi(b,c.Ea,c.c,d,c.i.rotation);e.dispatchEvent(new Ah(a,e,d,null,c,b,null));d.flush()}};
var qi=function(){var a=null,b=null;return function(c){if(null===a){a=se(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Na(b.data,c.data));return e}}();function ri(a,b){pi.call(this,a,b);this.ia=this.A=null;this.Ld=!1;this.s=null;this.Bf=Wd();this.ze=NaN;this.rd=this.pa=null}H(ri,pi);ri.prototype.ua=k("A");
ri.prototype.ve=function(a,b){var c=a.Ea,d=a.i,e=d.projection,f=this.pe,g=f.Bc,h=eg(g,e),m=Uf(h.vc,d.e,0),n=ag(eg(g,e),m)*g.vg,p=n/ag(h,m),q=h.t(m),p=q/p,r=d.center,t;q==d.e?(r=lg(r,q,a.size),t=Bf(r,q,d.rotation,a.size)):t=a.c;v(b.c)&&(t=Cf(t,b.c));if(t[2]<t[0]||t[3]<t[1])return!1;var u=Zf(h,t,q),y=n*u.eb(),w=n*(u.l-u.p+1),E,G;null===this.A?(G=se(y,w),this.A=G.canvas,this.ia=[y,w],this.s=G,this.Ld=!qi(this.ia)):(E=this.A,G=this.s,this.ia[0]<y||this.ia[1]<w||this.Ld&&(this.ia[0]>y||this.ia[1]>w)?(E.width=
y,E.height=w,this.ia=[y,w],this.Ld=!qi(this.ia),this.pa=null):(y=this.ia[0],w=this.ia[1],m==this.ze&&this.pa.n<=u.n&&u.H<=this.pa.H&&this.pa.p<=u.p&&u.l<=this.pa.l||(this.pa=null,m<this.ze&&this.s.clearRect(0,0,y,w))));var B,C;null===this.pa?(y/=n,w/=n,B=u.n-Math.floor((y-u.eb())/2),C=u.p-Math.floor((w-(u.l-u.p+1))/2),this.ze=m,this.pa=new vf(B,B+y-1,C,C+w-1),this.rd=Array(y*w),w=this.pa):(w=this.pa,y=w.eb());E={};E[m]={};var A=[],K=D(g.lf,g,E,jg(function(a){return null!==a&&2==a.u()},g,c,e)),ha=
f.ee();v(ha)||(ha=!0);var Ba=[Infinity,Infinity,-Infinity,-Infinity],Ka=new vf(0,0,0,0),ca,F,T;for(C=u.n;C<=u.H;++C)for(T=u.p;T<=u.l;++T)F=kg(g,m,C,T,c,e),B=F.u(),2==B||4==B||3==B&&!ha?E[m][uf(F.q)]=F:(ca=h.Yd(F.q,K,null,Ka,Ba),ca||(A.push(F),ca=h.ce(F.q,Ka,Ba),null===ca||K(m+1,ca)));K=0;for(ca=A.length;K<ca;++K)F=A[K],C=n*(F.q[1]-w.n),T=n*(w.l-F.q[2]),G.clearRect(C,T,n,n);A=Ca(Ta(E),Number);Ja(A);var N=g.ti,wd=Af(Xf(h,[m,w.n,w.l],Ba)),Xa,La,xd,Ac,rb,Re,K=0;for(ca=A.length;K<ca;++K)if(Xa=A[K],n=ag(eg(g,
e),Xa)*g.vg,Ac=E[Xa],Xa==m)for(xd in Ac)F=Ac[xd],La=(F.q[2]-w.p)*y+(F.q[1]-w.n),this.rd[La]!=F&&(C=n*(F.q[1]-w.n),T=n*(w.l-F.q[2]),B=F.u(),4!=B&&(3!=B||ha)&&N||G.clearRect(C,T,n,n),2==B&&G.drawImage(F.ua(),0,0,n,n,C,T,n,n),this.rd[La]=F);else for(xd in Xa=h.t(Xa)/q,Ac)for(F=Ac[xd],La=Xf(h,F.q,Ba),C=(La[0]-wd[0])/p,T=(wd[1]-La[3])/p,Re=Xa*n,rb=Xa*n,B=F.u(),4!=B&&N||G.clearRect(C,T,Re,rb),2==B&&G.drawImage(F.ua(),0,0,n,n,C,T,Re,rb),F=Yf(h,La,m,Ka),B=Math.max(F.n,w.n),T=Math.min(F.H,w.H),C=Math.max(F.p,
w.p),F=Math.min(F.l,w.l);B<=T;++B)for(rb=C;rb<=F;++rb)La=(rb-w.p)*y+(B-w.n),this.rd[La]=void 0;ig(a.Ad,g,m,u);mg(a,g,h,c,e,t,m,f.be());gg(a,g);hg(a,g);pg(this.Bf,c*a.size[0]/2,c*a.size[1]/2,c*p/d.e,c*p/d.e,d.rotation,(wd[0]-r[0])/p,(r[1]-wd[1])/p);return!0};function si(a,b){rg.call(this,0,b);this.s=se();this.A=this.s.canvas;this.A.style.width="100%";this.A.style.height="100%";this.A.className="ol-unselectable";jd(a,this.A,0);this.B=!0;this.G=Wd()}H(si,rg);si.prototype.Qd=function(a){return a instanceof ei?new ri(this,a):null};
si.prototype.Vb=function(a,b){var c=this.va(),d=this.s;if(c.fc(a)){var e=b.c,f=b.Ea,g=b.i,h=g.e,m=g.rotation;pg(this.G,this.A.width/2,this.A.height/2,f/g.e,-f/g.e,-g.rotation,-g.center[0],-g.center[1]);g=new fi(d,f,e,this.G,m);h=new oi(0.5*h/f,e,h);c.dispatchEvent(new Ah(a,c,g,h,b,d,null));h.finish();h.Bb()||h.eg(d,e,f,this.G,m,{});g.flush();this.fg=h}};si.prototype.de=ba("canvas");
si.prototype.ye=function(a){if(null===a)this.B&&(Ld(this.A,!1),this.B=!1);else{var b=this.s,c=a.size[0]*a.Ea,d=a.size[1]*a.Ea;this.A.width!=c||this.A.height!=d?(this.A.width=c,this.A.height=d):b.clearRect(0,0,this.A.width,this.A.height);sg(a);this.Vb("precompose",a);var c=a.oe,d=a.i.e,e,f,g,h;e=0;for(f=c.length;e<f;++e)if(h=c[e],g=h.cd,g=ug(this,g),h.visible&&(d>=h.Qa&&d<h.Ca)&&"ready"==h.og&&g.ve(a,h)){var m=a,n=h;h=b;g.Vb("precompose",h,m,void 0);var p=g.ua();if(null!==p){var q=g.Bf,r=h.globalAlpha;
h.globalAlpha=n.opacity;if(0===m.i.rotation){var n=q[13],t=p.width*q[0],u=p.height*q[5];h.drawImage(p,0,0,+p.width,+p.height,Math.round(q[12]),Math.round(n),Math.round(t),Math.round(u))}else h.setTransform(q[0],q[1],q[4],q[5],q[12],q[13]),h.drawImage(p,0,0),h.setTransform(1,0,0,1,0,0);h.globalAlpha=r}g.Vb("postcompose",h,m,void 0)}this.Vb("postcompose",a);this.B||(Ld(this.A,!0),this.B=!0);vg(this,a);a.qc.push(tg)}};function ti(a,b,c){fg.call(this,a,b);this.target=c}H(ti,fg);ti.prototype.rb=k("target");function ui(a,b){var c=hd("DIV");c.style.position="absolute";ti.call(this,a,b,c);this.B=!0;this.bg=1;this.cg=0;this.fa={}}H(ui,ti);
ui.prototype.ve=function(a,b){if(!b.visible)return this.B&&(Ld(this.target,!1),this.B=!1),!0;var c=a.Ea,d=a.i,e=d.projection,f=this.pe,g=f.Bc,h=eg(g,e),m=Uf(h.vc,d.e,0),n=h.t(m),p=d.center,q;n==d.e?(p=lg(p,n,a.size),q=Bf(p,n,d.rotation,a.size)):q=a.c;v(b.c)&&(q=Cf(q,b.c));var n=Zf(h,q,n),r={};r[m]={};var t=D(g.lf,g,r,jg(function(a){return null!==a&&2==a.u()},g,c,e)),u=f.ee();v(u)||(u=!0);var y=[Infinity,Infinity,-Infinity,-Infinity],w=new vf(0,0,0,0),E,G,B,C;for(B=n.n;B<=n.H;++B)for(C=n.p;C<=n.l;++C)E=
kg(g,m,B,C,c,e),G=E.u(),2==G?r[m][uf(E.q)]=E:4==G||3==G&&!u||(G=h.Yd(E.q,t,null,w,y),G||(E=h.ce(E.q,w,y),null===E||t(m+1,E)));var A;if(this.cg!=g.Fa){for(A in this.fa)u=this.fa[+A],kd(u.target);this.fa={};this.cg=g.Fa}y=Ca(Ta(r),Number);Ja(y);var t={},K;B=0;for(C=y.length;B<C;++B){A=y[B];A in this.fa?u=this.fa[A]:(u=bg(h,p,A),u=new vi(h,u),t[A]=!0,this.fa[A]=u);A=r[A];for(K in A)wi(u,A[K]);xi(u)}K=Ca(Ta(this.fa),Number);Ja(K);C=Wd();y=0;for(B=K.length;y<B;++y)if(A=K[y],u=this.fa[A],A in r)if(G=u.t(),
E=u.dc(),pg(C,a.size[0]/2,a.size[1]/2,G/d.e,G/d.e,d.rotation,(E[0]-p[0])/G,(p[1]-E[1])/G),u.setTransform(C),A in t){for(A-=1;0<=A;--A)if(A in this.fa){id(u.target,this.fa[A].target);break}0>A&&jd(this.target,u.target,0)}else a.I[0]||a.I[1]||yi(u,q,w);else kd(u.target),delete this.fa[A];b.opacity!=this.bg&&(Kd(this.target,b.opacity),this.bg=b.opacity);b.visible&&!this.B&&(Ld(this.target,!0),this.B=!0);ig(a.Ad,g,m,n);mg(a,g,h,c,e,q,m,f.be());gg(a,g);hg(a,g);return!0};
function vi(a,b){this.target=hd("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.ug=a;this.Ge=b;this.jd=Af(Xf(a,b));this.hg=a.t(b[0]);this.Gc={};this.pb=null;var c=Array(16);Xd(c,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.G=c}
function wi(a,b){var c=b.q,d=c[0],e=c[1],f=c[2],c=uf(c);if(!(c in a.Gc)){var d=ag(a.ug,d),g=b.ua(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.Ge[1])*d+"px";h.top=(a.Ge[2]-f)*d+"px";null===a.pb&&(a.pb=document.createDocumentFragment());a.pb.appendChild(g);a.Gc[c]=b}}function xi(a){null!==a.pb&&(a.target.appendChild(a.pb),a.pb=null)}vi.prototype.dc=k("jd");vi.prototype.t=k("hg");
function yi(a,b,c){var d=Yf(a.ug,b,a.Ge[0],c);b=[];for(var e in a.Gc)c=a.Gc[e],d.contains(c.q)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=uf(c.q),kd(c.ua(a)),delete a.Gc[e]}
vi.prototype.setTransform=function(a){if(a[0]!=this.G[0]||a[1]!=this.G[1]||a[4]!=this.G[4]||a[5]!=this.G[5]||a[12]!=this.G[12]||a[13]!=this.G[13]){var b=this.target,c;if(ue()){if(v(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");ve(b,"matrix3d("+c+")")}else if(te()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(v(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");ve(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",
b.style.top=Math.round(a[13])+"px";b=this.G;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function zi(a,b){rg.call(this,0,b);this.Eb=hd("DIV");this.Eb.className="ol-unselectable";var c=this.Eb.style;c.position="absolute";c.width="100%";c.height="100%";jd(a,this.Eb,0);this.B=!0}H(zi,rg);zi.prototype.Qd=function(a){if(a instanceof ei)a=new ui(this,a);else return null;return a};zi.prototype.de=ba("dom");
zi.prototype.ye=function(a){if(null===a)this.B&&(Ld(this.Eb,!1),this.B=!1);else{var b;b=function(a,b){jd(this.Eb,a,b)};var c=a.oe,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.cd,f=ug(this,f),b.call(this,f.rb(),d),"ready"==g.og&&f.ve(a,g);b=a.ne;for(var h in this.na)h in b||(f=this.na[h],kd(f.rb()));this.B||(Ld(this.Eb,!0),this.B=!0);sg(a);vg(this,a);a.qc.push(tg)}};function Ai(){this.b=0;this.Yb={};this.Z=this.da=null}l=Ai.prototype;l.clear=function(){this.b=0;this.Yb={};this.Z=this.da=null};l.Ja=function(a){return this.Yb.hasOwnProperty(a)};l.forEach=function(a,b){for(var c=this.da;null!==c;)a.call(b,c.Nb,c.le,this),c=c.ca};l.get=function(a){a=this.Yb[a];if(a===this.Z)return a.Nb;a===this.da?(this.da=this.da.ca,this.da.Ra=null):(a.ca.Ra=a.Ra,a.Ra.ca=a.ca);a.ca=null;a.Ra=this.Z;this.Z=this.Z.ca=a;return a.Nb};l.bc=k("b");
l.Ma=function(){var a=Array(this.b),b=0,c;for(c=this.Z;null!==c;c=c.Ra)a[b++]=c.le;return a};l.ma=function(){var a=Array(this.b),b=0,c;for(c=this.Z;null!==c;c=c.Ra)a[b++]=c.Nb;return a};l.pop=function(){var a=this.da;delete this.Yb[a.le];null!==a.ca&&(a.ca.Ra=null);this.da=a.ca;null===this.da&&(this.Z=null);--this.b;return a.Nb};l.set=function(a,b){var c={le:a,ca:null,Ra:this.Z,Nb:b};null===this.Z?this.da=c:this.Z.ca=c;this.Z=c;this.Yb[a]=c;++this.b};var Bi=["canvas","webgl","dom"];
function $(a){ae.call(this);var b=Ci(a);this.Hb=v(a.Ea)?a.Ea:we;this.Xh=b.Fb;this.Gd=new Nc(this.Li,void 0,this);ac(this,this.Gd);this.Pg=Wd();this.Bi=Wd();this.eh=0;this.kc=this.Cd=this.Jb=this.cb=null;this.w=V("DIV","ol-viewport");this.w.style.position="relative";this.w.style.overflow="hidden";this.w.style.width="100%";this.w.style.height="100%";this.w.style.msTouchAction="none";ze&&(this.w.className="ol-touch");this.wi=V("DIV","ol-overlaycontainer");this.w.appendChild(this.wi);this.re=V("DIV",
"ol-overlaycontainer-stopevent");R(this.re,["click","dblclick","mousedown","touchstart","MSPointerDown",pf,pb?"DOMMouseScroll":"mousewheel"],fc);this.w.appendChild(this.re);a=new gf(this);R(a,Sa(sf),this.wa,!1,this);ac(this,a);this.Ff=b.ic;this.Zc=new ud;R(this.Zc,"key",this.wf,!1,this);ac(this,this.Zc);a=new Qd(this.w);R(a,"mousewheel",this.wf,!1,this);ac(this,a);this.Pd=b.controls;this.Sg=b.Td;this.hc=b.Ab;this.se=b.oc;this.dg=new b.Mi(this.w,this);ac(this,this.dg);this.Dg=new qd;ac(this,this.Dg);
R(this.Dg,"resize",this.Ag,!1,this);this.Xd=null;this.qd=[];this.Xf=[];this.wg=new yg(D(this.ih,this),D(this.Eh,this));this.dj={};R(this,ee("layergroup"),this.ph,!1,this);R(this,ee("view"),this.Fh,!1,this);R(this,ee("size"),this.Ah,!1,this);R(this,ee("target"),this.Ch,!1,this);this.zc(b.tj);this.Pd.forEach(function(a){a.setMap(this)},this);R(this.Pd,"add",function(a){a.element.setMap(this)},!1,this);R(this.Pd,"remove",function(a){a.element.setMap(null)},!1,this);this.hc.forEach(function(a){a.setMap(this)},
this);R(this.hc,"add",function(a){a.element.setMap(this)},!1,this);R(this.hc,"remove",function(a){a.element.setMap(null)},!1,this);this.se.forEach(function(a){a.setMap(this)},this);R(this.se,"add",function(a){a.element.setMap(this)},!1,this);R(this.se,"remove",function(a){a.element.setMap(null)},!1,this)}H($,ae);$.prototype.ha=function(a){Z(this);Array.prototype.push.apply(this.qd,arguments)};$.prototype.h=function(){kd(this.w);$.N.h.call(this)};$.prototype.rb=function(){return this.get("target")};
$.prototype.getTarget=$.prototype.rb;$.prototype.ac=function(a){var b=this.cb;if(null===b)return null;a=a.slice();return qg(b.Wf,a,a)};$.prototype.Tc=function(){return this.get("layergroup")};$.prototype.getLayerGroup=$.prototype.Tc;$.prototype.cc=function(){var a=this.Tc();if(v(a))return a.cc()};$.prototype.Na=function(){return this.get("size")};$.prototype.getSize=$.prototype.Na;$.prototype.g=function(){return this.get("view")};$.prototype.getView=$.prototype.g;l=$.prototype;
l.ih=function(a,b,c,d){var e=this.cb;if(!(null!==e&&b in e.Pb&&e.Pb[b][uf(a.q)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};l.wf=function(a,b){var c=new ef(b||a.type,this,a);this.wa(c)};l.wa=function(a){if(null!==this.cb){this.Xd=a.coordinate;a.frameState=this.cb;var b=this.hc.ga,c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c&&b[c].wa(a);c--);}};
l.yh=function(){var a=this.cb,b=this.wg;if(!b.Bb()){var c=16,d=c,e=0;if(null!==a){var e=a.I,f=this.Sg;e[0]&&(c=!1===f.lk?0:8,d=2);e[1]&&(c=!1===f.mk?0:8,d=2);e=Ra(a.Pb)}c*=e;d*=e;if(b.Fc<c){var e=b.Yf,f=b.ka,g=b.Kb,h=0,m=f.length,n,p,q;for(p=0;p<m;++p)n=f[p],q=e(n),Infinity==q?delete b.rc[b.ke(n)]:(g[h]=q,f[h++]=n);f.length=h;g.length=h;for(e=(b.ka.length>>1)-1;0<=e;e--)xg(b,e);c=Math.min(c-b.Fc,d,b.bc());for(d=0;d<c;++d)e=b,g=e.ka,h=e.Kb,f=g[0],1==g.length?(g.length=0,h.length=0):(g[0]=g.pop(),h[0]=
h.pop(),xg(e,0)),g=e.ke(f),delete e.rc[g],e=f[0],zc(e,"change",b.Dh,!1,b),e.load();b.Fc+=c}}b=this.Xf;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};l.Ah=function(){Z(this)};l.Ch=function(){var a=this.rb(),a=v(a)?ad(a):null;this.Zc.detach();null===a?kd(this.w):(a.appendChild(this.w),vd(this.Zc,null===this.Ff?a:this.Ff));this.Ag()};l.Eh=function(){Z(this)};l.Gh=function(){Z(this)};
l.Fh=function(){null!==this.Cd&&(S(this.Cd),this.Cd=null);var a=this.g();null!=a&&(this.Cd=R(a,"propertychange",this.Gh,!1,this));Z(this)};l.qh=function(){Z(this)};l.rh=function(){Z(this)};l.ph=function(){if(null!==this.kc){for(var a=this.kc.length,b=0;b<a;++b)S(this.kc[b]);this.kc=null}a=this.Tc();null!=a&&(this.kc=[R(a,"propertychange",this.rh,!1,this),R(a,"change",this.qh,!1,this)]);Z(this)};
l.ie=function(){if(!ld(document,this.w)||"none"==this.w.style.display)return!1;var a=this.Na();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.g();return v(a)&&a.ie()?!0:!1};function Z(a){null!=a.Gd.R||a.Gd.start()}
l.Li=function(a){var b,c,d,e=this.Na(),f=this.g(),g=null;if(v(e)&&0<e[0]&&0<e[1]&&v(f)&&f.ie()){var g=Ga(f.ge),h=this.Tc().ae(),m={};b=0;for(c=h.length;b<c;++b)m[z(h[b].cd)]=h[b];d=f.u();g={Wa:!1,Ya:{},af:this.Pg,c:null,focus:null===this.Xd?d.center:this.Xd,index:this.eh++,ne:m,oe:h,Fb:this.Xh,Ea:this.Hb,Wf:this.Bi,qc:[],size:e,uk:this.dj,lj:this.wg,time:a,Ad:{},i:d,I:g,Pb:{}}}a=this.qd;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;null!==g&&(g.c=Bf(d.center,d.e,d.rotation,
g.size));this.cb=g;this.dg.ye(g);null!==g&&(g.Wa&&Z(this),Array.prototype.push.apply(this.Xf,g.qc),0!==this.qd.length||(g.I[0]||g.I[1]||this.Jb&&g.c[0]==this.Jb[0]&&g.c[2]==this.Jb[2]&&g.c[1]==this.Jb[1]&&g.c[3]==this.Jb[3])||(this.dispatchEvent(new me("moveend",this,g)),this.Jb=v(void 0)?void 0:g.c.slice()));this.dispatchEvent(new me("postrender",this,g));c=b=this.yh;this&&(c=D(b,this));ka(s.setImmediate)?s.setImmediate(c):(Qc||(Qc=Rc()),Qc(c))};l.Si=function(a){this.set("layergroup",a)};
$.prototype.setLayerGroup=$.prototype.Si;$.prototype.Ce=function(a){this.set("size",a)};$.prototype.setSize=$.prototype.Ce;$.prototype.Yi=function(a){this.set("target",a)};$.prototype.setTarget=$.prototype.Yi;$.prototype.aj=function(a){this.set("view",a)};$.prototype.setView=$.prototype.aj;
$.prototype.Ag=function(){var a=this.rb(),a=v(a)?ad(a):null;if(null===a)this.Ce(void 0);else{var b=$c(a),c=M&&a.currentStyle,d;if(d=c)b=Yc(b),d=ed(b.Wb)&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing;if(d)b=Md(a,c.width,"width","pixelWidth"),a=Md(a,c.height,"height","pixelHeight"),a=new Xc(b,a);else{c=new Xc(a.offsetWidth,a.offsetHeight);if(M){b=Nd(a,"paddingLeft");d=Nd(a,"paddingRight");var e=Nd(a,"paddingTop"),f=Nd(a,"paddingBottom"),b=new Dd(e,d,f,b)}else b=Ed(a,"paddingLeft"),d=Ed(a,"paddingRight"),
e=Ed(a,"paddingTop"),f=Ed(a,"paddingBottom"),b=new Dd(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));M?(d=Pd(a,"borderLeft"),e=Pd(a,"borderRight"),f=Pd(a,"borderTop"),a=Pd(a,"borderBottom"),a=new Dd(f,e,a,d)):(d=Ed(a,"borderLeftWidth"),e=Ed(a,"borderRightWidth"),f=Ed(a,"borderTopWidth"),a=Ed(a,"borderBottomWidth"),a=new Dd(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d)));a=new Xc(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.Ce([a.width,a.height])}};
function Ci(a){var b=null;v(a.ic)&&(b=x(a.ic)?document.getElementById(a.ic):a.ic);var c={},d={};if(!v(a.Ba)||"boolean"==typeof a.Ba&&a.Ba)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.Ba;x(e)?d[e]="":la(e)&&(d[e.src]=e.href)}e=a.Db instanceof Uh?a.Db:new Uh({Db:a.Db});c.layergroup=e;c.target=a.target;c.view=v(a.view)?a.view:new Y;var e=rg,f;v(a.sc)?ga(a.sc)?f=a.sc:x(a.sc)&&(f=[a.sc]):f=Bi;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(ye){e=si;break}}else if("dom"==m){e=zi;break}}v(a.controls)?f=ga(a.controls)?new ge(Ga(a.controls)):a.controls:(f=v(void 0)?void 0:{},g=new ge,(v(f.zoom)?f.zoom:1)&&g.push(new ah(f.Bk)),(v(f.rotate)?
f.rotate:1)&&g.push(new Zg(f.qk)),(v(f.attribution)?f.attribution:1)&&g.push(new Rg(f.Pj)),f=g);g=v(a.Td)?a.Td:{};h=v(a.Ab)?ga(a.Ab)?new ge(Ga(a.Ab)):a.Ab:Th();a=v(a.oc)?ga(a.oc)?new ge(Ga(a.oc)):a.oc:new ge;return{controls:f,Td:g,Ab:h,ic:b,Fb:d,oc:a,Mi:e,tj:c}}If(Zh);If(di);J(di,function(a){J(Zh,function(b){Kf(a,b,$h);Kf(b,a,ai)})});function Di(a,b,c,d,e){Tf.call(this,a,b);this.pg=c;this.v=new Image;null!==d&&(this.v.crossOrigin=d);this.Vc={};this.gc=null;this.kj=e}H(Di,Tf);l=Di.prototype;l.ua=function(a){if(v(a)){var b=z(a);if(b in this.Vc)return this.Vc[b];a=Va(this.Vc)?this.v:this.v.cloneNode(!1);return this.Vc[b]=a}return this.v};l.getKey=k("pg");l.lh=function(){this.state=3;J(this.gc,S);this.gc=null;this.X()};
l.mh=function(){v(this.v.naturalWidth)||(this.v.naturalWidth=this.v.width,this.v.naturalHeight=this.v.height);this.state=this.v.naturalWidth&&this.v.naturalHeight?2:4;J(this.gc,S);this.gc=null;this.X()};l.load=function(){0==this.state&&(this.state=1,this.gc=[zc(this.v,"error",this.lh,!1,this),zc(this.v,"load",this.mh,!1,this)],this.kj(this,this.pg))};function Ei(a){Ai.call(this);this.Ih=v(a)?a:2048}H(Ei,Ai);Ei.prototype.Rb=function(){return this.bc()>this.Ih};Ei.prototype.Wd=function(a){for(var b,c;this.Rb()&&!(b=this.da.Nb,c=b.q[0].toString(),c in a&&a[c].contains(b.q));)this.pop().Oc()};function Fi(){};function Gi(a){dg.call(this,{Ya:a.Ya,c:a.c,Ba:a.Ba,qe:a.qe,projection:a.projection,state:v(a.state)?a.state:void 0,jb:a.jb,He:a.He});this.wd=v(a.wd)?a.wd:Fi;this.crossOrigin=v(a.crossOrigin)?a.crossOrigin:null;this.Va=new Ei;this.vd=v(a.vd)?a.vd:Hi;this.Fe=v(a.Fe)?a.Fe:Di}H(Gi,dg);function Hi(a,b){a.ua().src=b}Gi.prototype.Rb=function(){return this.Va.Rb()};Gi.prototype.Wd=function(a){this.Va.Wd(a)};
function kg(a,b,c,d,e,f){var g=a.$d(b,c,d);if(a.Va.Ja(g))return a.Va.get(g);b=[b,c,d];e=a.wd(b,e,f);e=new a.Fe(b,v(e)?0:4,v(e)?e:"",a.crossOrigin,a.vd);a.Va.set(g,e);return e}function Ii(a,b){a.Va.clear();a.vd=b;a.X()}Gi.prototype.Bg=function(a,b,c){a=this.$d(a,b,c);this.Va.Ja(a)&&this.Va.get(a)};function Ji(a){var b=v(a.c)?a.c:Wh,c=cg(b,a.Gb,a.kb);Vf.call(this,{Da:a.Da,origin:zf(b,"top-left"),ib:c,kb:a.kb})}H(Ji,Vf);Ji.prototype.ce=function(a,b){return a[0]<this.Gb?wf(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};Ji.prototype.Yd=function(a,b,c,d){d=wf(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.Da;--a)if(d.n=d.H>>=1,d.p=d.l>>=1,b.call(c,a,d))return!0;return!1};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function Ki(a,b){this.yc=[];this.Sf=a;this.bf=b||null}l=Ki.prototype;l.bb=!1;l.ec=!1;l.Hd=!1;l.Kg=!1;l.De=!1;l.Id=0;l.cancel=function(a){if(this.bb)this.wc instanceof Ki&&this.wc.cancel();else{if(this.pc){var b=this.pc;delete this.pc;a?b.cancel(a):(b.Id--,0>=b.Id&&b.cancel())}this.Sf?this.Sf.call(this.bf,this):this.De=!0;this.bb||(a=new Li(this),Mi(this),Ni(this,!1,a))}};l.$e=function(a,b){this.Hd=!1;Ni(this,a,b)};function Ni(a,b,c){a.bb=!0;a.wc=c;a.ec=!b;Oi(a)}
function Mi(a){if(a.bb){if(!a.De)throw new Pi(a);a.De=!1}}function Qi(a){return Da(a.yc,function(a){return ka(a[1])})}
function Oi(a){a.Me&&(a.bb&&Qi(a))&&(s.clearTimeout(a.Me),delete a.Me);a.pc&&(a.pc.Id--,delete a.pc);for(var b=a.wc,c=!1,d=!1;a.yc.length&&!a.Hd;){var e=a.yc.shift(),f=e[0],g=e[1],e=e[2];if(f=a.ec?g:f)try{var h=f.call(e||a.bf,b);v(h)&&(a.ec=a.ec&&(h==b||h instanceof Error),a.wc=b=h);b instanceof Ki&&(d=!0,a.Hd=!0)}catch(m){b=m,a.ec=!0,Qi(a)||(c=!0)}}a.wc=b;d&&(d=b,h=D(a.$e,a,!0),f=D(a.$e,a,!1),d.yc.push([h,f,void 0]),d.bb&&Oi(d),b.Kg=!0);c&&(a.Me=s.setTimeout(Kc(b),0))}
function Pi(a){sa.call(this);this.Qg=a}H(Pi,sa);Pi.prototype.message="Deferred has already fired";Pi.prototype.name="AlreadyCalledError";function Li(a){sa.call(this);this.Qg=a}H(Li,sa);Li.prototype.message="Deferred was canceled";Li.prototype.name="CanceledError";function Ri(a,b){var c=b||{},d=c.document||document,e=hd("SCRIPT"),f={kg:e,xd:void 0},g=new Ki(Si,f),h=null,m=null!=c.timeout?c.timeout:5E3;0<m&&(h=window.setTimeout(function(){Ti(e,!0);var b=new Ui(Vi,"Timeout reached for loading script "+a);Mi(g);Ni(g,!1,b)},m),f.xd=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Ti(e,c.Mg||!1,h),Mi(g),Ni(g,!0,null))};e.onerror=function(){Ti(e,!0,h);var b=new Ui(Wi,"Error while loading script "+a);Mi(g);
Ni(g,!1,b)};bd(e,{type:"text/javascript",charset:"UTF-8",src:a});Xi(d).appendChild(e);return g}function Xi(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function Si(){if(this&&this.kg){var a=this.kg;a&&"SCRIPT"==a.tagName&&Ti(a,!0,this.xd)}}function Ti(a,b,c){null!=c&&s.clearTimeout(c);a.onload=ea;a.onerror=ea;a.onreadystatechange=ea;b&&window.setTimeout(function(){kd(a)},0)}var Wi=0,Vi=1;
function Ui(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);sa.call(this,c);this.code=a}H(Ui,sa);function Yi(a,b){this.sj=new Hb(a);this.Lg=b?b:"callback";this.xd=5E3}var Zi=0;Yi.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(Zi++).toString(36)+ra().toString(36);s._callbacks_||(s._callbacks_={});var e=this.sj.ja();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Tb(e,f,a[f]);b&&(s._callbacks_[d]=$i(d,b),Tb(e,this.Lg,"_callbacks_."+d));b=Ri(e.toString(),{timeout:this.xd,Mg:!0});b.yc.push([null,aj(d,a,c),void 0]);b.bb&&Oi(b);return{R:d,df:b}};
Yi.prototype.cancel=function(a){a&&(a.df&&a.df.cancel(),a.R&&bj(a.R,!1))};function aj(a,b,c){return function(){bj(a,!1);c&&c(b)}}function $i(a,b){return function(c){bj(a,!0);b.apply(void 0,arguments)}}function bj(a,b){s._callbacks_[a]&&(b?delete s._callbacks_[a]:s._callbacks_[a]=ea)};function cj(a){Vf.call(this,a)}H(cj,Ji);function dj(a){for(var b=a.Jg,c=a.Uj||"jpg",d=a.pk||"native",e=a.width,f=a.height,g=a.kb||256,h=Math.max(Math.ceil(Math.log(e/g)/Math.LN2),Math.ceil(Math.log(f/g)/Math.LN2)),m=[],n=0;n<=h;n++){var p=Math.pow(2,h-n),q=Math.ceil(e/p),p=Math.ceil(f/p),q=Math.ceil(q/g),p=Math.ceil(p/g);m.push([q,p])}Gi.call(this,{jb:new cj({ib:a.ib.reverse(),origin:[0,0],kb:g}),wd:function(a){var n=a[0];if(!(h<n)){var p=m[n];if(p){var q=a[1];a=-a[2]-1;if(!(0>q||p[0]<=q||0>a||p[1]<=a)){n=Math.pow(2,h-n);p=g*n;q*=p;a*=
p;var w=Math.min(q+p,e),p=Math.min(a+p,f);return b+("/"+q+","+a+","+(w-q)+","+(p-a)+"/pct:"+100/n+"/0/"+d+"."+c)}}}},crossOrigin:a.crossOrigin});ye&&Ii(this,function(a,b){var c=a.ua();zc(c,"load",function(){if(0<c.naturalWidth&&(c.naturalWidth!=g||c.naturalHeight!=g)){var b=hd("CANVAS");b.width=g;b.height=g;b.getContext("2d").drawImage(c,0,0);var d=Ua(a,function(a){return a==c});d&&(a[d]=b)}},!0);c.src=b})}H(dj,Gi);function ej(a,b,c,d,e){a=ad(a);if(!a)throw Error("Invalid element");this.Zh=a;this.a=null;this.Cg=!0==d;this.te=e||null;this.Df=c||null;this.kh=x(b)?b.substring(0,b.lastIndexOf("/")):null;fj(this,b)}ej.prototype.va=k("a");
function gj(a,b){var c=b.width,d=b.height,e=b["@id"];if(!e){var f=b.image_host,g=b.identifier;f&&g&&(e=f+g)}e||(e=a.kh);if(!e)throw Error("Unable to determine base url");f=new Ff({code:"IIIF",Ne:"pixels",c:[0,-d,c,0]});e=new dj({Jg:e,width:c,height:d,ib:b.scale_factors,projection:f,crossOrigin:a.Cg?"":void 0});e=new ei({source:e});a.a=new $({Db:[e],target:a.Zh,sc:a.Cg?"webgl":void 0,view:new Y({projection:f,c:[0,-d,c,0]}),Ab:Th({Pf:null==a.te}),controls:[],Ba:!1});a.te&&a.a.hc.push(a.te);c=a.a.g();
d=f.M();f=a.a.Na()||null;d[2]<d[0]||d[3]<d[1]||(c.Ga(yf(d)),d=Math.max((d[2]-d[0])/f[0],(d[3]-d[1])/f[1]),f=Ig(c,d,0,0),f<d&&(f=Ig(c,f,-1,0)),c.Ac(f));a.Df&&a.Df(a)}function fj(a,b){x(b)?(new Yi(b)).send(null,D(function(a){fj(this,a)},a)):gj(a,b)};function hj(){eh.call(this);this.j=0;this.ya=null;this.Md=!1;this.Xc=null}H(hj,eh);hj.prototype.setMap=function(a){hj.N.setMap.call(this,a);a&&(a=a.g(),R(a,ee("center"),function(){this.Md||(this.ya=null)},!1,this))};hj.prototype.wa=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.r;this.ya=a.coordinate;var d=c.Sd/12;this.j=0<this.j==0<c.Sd?this.j+d:d;this.j=Wc(this.j,-1.5,1.5);null==this.Xc&&(this.Xc=s.setInterval(D(this.Ud,this,b),125));a.preventDefault();b=!0}return!b};
hj.prototype.Ud=function(a){var b=a.g(),c=b.u(),d=c.e,c=c.center;v(d)&&v(c)&&(a.ha(Yg({e:d,duration:125,K:Vg})),this.ya&&a.ha(Wg({source:c,duration:125,K:Vg})));Wc(this.j,-1,1);a=Math.pow(2,this.j)*d;a=Wc(a,b.ci,b.Nf);this.ya&&(d=Jg(b,a,this.ya),this.Md=!0,b.Ga(d),this.Md=!1);b.Ac(a);this.j/=2;0.01>Math.abs(this.j)&&(this.j=0,s.clearInterval(this.Xc),this.Xc=null)};function ij(a,b,c){ej.call(this,a,b,c,void 0,new hj)}H(ij,ej);da("IiifViewer",ij);
