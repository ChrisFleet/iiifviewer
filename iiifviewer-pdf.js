/*
 * IiifViewer; Copyright (C) 2014 - Klokan Technologies GmbH
 * Powered by OpenLayers 3
 */
var k,ba=ba||{},l=this;function s(a){return void 0!==a}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function w(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;
function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function B(a,b,c){B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return B.apply(null,arguments)}
function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var oa=Date.now||function(){return+new Date};function pa(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&s(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function D(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Wj=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};var qa;var ra=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function sa(a){if(!ta.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ua,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(va,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(wa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(za,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(Aa,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ba,"\x26#0;"));return a}
var ua=/&/g,va=/</g,wa=/>/g,za=/"/g,Aa=/'/g,Ba=/\x00/g,ta=/[\x00&<>"']/;function Ca(a,b){return a<b?-1:a>b?1:0}function Da(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ea(a){var b=v(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Fa=Array.prototype,Ia=Fa.indexOf?function(a,b,c){return Fa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(v(a))return v(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},H=Fa.forEach?function(a,b,c){Fa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=Fa.filter?function(a,b,c){return Fa.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=v(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ka=Fa.map?function(a,b,c){return Fa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function La(a){var b;a:{b=Ma;for(var c=a.length,d=v(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:v(a)?a.charAt(b):a[b]}
function Na(a,b){var c=Ia(a,b),d;(d=0<=c)&&Fa.splice.call(a,c,1);return d}function Oa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Pa(a,b,c,d){Fa.splice.apply(a,Qa(arguments,1))}function Qa(a,b,c){return 2>=arguments.length?Fa.slice.call(a,b):Fa.slice.call(a,b,c)}function Ra(a,b){if(!fa(a)||!fa(b)||a.length!=b.length)return!1;for(var c=a.length,d=Sa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ta(a,b){return a>b?1:a<b?-1:0}
function Sa(a,b){return a===b};function Va(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Wa(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Xa(a){var b=0,c;for(c in a)b++;return b}function Ya(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Za(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function $a(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return c}function ab(a){for(var b in a)return!1;return!0}function bb(a,b){b in a&&delete a[b]}function I(a,b,c){return b in a?a[b]:c}
function cb(a){var b={},c;for(c in a)b[c]=a[c];return b}var db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<db.length;f++)c=db[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function fb(a){if("function"==typeof a.ac)return a.ac();if(v(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ya(a)}
function gb(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(fa(a)||v(a))H(a,b,void 0);else{var c;if("function"==typeof a.Ya)c=a.Ya();else if("function"!=typeof a.ac)if(fa(a)||v(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=Za(a);else c=void 0;for(var d=fb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function hb(a){return function(){return a}}var ib=hb(!1),jb=hb(!0);function kb(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function lb(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function mb(a,b,c){return Math.min(Math.max(a,b),c)};function nb(a,b){this.a={};this.H=[];this.K=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof nb?(c=a.Ya(),d=a.ac()):(c=Za(a),d=Ya(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=nb.prototype;k.Nc=function(){return this.K};k.ac=function(){pb(this);for(var a=[],b=0;b<this.H.length;b++)a.push(this.a[this.H[b]]);return a};k.Ya=function(){pb(this);return this.H.concat()};
k.Kd=function(a){return qb(this.a,a)};k.dc=function(){return 0==this.K};k.clear=function(){this.a={};this.K=this.H.length=0};k.remove=function(a){return qb(this.a,a)?(delete this.a[a],this.K--,this.H.length>2*this.K&&pb(this),!0):!1};function pb(a){if(a.K!=a.H.length){for(var b=0,c=0;b<a.H.length;){var d=a.H[b];qb(a.a,d)&&(a.H[c++]=d);b++}a.H.length=c}if(a.K!=a.H.length){for(var e={},c=b=0;b<a.H.length;)d=a.H[b],qb(e,d)||(a.H[c++]=d,e[d]=1),b++;a.H.length=c}}
k.get=function(a,b){return qb(this.a,a)?this.a[a]:b};k.set=function(a,b){qb(this.a,a)||(this.K++,this.H.push(a));this.a[a]=b};k.forEach=function(a,b){for(var c=this.Ya(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new nb(this)};function qb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var rb;a:{var sb=l.navigator;if(sb){var tb=sb.userAgent;if(tb){rb=tb;break a}}rb=""}function ub(a){return-1!=rb.indexOf(a)};var vb,wb,xb=ub("Opera")||ub("OPR"),K=ub("Trident")||ub("MSIE"),yb=ub("Gecko")&&-1==rb.toLowerCase().indexOf("webkit")&&!(ub("Trident")||ub("MSIE")),L=-1!=rb.toLowerCase().indexOf("webkit"),zb,Ab=l.navigator||null;zb=Ab&&Ab.platform||"";vb=-1!=zb.indexOf("Mac");wb=-1!=zb.indexOf("Win");var Bb=-1!=zb.indexOf("Linux");function Cb(){var a=l.document;return a?a.documentMode:void 0}
var Db=function(){var a="",b;if(xb&&l.opera)return a=l.opera.version,ha(a)?a():a;yb?b=/rv\:([^\);]+)(\)|;)/:K?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:L&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(rb))?a[1]:"");return K&&(b=Cb(),b>parseFloat(a))?String(b):a}(),Eb={};
function M(a){var b;if(!(b=Eb[a])){b=0;for(var c=ra(String(Db)).split("."),d=ra(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=Ca(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||Ca(0==p[2].length,0==q[2].length)||Ca(p[2],q[2])}while(0==b)}b=Eb[a]=0<=b}return b}
var Fb=l.document,Gb=Fb&&K?Cb()||("CSS1Compat"==Fb.compatMode?parseInt(Db,10):5):void 0;var Hb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Ib=L;function Jb(a,b){if(Ib){Ib=!1;var c=l.location;if(c){var d=c.href;if(d&&(d=(d=Jb(3,d))?decodeURI(d):d)&&d!=c.hostname)throw Ib=!0,Error();}}return b.match(Hb)[a]||null};function Kb(){0!=Lb&&(Mb[w(this)]=this);this.Tb=this.Tb;this.bb=this.bb}var Lb=0,Mb={};Kb.prototype.Tb=!1;Kb.prototype.Jc=function(){if(!this.Tb&&(this.Tb=!0,this.g(),0!=Lb)){var a=w(this);delete Mb[a]}};function Nb(a,b){var c=na(Ob,b);a.bb||(a.bb=[]);a.bb.push(s(void 0)?B(c,void 0):c)}Kb.prototype.g=function(){if(this.bb)for(;this.bb.length;)this.bb.shift()()};function Ob(a){a&&"function"==typeof a.Jc&&a.Jc()};var Pb=!K||K&&9<=Gb,Qb=!K||K&&9<=Gb,Rb=K&&!M("9");!L||M("528");yb&&M("1.9b")||K&&M("8")||xb&&M("9.5")||L&&M("528");yb&&!M("8")||K&&M("9");function N(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.fb=!1;this.cg=!0}N.prototype.g=function(){};N.prototype.Jc=function(){};N.prototype.stopPropagation=function(){this.fb=!0};N.prototype.preventDefault=function(){this.defaultPrevented=!0;this.cg=!1};function Sb(a){a.stopPropagation()};var Tb=K?"focusout":"DOMFocusOut";function Ub(a){Ub[" "](a);return a}Ub[" "]=ca;function Vb(a,b){N.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.jd=!1;this.f=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(yb){var e;a:{try{Ub(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=L||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=L||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.jd=vb?a.metaKey:a.ctrlKey;this.state=a.state;this.f=a;a.defaultPrevented&&this.preventDefault()}}D(Vb,N);var Wb=[1,4,2];function Xb(a){return(Pb?0==a.f.button:"click"==a.type?!0:!!(a.f.button&Wb[0]))&&!(L&&vb&&a.ctrlKey)}Vb.prototype.stopPropagation=function(){Vb.J.stopPropagation.call(this);this.f.stopPropagation?this.f.stopPropagation():this.f.cancelBubble=!0};
Vb.prototype.preventDefault=function(){Vb.J.preventDefault.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Vb.prototype.Zg=function(){return this.f};Vb.prototype.g=function(){};var Yb="closure_listenable_"+(1E6*Math.random()|0);function Zb(a){return!(!a||!a[Yb])}var $b=0;function ac(a,b,c,d,e){this.ab=a;this.nd=null;this.src=b;this.type=c;this.Ob=!!d;this.Rc=e;this.key=++$b;this.Gb=this.Ec=!1}function bc(a){a.Gb=!0;a.ab=null;a.nd=null;a.src=null;a.Rc=null};function cc(a){this.src=a;this.I={};this.Bc=0}cc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.I[f];a||(a=this.I[f]=[],this.Bc++);var g=dc(a,b,d,e);-1<g?(b=a[g],c||(b.Ec=!1)):(b=new ac(b,this.src,f,!!d,e),b.Ec=c,a.push(b));return b};cc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.I))return!1;var e=this.I[a];b=dc(e,b,c,d);return-1<b?(bc(e[b]),Fa.splice.call(e,b,1),0==e.length&&(delete this.I[a],this.Bc--),!0):!1};
function ec(a,b){var c=b.type;if(!(c in a.I))return!1;var d=Na(a.I[c],b);d&&(bc(b),0==a.I[c].length&&(delete a.I[c],a.Bc--));return d}cc.prototype.Zd=function(a,b,c,d){a=this.I[a.toString()];var e=-1;a&&(e=dc(a,b,c,d));return-1<e?a[e]:null};cc.prototype.ub=function(a,b){var c=s(a),d=c?a.toString():"",e=s(b);return Wa(this.I,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Ob!=b))return!0;return!1})};
function dc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Gb&&f.ab==b&&f.Ob==!!c&&f.Rc==d)return e}return-1};var fc="closure_lm_"+(1E6*Math.random()|0),gc={},hc=0;function O(a,b,c,d,e){if(ea(b)){for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);return null}c=ic(c);return Zb(a)?a.ia.add(String(b),c,!1,d,e):jc(a,b,c,!1,d,e)}function jc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=kc(a);h||(a[fc]=h=new cc(a));c=h.add(b,c,d,e,f);if(c.nd)return c;d=lc();c.nd=d;d.src=a;d.ab=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(mc(b.toString()),d);hc++;return c}
function lc(){var a=nc,b=Qb?function(c){return a.call(b.src,b.ab,c)}:function(c){c=a.call(b.src,b.ab,c);if(!c)return c};return b}function oc(a,b,c,d,e){if(ea(b)){for(var f=0;f<b.length;f++)oc(a,b[f],c,d,e);return null}c=ic(c);return Zb(a)?a.ia.add(String(b),c,!0,d,e):jc(a,b,c,!0,d,e)}function pc(a,b,c,d,e){if(ea(b))for(var f=0;f<b.length;f++)pc(a,b[f],c,d,e);else c=ic(c),Zb(a)?a.ia.remove(String(b),c,d,e):a&&(a=kc(a))&&(b=a.Zd(b,c,!!d,e))&&Q(b)}
function Q(a){if(ga(a)||!a||a.Gb)return!1;var b=a.src;if(Zb(b))return ec(b.ia,a);var c=a.type,d=a.nd;b.removeEventListener?b.removeEventListener(c,d,a.Ob):b.detachEvent&&b.detachEvent(mc(c),d);hc--;(c=kc(b))?(ec(c,a),0==c.Bc&&(c.src=null,b[fc]=null)):bc(a);return!0}function mc(a){return a in gc?gc[a]:gc[a]="on"+a}function qc(a,b,c,d){var e=1;if(a=kc(a))if(b=a.I[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Ob==c&&!f.Gb&&(e&=!1!==sc(f,d))}return Boolean(e)}
function sc(a,b){var c=a.ab,d=a.Rc||a.src;a.Ec&&Q(a);return c.call(d,b)}
function nc(a,b){if(a.Gb)return!0;if(!Qb){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Vb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.fb&&0<=h;h--)c.currentTarget=e[h],d&=qc(e[h],f,!0,c);for(h=0;!c.fb&&h<e.length;h++)c.currentTarget=
e[h],d&=qc(e[h],f,!1,c)}return d}return sc(a,new Vb(b,this))}function kc(a){a=a[fc];return a instanceof cc?a:null}var tc="__closure_events_fn_"+(1E9*Math.random()>>>0);function ic(a){if(ha(a))return a;a[tc]||(a[tc]=function(b){return a.handleEvent(b)});return a[tc]};function uc(a,b,c){Kb.call(this);this.Qh=a;this.Eh=c;this.oa=b||window;this.Ed=B(this.Mg,this)}D(uc,Kb);k=uc.prototype;k.la=null;k.Le=!1;k.start=function(){this.stop();this.Le=!1;var a=vc(this),b=wc(this);a&&!b&&this.oa.mozRequestAnimationFrame?(this.la=O(this.oa,"MozBeforePaint",this.Ed),this.oa.mozRequestAnimationFrame(null),this.Le=!0):this.la=a&&b?a.call(this.oa,this.Ed):this.oa.setTimeout(kb(this.Ed),20)};
k.stop=function(){if(this.he()){var a=vc(this),b=wc(this);a&&!b&&this.oa.mozRequestAnimationFrame?Q(this.la):a&&b?b.call(this.oa,this.la):this.oa.clearTimeout(this.la)}this.la=null};k.he=function(){return null!=this.la};k.Mg=function(){this.Le&&this.la&&Q(this.la);this.la=null;this.Qh.call(this.Eh,oa())};k.g=function(){this.stop();uc.J.g.call(this)};
function vc(a){a=a.oa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function wc(a){a=a.oa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};var xc;
function yc(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=B(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);
b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!ub("Trident")&&!ub("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.Qe;c.Qe=null;a()};return function(a){d.next={Qe:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};function zc(){this.Vf=oa()}new zc;zc.prototype.set=function(a){this.Vf=a};zc.prototype.reset=function(){this.set(oa())};zc.prototype.get=function(){return this.Vf};var Ac=!K||K&&9<=Gb;!yb&&!K||K&&K&&9<=Gb||yb&&M("1.9.1");K&&M("9");function R(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}k=R.prototype;k.clone=function(){return new R(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof R?(this.x+=a.x,this.y+=a.y):(this.x+=a,ga(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=ga(b)?b:a;this.x*=a;this.y*=c;return this};function Bc(a,b){this.width=a;this.height=b}k=Bc.prototype;k.clone=function(){return new Bc(this.width,this.height)};k.dc=function(){return!(this.width*this.height)};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(a,b){var c=ga(b)?b:a;this.width*=a;this.height*=c;return this};function Cc(a){return a?new Dc(Ec(a)):qa||(qa=new Dc)}function Fc(a){var b=document;return v(a)?b.getElementById(a):a}function Gc(a,b){Va(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Hc?a.setAttribute(Hc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Hc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ic(a){a=a.document;a=Jc(a)?a.documentElement:a.body;return new Bc(a.clientWidth,a.clientHeight)}
function S(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!Ac&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',sa(g.name),'"');if(g.type){f.push(' type\x3d"',sa(g.type),'"');var h={};eb(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(v(g)?f.className=g:ea(g)?f.className=g.join(" "):Gc(f,g));2<d.length&&Kc(e,f,d,2);return f}
function Kc(a,b,c,d){function e(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!fa(f)||ia(f)&&0<f.nodeType?e(f):H(Lc(f)?Oa(f):f,e)}}function Jc(a){return"CSS1Compat"==a.compatMode}function Mc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Nc(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Oc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Pc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ec(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Lc(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return!1}function Dc(a){this.Ub=a||l.document||document}k=Dc.prototype;
k.sc=Gc;k.createElement=function(a){return this.Ub.createElement(a)};k.createTextNode=function(a){return this.Ub.createTextNode(String(a))};function Qc(a){var b=a.Ub;a=!L&&Jc(b)?b.documentElement:b.body||b.documentElement;b=b.parentWindow||b.defaultView;return K&&M("10")&&b.pageYOffset!=a.scrollTop?new R(a.scrollLeft,a.scrollTop):new R(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}k.appendChild=function(a,b){a.appendChild(b)};k.append=function(a,b){Kc(Ec(a),a,arguments,1)};
k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};k.removeNode=Oc;k.contains=Pc;function U(){Kb.call(this);this.ia=new cc(this);this.yg=this;this.ve=null}D(U,Kb);U.prototype[Yb]=!0;k=U.prototype;k.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){pc(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.ve;if(c)for(b=[];c;c=c.ve)b.push(c);var c=this.yg,d=a.type||a;if(v(a))a=new N(a,c);else if(a instanceof N)a.target=a.target||c;else{var e=a;a=new N(d,c);eb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.fb&&0<=g;g--)f=a.currentTarget=b[g],e=Rc(f,d,!0,a)&&e;a.fb||(f=a.currentTarget=c,e=Rc(f,d,!0,a)&&e,a.fb||(e=Rc(f,d,!1,a)&&e));if(b)for(g=0;!a.fb&&g<b.length;g++)f=a.currentTarget=b[g],e=Rc(f,d,!1,a)&&e;return e};
k.g=function(){U.J.g.call(this);if(this.ia){var a=this.ia,b=0,c;for(c in a.I){for(var d=a.I[c],e=0;e<d.length;e++)++b,bc(d[e]);delete a.I[c];a.Bc--}}this.ve=null};function Rc(a,b,c,d){b=a.ia.I[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Gb&&g.Ob==c){var h=g.ab,m=g.Rc||g.src;g.Ec&&ec(a.ia,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.cg}k.Zd=function(a,b,c,d){return this.ia.Zd(String(a),b,c,d)};k.ub=function(a,b){return this.ia.ub(s(a)?String(a):void 0,b)};function Sc(a){U.call(this);this.Cc=a||window;this.bd=O(this.Cc,"resize",this.vh,!1,this);this.Ib=Ic(this.Cc||window)}D(Sc,U);k=Sc.prototype;k.bd=null;k.Cc=null;k.Ib=null;k.ka=function(){return this.Ib?this.Ib.clone():null};k.g=function(){Sc.J.g.call(this);this.bd&&(Q(this.bd),this.bd=null);this.Ib=this.Cc=null};k.vh=function(){var a=Ic(this.Cc||window),b=this.Ib;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.Ib=a,this.dispatchEvent("resize"))};function Tc(a,b,c,d,e){if(!(K||L&&M("525")))return!0;if(vb&&e)return Uc(a);if(e&&!d)return!1;ga(b)&&(b=Vc(b));if(!c&&(17==b||18==b||vb&&91==b))return!1;if(L&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(K&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!L}return Uc(a)}
function Uc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||L&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Vc(a){if(yb)a=Wc(a);else if(vb&&L)a:switch(a){case 93:a=91;break a}return a}
function Wc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Xc(a,b){U.call(this);a&&Yc(this,a,b)}D(Xc,U);k=Xc.prototype;k.P=null;k.Xc=null;k.je=null;k.Yc=null;k.S=-1;k.Ka=-1;k.Bd=!1;
var Zc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},$c={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ad=K||L&&M("525"),bd=vb&&yb;k=Xc.prototype;
k.hh=function(a){L&&(17==this.S&&!a.ctrlKey||18==this.S&&!a.altKey||vb&&91==this.S&&!a.metaKey)&&(this.Ka=this.S=-1);-1==this.S&&(a.ctrlKey&&17!=a.keyCode?this.S=17:a.altKey&&18!=a.keyCode?this.S=18:a.metaKey&&91!=a.keyCode&&(this.S=91));ad&&!Tc(a.keyCode,this.S,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Ka=Vc(a.keyCode),bd&&(this.Bd=a.altKey))};k.ih=function(a){this.Ka=this.S=-1;this.Bd=a.altKey};
k.handleEvent=function(a){var b=a.f,c,d,e=b.altKey;K&&"keypress"==a.type?(c=this.Ka,d=13!=c&&27!=c?b.keyCode:0):L&&"keypress"==a.type?(c=this.Ka,d=0<=b.charCode&&63232>b.charCode&&Uc(c)?b.charCode:0):xb?(c=this.Ka,d=Uc(c)?b.keyCode:0):(c=b.keyCode||this.Ka,d=b.charCode||0,bd&&(e=this.Bd),vb&&63==d&&224==c&&(c=191));var f=c=Vc(c),g=b.keyIdentifier;c?63232<=c&&c in Zc?f=Zc[c]:25==c&&a.shiftKey&&(f=9):g&&g in $c&&(f=$c[g]);a=f==this.S;this.S=f;b=new ed(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function Yc(a,b,c){a.Yc&&a.detach();a.P=b;a.Xc=O(a.P,"keypress",a,c);a.je=O(a.P,"keydown",a.hh,c,a);a.Yc=O(a.P,"keyup",a.ih,c,a)}k.detach=function(){this.Xc&&(Q(this.Xc),Q(this.je),Q(this.Yc),this.Yc=this.je=this.Xc=null);this.P=null;this.Ka=this.S=-1};k.g=function(){Xc.J.g.call(this);this.detach()};function ed(a,b,c,d){Vb.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(ed,Vb);function fd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=fd.prototype;k.Ja=function(){return this.right-this.left};k.Oc=function(){return this.bottom-this.top};k.clone=function(){return new fd(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof fd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){ia(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof R?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ga(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=ga(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function gd(a,b){var c=Ec(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function hd(a,b){return gd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function id(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}K&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function jd(a){if(K&&!(K&&8<=Gb))return a.offsetParent;var b=Ec(a),c=hd(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=hd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function kd(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=id(a),b=new R(b.left,b.top);else{b=Qc(Cc(a));var c,d=Ec(a),e=hd(a,"position"),f=yb&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new R(0,0),h;c=d?Ec(d):document;(h=!K||K&&9<=Gb)||(h=Cc(c),h=Jc(h.Ub));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=id(a),d=Qc(Cc(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{f=a;do{g.x+=f.offsetLeft;g.y+=f.offsetTop;f!=a&&(g.x+=f.clientLeft||0,g.y+=f.clientTop||0);if(L&&"fixed"==hd(f,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(xb||L&&"absolute"==e)g.y-=d.body.offsetTop;for(f=a;(f=jd(f))&&f!=d.body&&f!=h;)g.x-=f.scrollLeft,xb&&"TR"==f.tagName||(g.y-=f.scrollTop)}b=new R(g.x-b.x,g.y-b.y)}if(yb&&!M(12)){b:{g=Da();if(void 0===a.style[g]&&(g=(L?
"Webkit":yb?"Moz":K?"ms":xb?"O":null)+Ea(g),void 0!==a.style[g])){g=(L?"-webkit":yb?"-moz":K?"-ms":xb?"-o":null)+"-transform";break b}g="transform"}a=(a=hd(a,g)||hd(a,"transform"))?(a=a.match(ld))?new R(parseFloat(a[1]),parseFloat(a[2])):new R(0,0):new R(0,0);a=new R(b.x+a.x,b.y+a.y)}else a=b;return a}b=ha(a.Zg);g=a;a.targetTouches&&a.targetTouches.length?g=a.targetTouches[0]:b&&a.f.targetTouches&&a.f.targetTouches.length&&(g=a.f.targetTouches[0]);return new R(g.clientX,g.clientY)}
function md(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity\x3d"+100*b+")")}function nd(a,b){a.style.display=b?"":"none"}function od(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function pd(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?od(a,c,"left","pixelLeft"):0}var qd={thin:2,medium:4,thick:6};function rd(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in qd?qd[c]:od(a,c,"left","pixelLeft")}var ld=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function sd(a,b){U.call(this);var c=this.P=a,c=ia(c)&&1==c.nodeType?this.P:this.P?this.P.body:null;this.Mh=!!c&&"rtl"==hd(c,"direction");this.Ef=O(this.P,yb?"DOMMouseScroll":"mousewheel",this,b)}D(sd,U);
sd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.f;if("mousewheel"==a.type){c=1;if(K||L&&(wb||M("532.0")))c=40;d=td(-a.wheelDelta,c);s(a.wheelDeltaX)?(b=td(-a.wheelDeltaX,c),c=td(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),s(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ga(this.Ff)&&(b=mb(b,-this.Ff,this.Ff));ga(this.Gf)&&(c=mb(c,-this.Gf,this.Gf));this.Mh&&(b=-b);b=new ud(d,a,b,c);this.dispatchEvent(b)};function td(a,b){return L&&(vb||Bb)&&0!=a%b?a:a/b}
sd.prototype.g=function(){sd.J.g.call(this);Q(this.Ef);this.Ef=null};function ud(a,b,c,d){Vb.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}D(ud,Vb);function vd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}vd.prototype.BYTES_PER_ELEMENT=4;vd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};vd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(vd.BYTES_PER_ELEMENT=4,vd.prototype.BYTES_PER_ELEMENT=vd.prototype.BYTES_PER_ELEMENT,vd.prototype.set=vd.prototype.set,vd.prototype.toString=vd.prototype.toString,pa("Float32Array",vd));function wd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}wd.prototype.BYTES_PER_ELEMENT=8;wd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};wd.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{wd.BYTES_PER_ELEMENT=8}catch(xd){}wd.prototype.BYTES_PER_ELEMENT=wd.prototype.BYTES_PER_ELEMENT;wd.prototype.set=wd.prototype.set;wd.prototype.toString=wd.prototype.toString;pa("Float64Array",wd)};function yd(){var a=Array(16);zd(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function zd(a,b,c,d,e,f,g,h,m,n,p,q,r,t,u,y,x){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=r;a[12]=t;a[13]=u;a[14]=y;a[15]=x}function Ad(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);
new Float64Array(16);function Bd(){U.call(this);this.Da=0}D(Bd,U);Bd.prototype.V=function(){++this.Da;this.dispatchEvent("change")};function Cd(a,b){N.call(this,a);this.key=b}D(Cd,N);function V(a){Bd.call(this);w(this);this.Kb={};this.Ad={};s(a)&&this.sc(a)}D(V,Bd);var Dd={},Ed={},Fd={};function Gd(a){return Dd.hasOwnProperty(a)?Dd[a]:Dd[a]="change:"+a.toLowerCase()}
V.prototype.get=function(a){var b,c=this.Ad;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.cj,d=Ed.hasOwnProperty(c)?Ed[c]:Ed[c]="get"+(c.substr(0,1).toUpperCase()+c.substr(1)),d=I(b,d);b=s(d)?d.call(b):b.get(c);b=a.ok(b)}else this.Kb.hasOwnProperty(a)&&(b=this.Kb[a]);return b};V.prototype.Ya=function(){var a=this.Ad,b;if(ab(this.Kb)){if(ab(a))return[];b=a}else if(ab(a))b=this.Kb;else{b={};for(var c in this.Kb)b[c]=!0;for(c in a)b[c]=!0}return Za(b)};
V.prototype.set=function(a,b){this.dispatchEvent(new Cd("beforepropertychange",a));var c=this.Ad;if(c.hasOwnProperty(a)){var d=c[a],c=d.target,e=d.cj;b=d.Xj(b);d=Fd.hasOwnProperty(e)?Fd[e]:Fd[e]="set"+(e.substr(0,1).toUpperCase()+e.substr(1));d=I(c,d);s(d)?d.call(c,b):c.set(e,b)}else this.Kb[a]=b,c=Gd(a),this.dispatchEvent(c),this.dispatchEvent(new Cd("propertychange",a))};V.prototype.sc=function(a){for(var b in a)this.set(b,a[b])};function Hd(a,b,c){N.call(this,a,c);this.element=b}D(Hd,N);function Id(a){V.call(this);this.da=a||[];Jd(this)}D(Id,V);k=Id.prototype;k.clear=function(){for(;0<this.get("length");)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){H(this.da,a,b)};k.item=function(a){return this.da[a]};k.pop=function(){return Kd(this,this.get("length")-1)};
k.push=function(a){var b=this.da.length;Pa(this.da,b,0,a);Jd(this);this.dispatchEvent(new Hd("add",a,this));return b};k.remove=function(a){var b=this.da,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return Kd(this,c)};function Kd(a,b){var c=a.da[b];Fa.splice.call(a.da,b,1);Jd(a);a.dispatchEvent(new Hd("remove",c,a));return c}function Jd(a){a.set("length",a.da.length)};var Ld=K&&!M("9.0")&&""!==Db;function Md(a,b){a[0]+=b[0];a[1]+=b[1]}function Nd(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function Od(a,b,c){N.call(this,a);this.map=b;this.frameState=s(c)?c:null}D(Od,N);function Pd(a,b,c){N.call(this,a);this.A=b;a=s(c)?c:{};this.buttons=Qd(a);this.pressure=Rd(a,this.buttons);this.bubbles=I(a,"bubbles",!1);this.cancelable=I(a,"cancelable",!1);this.view=I(a,"view",null);this.detail=I(a,"detail",null);this.screenX=I(a,"screenX",0);this.screenY=I(a,"screenY",0);this.clientX=I(a,"clientX",0);this.clientY=I(a,"clientY",0);this.ctrlKey=I(a,"ctrlKey",!1);this.altKey=I(a,"altKey",!1);this.shiftKey=I(a,"shiftKey",!1);this.metaKey=I(a,"metaKey",!1);this.button=I(a,"button",
0);this.relatedTarget=I(a,"relatedTarget",null);this.pointerId=I(a,"pointerId",0);this.width=I(a,"width",0);this.height=I(a,"height",0);this.tiltX=I(a,"tiltX",0);this.tiltY=I(a,"tiltY",0);this.pointerType=I(a,"pointerType","");this.hwTimestamp=I(a,"hwTimestamp",0);this.isPrimary=I(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}D(Pd,N);
function Qd(a){if(a.buttons||Sd)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Rd(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var Sd=!1;try{Sd=1===(new MouseEvent("click",{buttons:1})).buttons}catch(Td){};function Ud(a,b){var c=document.createElement("CANVAS");s(a)&&(c.width=a);s(b)&&(c.height=b);return c.getContext("2d")}
var Vd=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Oc(b);a=c&&"none"!==c}else a=!1;return a}}(),Wd=function(){var a;return function(){if(!s(a))if(l.getComputedStyle){var b=
document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Oc(b);a=c&&"none"!==c}else a=!1;return a}}();
function Xd(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Dj=b;c.msTransform=b;c.transform=b;K&&!Ld&&(a.style.transformOrigin="0 0")};var Yd=l.devicePixelRatio||1,Zd=!1,$d=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=Ud();if(null===a)return!1;s(a.setLineDash)&&(Zd=!0);return!0}catch(b){return!1}}(),ae="ontouchstart"in l,be="PointerEvent"in l,ce=!!l.navigator.msPointerEnabled;function de(a,b){this.d=a;this.ed=b};function ee(a){de.call(this,a,{mousedown:this.bi,mousemove:this.ci,mouseup:this.fi,mouseover:this.ei,mouseout:this.di});this.l=a.l;this.Bf=[]}D(ee,de);function fe(a,b){for(var c=a.Bf,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}function ge(a){var b=he(a,a.f),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=ee.prototype;
k.bi=function(a){if(!fe(this,a)){(1).toString()in this.l&&this.cancel(a);var b=ge(a);this.l[(1).toString()]=a;this.d.fireEvent(ie,b,a)}};k.ci=function(a){if(!fe(this,a)){var b=ge(a);this.d.move(b,a)}};k.fi=function(a){if(!fe(this,a)){var b=I(this.l,(1).toString());b&&b.button===a.button&&(b=ge(a),this.d.fireEvent(je,b,a),bb(this.l,(1).toString()))}};k.ei=function(a){if(!fe(this,a)){var b=ge(a);ke(this.d,b,a)}};k.di=function(a){if(!fe(this,a)){var b=ge(a);le(this.d,b,a)}};
k.cancel=function(a){var b=ge(a);this.d.cancel(b,a);bb(this.l,(1).toString())};function me(a){de.call(this,a,{MSPointerDown:this.ki,MSPointerMove:this.li,MSPointerUp:this.oi,MSPointerOut:this.mi,MSPointerOver:this.ni,MSPointerCancel:this.ji,MSGotPointerCapture:this.hi,MSLostPointerCapture:this.ii});this.l=a.l;this.xg=["","unavailable","touch","pen","mouse"]}D(me,de);function ne(a,b){var c=b;ga(b.f.pointerType)&&(c=he(b,b.f),c.pointerType=a.xg[b.f.pointerType]);return c}k=me.prototype;k.ki=function(a){this.l[a.f.pointerId]=a;var b=ne(this,a);this.d.fireEvent(ie,b,a)};
k.li=function(a){var b=ne(this,a);this.d.move(b,a)};k.oi=function(a){var b=ne(this,a);this.d.fireEvent(je,b,a);bb(this.l,a.f.pointerId)};k.mi=function(a){var b=ne(this,a);le(this.d,b,a)};k.ni=function(a){var b=ne(this,a);ke(this.d,b,a)};k.ji=function(a){var b=ne(this,a);this.d.cancel(b,a);bb(this.l,a.f.pointerId)};k.ii=function(a){this.d.dispatchEvent(new Pd("lostpointercapture",a,a.f))};k.hi=function(a){this.d.dispatchEvent(new Pd("gotpointercapture",a,a.f))};function oe(a){de.call(this,a,{pointerdown:this.Ai,pointermove:this.Bi,pointerup:this.Ei,pointerout:this.Ci,pointerover:this.Di,pointercancel:this.zi,gotpointercapture:this.dh,lostpointercapture:this.Uh})}D(oe,de);k=oe.prototype;k.Ai=function(a){pe(this.d,a)};k.Bi=function(a){pe(this.d,a)};k.Ei=function(a){pe(this.d,a)};k.Ci=function(a){pe(this.d,a)};k.Di=function(a){pe(this.d,a)};k.zi=function(a){pe(this.d,a)};k.Uh=function(a){pe(this.d,a)};k.dh=function(a){pe(this.d,a)};function qe(a,b){de.call(this,a,{touchstart:this.oj,touchmove:this.nj,touchend:this.mj,touchcancel:this.lj});this.l=a.l;this.ai=b;this.Xb=void 0;this.Id=0;this.pc=void 0}D(qe,de);k=qe.prototype;k.$f=function(){this.Id=0;this.pc=void 0};
function re(a,b,c){b=he(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Id;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.Xb===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function se(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.f.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=re(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.oj=function(a){var b=a.f.touches,c=Za(this.l),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.l[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.cb)}for(f=0;f<e.length;++f)this.Fd(a,e[f])}b=Xa(this.l);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.l;c=b}c&&(this.Xb=a.f.changedTouches[0].identifier,s(this.pc)&&l.clearTimeout(this.pc));te(this,a);this.Id++;se(this,a,this.si)};
k.si=function(a,b){this.l[b.pointerId]={target:b.target,cb:b,Pf:b.target};var c=this.d;b.bubbles=!0;c.fireEvent(ue,b,a);c=this.d;b.bubbles=!1;c.fireEvent(ve,b,a);this.d.fireEvent(ie,b,a)};k.nj=function(a){a.preventDefault();se(this,a,this.gi)};
k.gi=function(a,b){var c=I(this.l,b.pointerId);if(c){var d=c.cb,e=c.Pf;this.d.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(le(this.d,d,a),ke(this.d,b,a)):(b.target=e,b.relatedTarget=null,this.Fd(a,b)));c.cb=b;c.Pf=b.target}};k.mj=function(a){te(this,a);se(this,a,this.pj)};
k.pj=function(a,b){this.d.fireEvent(je,b,a);this.d.cb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(we,b,a);bb(this.l,b.pointerId);b.isPrimary&&(this.Xb=void 0,this.pc=l.setTimeout(B(this.$f,this),200))};k.lj=function(a){se(this,a,this.Fd)};k.Fd=function(a,b){this.d.cancel(b,a);this.d.cb(b,a);var c=this.d;b.bubbles=!1;c.fireEvent(we,b,a);bb(this.l,b.pointerId);b.isPrimary&&(this.Xb=void 0,this.pc=l.setTimeout(B(this.$f,this),200))};
function te(a,b){var c=a.ai.Bf,d=b.f.changedTouches[0];if(a.Xb===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Na(c,e)},2500)}};function xe(a){U.call(this);this.P=a;this.l={};this.Ze={};this.Wb=[];be?ye(this,new oe(this)):ce?ye(this,new me(this)):(a=new ee(this),ye(this,a),ae&&ye(this,new qe(this,a)));a=this.Wb.length;for(var b,c=0;c<a;c++)b=this.Wb[c],ze(this,Za(b.ed))}D(xe,U);function ye(a,b){var c=Za(b.ed);c&&(H(c,function(a){var c=b.ed[a];c&&(this.Ze[a]=B(c,b))},a),a.Wb.push(b))}k=xe.prototype;k.Ye=function(a){var b=this.Ze[a.type];b&&b(a)};function ze(a,b){H(b,function(a){O(this.P,a,this.Ye,!1,this)},a)}
function Ae(a,b){H(b,function(a){pc(this.P,a,this.Ye,!1,this)},a)}function he(a,b){for(var c={},d,e=0,f=Ce.length;e<f;e++)d=Ce[e][0],c[d]=a[d]||b[d]||Ce[e][1];return c}k.move=function(a,b){this.fireEvent(De,a,b)};k.cb=function(a,b){a.bubbles=!0;this.fireEvent(Ee,a,b)};k.cancel=function(a,b){this.fireEvent(Fe,a,b)};function le(a,b,c){a.cb(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(we,b,c))}
function ke(a,b,c){b.bubbles=!0;a.fireEvent(ue,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(ve,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new Pd(a,c,b))};function pe(a,b){a.dispatchEvent(new Pd(b.type,b,b.f))}k.g=function(){for(var a=this.Wb.length,b,c=0;c<a;c++)b=this.Wb[c],Ae(this,Za(b.ed));xe.J.g.call(this)};
var De="pointermove",ie="pointerdown",je="pointerup",ue="pointerover",Ee="pointerout",ve="pointerenter",we="pointerleave",Fe="pointercancel",Ce=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function Ge(a,b,c,d){Od.call(this,a,b,d);this.A=c;this.originalEvent=c.f;c=this.originalEvent;s(c.changedTouches)?(a=c.changedTouches[0],c=kd(b.t),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.t,c=kd(c),a=kd(a),a=new R(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.Yb(this.pixel)}D(Ge,Od);Ge.prototype.preventDefault=function(){Ge.J.preventDefault.call(this);this.A.preventDefault()};Ge.prototype.stopPropagation=function(){Ge.J.stopPropagation.call(this);this.A.stopPropagation()};
function He(a,b,c,d){Ge.call(this,a,b,c.A,d);this.eb=c}D(He,Ge);function Ie(a){U.call(this);this.a=a;this.Pb=0;this.Rd=!1;this.Kc=this.kd=this.Wa=null;a=this.a.t;this.Ne=0;this.Je={};this.Eb=new xe(a);this.Ha=null;this.kd=O(this.Eb,ie,this.rh,!1,this);this.ye=O(this.Eb,De,this.Fi,!1,this)}D(Ie,U);
function Je(a,b){var c;c=new He(Ke,a.a,b);a.dispatchEvent(c);0!==a.Pb?(l.clearTimeout(a.Pb),a.Pb=0,c=new He(Le,a.a,b),a.dispatchEvent(c)):a.Pb=l.setTimeout(B(function(){this.Pb=0;var a=new He(Me,this.a,b);this.dispatchEvent(a)},a),250)}function Ne(a,b){b.type==Oe||b.type==Pe?delete a.Je[b.pointerId]:b.type==Qe&&(a.Je[b.pointerId]=!0);a.Ne=Xa(a.Je)}k=Ie.prototype;
k.ua=function(a){Ne(this,a);var b=new He(Oe,this.a,a);this.dispatchEvent(b);0===this.Ne&&(H(this.Wa,Q),this.Wa=null,Ob(this.Ha),this.Ha=null);!this.Rd&&0===a.button&&Je(this,this.Kc)};k.rh=function(a){Ne(this,a);var b=new He(Qe,this.a,a);this.dispatchEvent(b);this.Kc=a;this.Rd=!1;null===this.Wa&&(this.Ha=new xe(document),this.Wa=[O(this.Ha,Re,this.sh,!1,this),O(this.Ha,Oe,this.ua,!1,this),O(this.Eb,Pe,this.ua,!1,this)]);a.preventDefault()};
k.sh=function(a){if(a.clientX!=this.Kc.clientX||a.clientY!=this.Kc.clientY){this.Rd=!0;var b=new He(Se,this.a,a);this.dispatchEvent(b)}a.preventDefault()};k.Fi=function(a){this.dispatchEvent(new He(a.type,this.a,a))};k.g=function(){null!==this.ye&&(Q(this.ye),this.ye=null);null!==this.kd&&(Q(this.kd),this.kd=null);null!==this.Wa&&(H(this.Wa,Q),this.Wa=null);null!==this.Ha&&(Ob(this.Ha),this.Ha=null);null!==this.Eb&&(Ob(this.Eb),this.Eb=null);Ie.J.g.call(this)};
var Me="singleclick",Ke="click",Le="dblclick",Se="pointerdrag",Re="pointermove",Qe="pointerdown",Oe="pointerup",Pe="pointercancel",Te={Nj:Me,Bj:Ke,Cj:Le,Gj:Se,Jj:Re,Fj:Qe,Mj:Oe,Lj:"pointerover",Kj:"pointerout",Hj:"pointerenter",Ij:"pointerleave",Ej:Pe};function Ue(a,b,c){return a+"/"+b+"/"+c}function Ve(a){return Ue(a[0],a[1],a[2])};function We(a,b,c,d){this.k=a;this.F=b;this.v=c;this.s=d}function Xe(a,b,c,d,e){return s(e)?(e.k=a,e.F=b,e.v=c,e.s=d,e):new We(a,b,c,d)}k=We.prototype;k.contains=function(a){return this.Ic(a[1],a[2])};function Ye(a,b){return a.k<=b.k&&b.F<=a.F&&a.v<=b.v&&b.s<=a.s}k.Ic=function(a,b){return this.k<=a&&a<=this.F&&this.v<=b&&b<=this.s};k.extend=function(a){a.k<this.k&&(this.k=a.k);a.F>this.F&&(this.F=a.F);a.v<this.v&&(this.v=a.v);a.s>this.s&&(this.s=a.s)};k.Oc=function(){return this.s-this.v+1};
k.ka=function(){return[this.Ja(),this.Oc()]};k.Ja=function(){return this.F-this.k+1};function Ze(a,b,c,d,e){return s(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function $e(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function af(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=bf(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function cf(a,b,c,d){var e=b*d[0]/2,f=b*d[1]/2;b=Math.cos(c);d=Math.sin(c);e=[-e,-e,e,e];c=[-f,f,-f,f];for(var g,h,f=0;4>f;++f)g=e[f],h=c[f],e[f]=a[0]+g*b-h*d,c[f]=a[1]+g*d+h*b;a=Math.min.apply(null,e);b=Math.min.apply(null,c);e=Math.max.apply(null,e);c=Math.max.apply(null,c);return Ze(a,b,e,c,void 0)}
function df(a,b){var c=s(void 0)?void 0:[Infinity,Infinity,-Infinity,-Infinity];ef(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function bf(a){return[a[0],a[3]]}function ef(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function ff(a){this.Uf=a}ff.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.Uf;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var gf={};gf.degrees=2*Math.PI*(new ff(6370997)).Uf/360;gf.ft=.3048;gf.m=1;function hf(a){this.Qb=a.code;this.sg=a.units;this.Ia=s(a.b)?a.b:null;this.We=null}hf.prototype.M=function(){return this.Ia};hf.prototype.eg=function(a){this.Ia=a};var jf={},kf={};function lf(a){mf(a);H(a,function(b){H(a,function(a){b!==a&&nf(b,a,of)})})}function pf(a){jf[a.Qb]=a;nf(a,a,of)}function mf(a){var b=[];H(a,function(a){b.push(pf(a))})}function qf(a){return null!=a?v(a)?rf(a):a:rf("EPSG:3857")}
function nf(a,b,c){a=a.Qb;b=b.Qb;a in kf||(kf[a]={});kf[a][b]=c}function rf(a){return a instanceof hf?a:v(a)?jf[a]:null}function sf(a,b){if(s(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function of(a,b){var c;if(s(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function tf(a){Bd.call(this);this.Tf=rf(a.projection);this.Eg=s(a.Ta)?a.Ta:null;this.Sh=a.za;this.aj=s(a.state)?a.state:"ready"}D(tf,Bd);tf.prototype.q=function(){return this.aj};function W(a){V.call(this);a=cb(a);a.jb=s(a.jb)?a.jb:0;a.lb=s(a.lb)?a.lb:1;a.vb=s(a.vb)?a.vb:0;a.opacity=s(a.opacity)?a.opacity:1;a.Hb=s(a.Hb)?a.Hb:1;a.visible=s(a.visible)?a.visible:!0;a.Aa=s(a.Aa)?a.Aa:Infinity;a.Ma=s(a.Ma)?a.Ma:0;this.sc(a)}D(W,V);W.prototype.ef=function(){return this.get("brightness")};W.prototype.getBrightness=W.prototype.ef;W.prototype.ff=function(){return this.get("contrast")};W.prototype.getContrast=W.prototype.ff;W.prototype.gf=function(){return this.get("hue")};
W.prototype.getHue=W.prototype.gf;function uf(a){var b=a.ef(),c=a.ff(),d=a.gf(),e=a.kf(),f=a.lf(),g=a.mf(),h=a.de(),m=a.M(),n=a.hf(),p=a.jf();return{ad:a,jb:s(b)?mb(b,-1,1):0,lb:s(c)?Math.max(c,0):1,vb:s(d)?d:0,opacity:s(e)?mb(e,0,1):1,Hb:s(f)?Math.max(f,0):1,hg:g,visible:s(h)?!!h:!0,b:m,Aa:s(n)?n:Infinity,Ma:s(p)?Math.max(p,0):0}}W.prototype.M=function(){return this.get("extent")};W.prototype.getExtent=W.prototype.M;W.prototype.hf=function(){return this.get("maxResolution")};
W.prototype.getMaxResolution=W.prototype.hf;W.prototype.jf=function(){return this.get("minResolution")};W.prototype.getMinResolution=W.prototype.jf;W.prototype.kf=function(){return this.get("opacity")};W.prototype.getOpacity=W.prototype.kf;W.prototype.lf=function(){return this.get("saturation")};W.prototype.getSaturation=W.prototype.lf;W.prototype.de=function(){return this.get("visible")};W.prototype.getVisible=W.prototype.de;W.prototype.Ki=function(a){this.set("brightness",a)};
W.prototype.setBrightness=W.prototype.Ki;W.prototype.Li=function(a){this.set("contrast",a)};W.prototype.setContrast=W.prototype.Li;W.prototype.Ni=function(a){this.set("hue",a)};W.prototype.setHue=W.prototype.Ni;W.prototype.eg=function(a){this.set("extent",a)};W.prototype.setExtent=W.prototype.eg;W.prototype.Pi=function(a){this.set("maxResolution",a)};W.prototype.setMaxResolution=W.prototype.Pi;W.prototype.Qi=function(a){this.set("minResolution",a)};W.prototype.setMinResolution=W.prototype.Qi;
W.prototype.Ri=function(a){this.set("opacity",a)};W.prototype.setOpacity=W.prototype.Ri;W.prototype.Ti=function(a){this.set("saturation",a)};W.prototype.setSaturation=W.prototype.Ti;W.prototype.Yi=function(a){this.set("visible",a)};W.prototype.setVisible=W.prototype.Yi;function vf(a){var b=cb(a);delete b.source;W.call(this,b);this.uc=a.source;O(this.uc,"change",this.xh,!1,this)}D(vf,W);vf.prototype.Yd=function(a){a=s(a)?a:[];a.push(uf(this));return a};vf.prototype.mf=function(){return this.uc.q()};vf.prototype.xh=function(){this.V()};function wf(a,b){U.call(this);this.n=a;this.state=b}D(wf,U);wf.prototype.V=function(){this.dispatchEvent("change")};wf.prototype.getKey=function(){return w(this).toString()};wf.prototype.q=function(){return this.state};function xf(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function yf(a){this.Ba=s(a.Ba)?a.Ba:0;this.qc=a.hb;this.Cb=this.qc.length-1;this.gd=s(a.origin)?a.origin:null;this.Of=null;s(a.ri)&&(this.Of=a.ri);this.He=null;s(a.kj)&&(this.He=a.kj);this.pg=s(a.Pa)?a.Pa:null===this.He?256:void 0}var zf=[0,0,0];yf.prototype.Vd=function(a,b,c,d,e){e=Af(this,a,e);for(a=a[0]-1;a>=this.Ba;){if(b.call(c,a,Bf(this,e,a,d)))return!0;--a}return!1};yf.prototype.$b=function(a){return null===this.gd?this.Of[a]:this.gd};yf.prototype.p=function(a){return this.qc[a]};
yf.prototype.ae=function(a,b,c){return a[0]<this.Cb?(c=Af(this,a,c),Bf(this,c,a[0]+1,b)):null};function Cf(a,b,c,d){Df(a,b[0],b[1],c,!1,zf);var e=zf[1],f=zf[2];Df(a,b[2],b[3],c,!0,zf);return Xe(e,zf[1],f,zf[2],d)}function Bf(a,b,c,d){c=a.p(c);return Cf(a,b,c,d)}function Af(a,b,c){var d=a.$b(b[0]),e=a.p(b[0]);a=Ef(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return Ze(f,b,f+a*e,b+a*e,c)}
function Df(a,b,c,d,e,f){var g=xf(a.qc,d,0),h=d/a.p(g),m=a.$b(g);a=Ef(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;s(f)?(f[0]=g,f[1]=e,f[2]=c):f=[g,e,c];return f}function Ff(a,b,c){c=a.p(c);return Df(a,b[0],b[1],c,!1,void 0)}function Ef(a,b){return s(a.pg)?a.pg:a.He[b]}function Gf(a,b,c){b=s(b)?b:42;c=s(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c};function Hf(a){tf.call(this,{Ta:a.Ta,b:a.b,za:a.za,projection:a.projection,state:a.state});this.qi=s(a.re)?a.re:!1;this.ij=s(a.Ge)?a.Ge:1;this.ib=s(a.ib)?a.ib:null}D(Hf,tf);Hf.prototype.Nb=ib;Hf.prototype.bf=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.k;h<=d.F;++h)for(m=d.v;m<=d.s;++m)g=this.Xd(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};Hf.prototype.Xd=Ue;
function If(a,b){var c;if(null===a.ib){if(c=b.We,null===c){c=rf(b);var d=c.M();null===d&&(c=180*gf.degrees/gf[c.sg],d=Ze(-c,-c,c,c));c=d;var d=s(void 0)?void 0:256,e=s(void 0)?void 0:"bottom-left",f=Gf(c,void 0,d);c=new yf({origin:af(c,e),hb:f,Pa:d});b.We=c}}else c=a.ib;return c}function Jf(a,b,c){return Ef(If(a,c),b)*a.ij}Hf.prototype.ug=ca;function Kf(a,b){Kb.call(this);this.Wh=a;this.qe=b}D(Kf,Kb);Kf.prototype.sa=function(){return this.Wh.sa()};function Lf(a,b){b.Nb()&&a.lc.push(na(function(a,b,e){b=w(a).toString();a.Td(e.wd[b])},b))}function Mf(a,b){var c=b.Sh;s(c)&&(v(c)?a.Bb[c]="":ia(c)&&(a.Bb[c.src]=c.href))}function Nf(a,b,c,d){b=w(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function Of(a,b,c,d){return function(e,f,g){e=Pf(b,e,f,g,c,d);return a(e)?e:null}}
function Qf(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function Rf(a,b,c,d,e,f,g,h){var m=w(b).toString();m in a.Lb||(a.Lb[m]={});var n=a.Lb[m];a=a.jj;var p=c.Ba,q,r,t,u,y,x;s(h)||(h=0);for(x=g;x>=p;--x)for(r=Bf(c,f,x,r),t=c.p(x),u=r.k;u<=r.F;++u)for(y=r.v;y<=r.s;++y)if(g-x<=h){q=Pf(b,x,u,y,d,e);if(0==q.q()&&(n[Ve(q.n)]=!0,!(q.getKey()in a.mc))){var G=q,C=c,z=q.n,E=C.$b(z[0]),A=C.p(z[0]),J=Ef(C,z[0]),C=a,G=[G,m,[E[0]+(z[1]+.5)*J*A,E[1]+(z[2]+.5)*J*A],t],z=C.Sf(G);Infinity!=z&&(C.ha.push(G),C.Fb.push(z),C.mc[C.ke(G)]=!0,Sf(C,0,C.ha.length-1))}s(void 0)&&
(void 0).call(void 0,q)}else b.ug(x,u,y)};function Tf(){this.Ua={};this.Dc=0;this.Xh=32}Tf.ah=function(){return Tf.xf?Tf.xf:Tf.xf=new Tf};Tf.prototype.clear=function(){this.Ua={};this.Dc=0};Tf.prototype.get=function(a,b){var c=b+":"+a;return c in this.Ua?this.Ua[c]:null};Tf.prototype.set=function(a,b,c){this.Ua[b+":"+a]=c;++this.Dc};function Uf(a,b,c,d,e,f,g,h){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;0===b&&0===c||Ad(a,b,c);1==d&&1==e||zd(a,a[0]*d,a[1]*d,a[2]*d,a[3]*d,a[4]*e,a[5]*e,a[6]*e,a[7]*e,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15]);if(0!==f){b=a[0];c=a[1];d=a[2];e=a[3];var m=a[4],n=a[5],p=a[6],q=a[7],r=Math.cos(f);f=Math.sin(f);a[0]=b*r+m*f;a[1]=c*r+n*f;a[2]=d*r+p*f;a[3]=e*r+q*f;a[4]=b*-f+m*r;a[5]=c*-f+n*r;a[6]=d*-f+p*r;a[7]=e*-f+
q*r}0===g&&0===h||Ad(a,g,h);return a}function Vf(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function Wf(a,b){Kb.call(this);this.a=b;this.ma={}}D(Wf,Kb);
function Xf(a){var b=a.i,c=a.Ve;Uf(c,a.size[0]/2,a.size[1]/2,1/b.e,-1/b.e,-b.rotation,-b.center[0],-b.center[1]);a=a.Qf;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],r=c[10],t=c[11],u=c[12],y=c[13],x=c[14],c=c[15],G=b*h-d*g,C=b*m-e*g,z=b*n-f*g,E=d*m-e*h,A=d*n-f*h,J=e*n-f*m,xa=p*y-q*u,ya=p*x-r*u,Ga=p*c-t*u,aa=q*x-r*y,F=q*c-t*y,T=r*c-t*x,P=G*T-C*F+z*aa+E*Ga-A*ya+J*xa;0!=P&&(P=1/P,a[0]=(h*T-m*F+n*aa)*P,a[1]=(-d*T+e*F-f*aa)*P,a[2]=(y*J-x*A+c*E)*P,a[3]=(-q*J+r*A-t*E)*P,a[4]=
(-g*T+m*Ga-n*ya)*P,a[5]=(b*T-e*Ga+f*ya)*P,a[6]=(-u*J+x*z-c*C)*P,a[7]=(p*J-r*z+t*C)*P,a[8]=(g*F-h*Ga+n*xa)*P,a[9]=(-b*F+d*Ga-f*xa)*P,a[10]=(u*A-y*z+c*G)*P,a[11]=(-p*A+q*z-t*G)*P,a[12]=(-g*aa+h*ya-m*xa)*P,a[13]=(b*aa-d*ya+e*xa)*P,a[14]=(-u*E+y*C-x*G)*P,a[15]=(p*E-q*C+r*G)*P)}k=Wf.prototype;k.Nd=function(a){return new Kf(this,a)};k.g=function(){Va(this.ma,Ob);Wf.J.g.call(this)};
function Yf(){var a=Tf.ah();if(a.Dc>a.Xh){var b=0,c,d;for(c in a.Ua){d=a.Ua[c];var e;if(e=0===(b++&3))Zb(d)?d=d.ub(void 0,void 0):(d=kc(d),d=!!d&&d.ub(void 0,void 0)),e=!d;e&&(delete a.Ua[c],--a.Dc)}}}function Zf(a,b){var c=w(b).toString();if(c in a.ma)return a.ma[c];var d=a.Nd(b);return a.ma[c]=d}k.sa=function(){return this.a};k.ze=ca;k.Gi=function(a,b){for(var c in this.ma)if(!(null!==b&&c in b.oe)){var d=this.ma[c];delete this.ma[c];Ob(d)}};
function $f(a,b){for(var c in a.ma)if(!(c in b.oe)){b.lc.push(B(a.Gi,a));break}};function ag(a,b){this.Sf=a;this.ke=b;this.ha=[];this.Fb=[];this.mc={}}ag.prototype.clear=function(){this.ha.length=0;this.Fb.length=0;var a=this.mc,b;for(b in a)delete a[b]};ag.prototype.Nc=function(){return this.ha.length};ag.prototype.dc=function(){return 0===this.ha.length};function bg(a,b){for(var c=a.ha,d=a.Fb,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Sf(a,h,b)}
function Sf(a,b,c){var d=a.ha;a=a.Fb;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f};function cg(a,b){ag.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.gj=b;this.yc=0}D(cg,ag);cg.prototype.zh=function(){--this.yc;this.gj()};function dg(a){return function(b){if(s(b))return[mb(b[0],a[0],a[2]),mb(b[1],a[1],a[3])]}}function eg(a){return a};function fg(a){return function(b,c,d){if(s(b))return b=xf(a,b,d),b=mb(b+c,0,a.length-1),a[b]}}function gg(a,b,c){return function(d,e,f){if(s(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),s(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function hg(a){if(s(a))return 0}function ig(a,b){if(s(a))return a+b}function jg(a){var b=2*Math.PI/a;return function(a,d){if(s(a))return a=Math.floor((a+d)/b+.5)*b}}function kg(){var a=5*Math.PI/180;return function(b,c){if(s(b))return Math.abs(b+c)<=a?0:b+c}};function lg(a,b,c){this.center=a;this.e=b;this.rotation=c};function X(a){V.call(this);a=s(a)?a:{};this.ee=[0,0];var b={};b.center=s(a.center)?a.center:null;this.Tf=qf(a.projection);var c,d,e,f=s(a.Ba)?a.Ba:0;c=s(a.Cb)?a.Cb:28;var g=s(a.wj)?a.wj:2;if(s(a.hb))c=a.hb,d=c[0],e=c[c.length-1],c=fg(c);else{d=qf(a.projection);e=d.M();var h=(null===e?360*gf.degrees/gf[d.sg]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.Aa;s(d)?f=0:d=h/Math.pow(g,f);e=a.Ma;s(e)||(e=s(a.Cb)?s(a.Aa)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/
e)/Math.log(g));e=d/Math.pow(g,c-f);c=gg(g,d,c-f)}this.Hf=d;this.Zh=e;this.$h=f;f=s(a.b)?dg(a.b):eg;(s(a.Wg)?a.Wg:1)?(d=a.Jd,d=s(d)&&!0!==d?!1===d?ig:ga(d)?jg(d):ig:kg()):d=hg;this.Rb=new lg(f,c,d);s(a.e)?b.resolution=a.e:s(a.zoom)&&(b.resolution=mg(this,this.Hf,a.zoom-this.$h));b.rotation=s(a.rotation)?a.rotation:0;this.sc(b)}D(X,V);function ng(a,b,c){var d,e=a.ja();a=a.p();s(e)&&s(a)&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function mg(a,b,c,d){return a.Rb.e(b,c||0,d||0)}
X.prototype.Jd=function(a,b){return this.Rb.rotation(a,b||0)};X.prototype.ja=function(){return this.get("center")};X.prototype.getCenter=X.prototype.ja;X.prototype.p=function(){return this.get("resolution")};X.prototype.getResolution=X.prototype.p;X.prototype.nb=function(){return this.get("rotation")};X.prototype.getRotation=X.prototype.nb;X.prototype.q=function(){var a=this.ja(),b=this.Tf,c=this.p(),d=this.nb();return{center:a.slice(),projection:s(b)?b:null,e:c,rotation:s(d)?d:0}};
X.prototype.ie=function(){return null!=this.ja()&&s(this.p())};X.prototype.rotate=function(a,b){if(s(b)){var c,d=this.ja();s(d)&&(c=[d[0]-b[0],d[1]-b[1]],Nd(c,a-this.nb()),Md(c,b));this.Ea(c)}this.Be(a)};X.prototype.Ea=function(a){this.set("center",a)};X.prototype.setCenter=X.prototype.Ea;function og(a,b){a.ee[1]+=b}X.prototype.tc=function(a){this.set("resolution",a)};X.prototype.setResolution=X.prototype.tc;X.prototype.Be=function(a){this.set("rotation",a)};X.prototype.setRotation=X.prototype.Be;function pg(a){if(a.classList)return a.classList;a=a.className;return v(a)&&a.match(/\S+/g)||[]}function qg(a,b){var c;a.classList?c=a.classList.contains(b):(c=pg(a),c=0<=Ia(c,b));return c}function rg(a,b){a.classList?a.classList.add(b):qg(a,b)||(a.className+=0<a.className.length?" "+b:b)}function sg(a,b){a.classList?a.classList.remove(b):qg(a,b)&&(a.className=Ja(pg(a),function(a){return a!=b}).join(" "))};function tg(a){V.call(this);this.element=s(a.element)?a.element:null;this.kg=s(a.target)?Fc(a.target):null;this.a=null;this.cd=[]}D(tg,V);tg.prototype.g=function(){Oc(this.element);tg.J.g.call(this)};tg.prototype.sa=function(){return this.a};tg.prototype.Qc=ca;
tg.prototype.setMap=function(a){null===this.a||Oc(this.element);0!=this.cd.length&&(H(this.cd,Q),this.cd.length=0);this.a=a;null!==this.a&&((null===this.kg?a.se:this.kg).appendChild(this.element),this.Qc!==ca&&this.cd.push(O(a,"postrender",this.Qc,!1,this)),Y(a))};function ug(a){a=s(a)?a:{};this.vd=document.createElement("UL");this.dd=document.createElement("LI");this.vd.appendChild(this.dd);nd(this.dd,!1);this.kb=s(a.collapsed)?a.collapsed:!0;this.Gc=s(a.Ig)?a.Ig:!0;this.Gc||(this.kb=!1);var b=s(a.className)?a.className:"ol-attribution",c=S("SPAN",{role:"tooltip"},s(a.Ie)?a.Ie:"Attributions");this.Re=s(a.Hg)?a.Hg:"\u00bb";this.$a=s(a.label)?a.label:"i";this.Af=S("SPAN",{},this.Gc&&!this.kb?this.Re:this.$a);var d=S("BUTTON",{"class":"ol-has-tooltip",type:"button"},
this.Af);d.appendChild(c);c=new xe(d);Nb(this,c);O(c,je,this.ua,!1,this);O(d,"click",this.pb,!1,this);O(d,["mouseout",Tb],function(){this.blur()},!1);b=S("DIV",{"class":b+" ol-unselectable ol-control"+(this.kb&&this.Gc?" ol-collapsed":"")+(this.Gc?"":" ol-uncollapsible")},this.vd,d);tg.call(this,{element:b,target:a.target});this.w=!0;this.Sa={};this.Ga={};this.Rh={}}D(ug,tg);
ug.prototype.Qc=function(a){a=a.frameState;if(null===a)this.w&&(nd(this.element,!1),this.w=!1);else{var b,c,d,e,f,g,h,m,n,p=a.pe,q=cb(a.Ta),r={};c=0;for(b=p.length;c<b;c++)if(d=p[c].ad.uc,n=w(d).toString(),m=d.Eg,null!==m)for(d=0,e=m.length;d<e;d++)g=m[d],h=w(g).toString(),h in q||(f=a.wd[n],s(f)&&g.ik(f)?(h in r&&delete r[h],q[h]=g):r[h]=g);b=[q,r];c=b[0];b=b[1];for(var t in this.Sa)t in c?(this.Ga[t]||(nd(this.Sa[t],!0),this.Ga[t]=!0),delete c[t]):t in b?(this.Ga[t]&&(nd(this.Sa[t],!1),delete this.Ga[t]),
delete b[t]):(Oc(this.Sa[t]),delete this.Sa[t],delete this.Ga[t]);for(t in c)n=document.createElement("LI"),n.innerHTML=c[t].$g(),this.vd.appendChild(n),this.Sa[t]=n,this.Ga[t]=!0;for(t in b)n=document.createElement("LI"),n.innerHTML=b[t].$g(),nd(n,!1),this.vd.appendChild(n),this.Sa[t]=n;t=!ab(this.Ga)||!ab(a.Bb);this.w!=t&&(nd(this.element,t),this.w=t);t&&ab(this.Ga)?rg(this.element,"ol-logo-only"):sg(this.element,"ol-logo-only");var u;a=a.Bb;t=this.Rh;for(u in t)u in a||(Oc(t[u]),delete t[u]);for(var y in a)y in
t||(u=new Image,u.src=y,c=a[y],""===c?c=u:(c=S("A",{href:c,target:"_blank"}),c.appendChild(u)),this.dd.appendChild(c),t[y]=c);nd(this.dd,!ab(a))}};ug.prototype.pb=function(a){0!==a.screenX&&0!==a.screenY||vg(this)};ug.prototype.ua=function(a){a.A.preventDefault();vg(this)};
function vg(a){var b=a.element;qg(b,"ol-collapsed")?sg(b,"ol-collapsed"):rg(b,"ol-collapsed");var b=a.Af,c=a.kb?a.Re:a.$a;if("textContent"in b)b.textContent=c;else if(3==b.nodeType)b.data=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=c}else{for(var d;d=b.firstChild;)b.removeChild(d);b.appendChild(Ec(b).createTextNode(String(c)))}a.kb=!a.kb};function wg(a){return 1-Math.pow(1-a,3)};function xg(a){return 3*a*a-2*a*a*a}function yg(a){return a};function zg(a){var b=a.source,c=s(a.start)?a.start:oa(),d=b[0],e=b[1],f=s(a.duration)?a.duration:1E3,g=s(a.L)?a.L:xg;return function(a,b){if(b.time<c)return b.Ra=!0,b.G[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.i.center[0],q=e-b.i.center[1];b.Ra=!0;b.i.center[0]+=n*p;b.i.center[1]+=n*q;b.G[0]+=1;return!0}return!1}}
function Ag(a){var b=s(a.rotation)?a.rotation:0,c=s(a.start)?a.start:oa(),d=s(a.duration)?a.duration:1E3,e=s(a.L)?a.L:xg,f=s(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.Ra=!0,h.G[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.i.rotation)*m;h.Ra=!0;h.i.rotation+=m;if(null!==f){var n=h.i.center;n[0]-=f[0];n[1]-=f[1];Nd(n,m);Md(n,f)}h.G[0]+=1;return!0}return!1}}
function Bg(a){var b=a.e,c=s(a.start)?a.start:oa(),d=s(a.duration)?a.duration:1E3,e=s(a.L)?a.L:xg;return function(a,g){if(g.time<c)return g.Ra=!0,g.G[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.i.e;g.Ra=!0;g.i.e+=h*m;g.G[0]+=1;return!0}return!1}};function Cg(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-rotate";this.$a=S("SPAN",{"class":"ol-compass"},s(a.label)?a.label:"\u21e7");var c=S("SPAN",{role:"tooltip"},s(a.Ie)?a.Ie:"Reset rotation"),c=S("BUTTON",{"class":b+"-reset ol-has-tooltip",name:"ResetRotation",type:"button"},c,this.$a),d=new xe(c);Nb(this,d);O(d,je,Cg.prototype.ua,!1,this);O(c,"click",Cg.prototype.pb,!1,this);O(c,["mouseout",Tb],function(){this.blur()},!1);b=S("DIV",b+" ol-unselectable ol-control",c);tg.call(this,{element:b,
target:a.target});this.R=s(a.duration)?a.duration:250;this.Oe=s(a.Fg)?a.Fg:!0;this.dg=void 0;b.style.opacity=this.Oe?0:1}D(Cg,tg);Cg.prototype.pb=function(a){0!==a.screenX&&0!==a.screenY||Dg(this)};Cg.prototype.ua=function(a){a.A.preventDefault();Dg(this)};function Dg(a){for(var b=a.sa(),c=b.h(),d=c.nb();d<-Math.PI;)d+=2*Math.PI;for(;d>Math.PI;)d-=2*Math.PI;s(d)&&(0<a.R&&b.ea(Ag({rotation:d,duration:a.R,L:wg})),c.Be(0))}
Cg.prototype.Qc=function(a){a=a.frameState;if(null!==a){a=a.i.rotation;if(a!=this.dg){var b="rotate("+180*a/Math.PI+"deg)";this.Oe&&(this.element.style.opacity=0===a?0:1);this.$a.style.msTransform=b;this.$a.style.webkitTransform=b;this.$a.style.transform=b}this.dg=a}};function Eg(a){a=s(a)?a:{};var b=s(a.className)?a.className:"ol-zoom",c=s(a.Va)?a.Va:1,d=s(a.xj)?a.xj:"+",e=s(a.zj)?a.zj:"\u2212",f=s(a.Aj)?a.Aj:"Zoom out",g=S("SPAN",{role:"tooltip"},s(a.yj)?a.yj:"Zoom in"),d=S("BUTTON",{"class":b+"-in ol-has-tooltip",type:"button"},g,d),g=new xe(d);Nb(this,g);O(g,je,na(Eg.prototype.ua,c),!1,this);O(d,"click",na(Eg.prototype.pb,c),!1,this);O(d,["mouseout",Tb],function(){this.blur()},!1);f=S("SPAN",{role:"tooltip"},f);e=S("BUTTON",{"class":b+"-out  ol-has-tooltip",
type:"button"},f,e);f=new xe(e);Nb(this,f);O(f,je,na(Eg.prototype.ua,-c),!1,this);O(e,"click",na(Eg.prototype.pb,-c),!1,this);O(e,["mouseout",Tb],function(){this.blur()},!1);b=S("DIV",b+" ol-unselectable ol-control",d,e);tg.call(this,{element:b,target:a.target});this.R=s(a.duration)?a.duration:250}D(Eg,tg);Eg.prototype.pb=function(a,b){0!==b.screenX&&0!==b.screenY||Fg(this,a)};Eg.prototype.ua=function(a,b){b.A.preventDefault();Fg(this,a)};
function Fg(a,b){var c=a.sa(),d=c.h(),e=d.p();s(e)&&(0<a.R&&c.ea(Bg({e:e,duration:a.R,L:wg})),c=mg(d,e,b),d.tc(c))};function Gg(a,b,c){this.Od=a;this.fd=b;this.Kg=c;this.X=[];this.wb=this.Cd=0}Gg.prototype.update=function(a,b){this.X.push(a,b,oa())};Gg.prototype.end=function(){if(6>this.X.length)return!1;var a=oa()-this.Kg,b=this.X.length-3;if(this.X[b+2]<a)return!1;for(var c=b-3;0<c&&this.X[c+2]>a;)c-=3;var a=this.X[b+2]-this.X[c+2],d=this.X[b]-this.X[c],b=this.X[b+1]-this.X[c+1];this.Cd=Math.atan2(b,d);this.wb=Math.sqrt(d*d+b*b)/a;return this.wb>this.fd};
function Hg(a,b){var c=a.Od,d=a.wb,e=a.fd-d,f=Ig(a);return zg({source:b,duration:f,L:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Ig(a){return Math.log(a.fd/a.wb)/a.Od};function Jg(){Bd.call(this);this.a=null}D(Jg,Bd);Jg.prototype.sa=function(){return this.a};Jg.prototype.setMap=function(a){this.a=a};function Kg(a,b,c,d,e){if(null!=c){var f=b.nb(),g=b.ja();s(f)&&s(g)&&s(e)&&0<e&&(a.ea(Ag({rotation:f,duration:e,L:wg})),s(d)&&a.ea(zg({source:g,duration:e,L:wg})));b.rotate(c,d)}}function Lg(a,b,c,d,e){var f=b.p();c=mg(b,f,c,0);Mg(a,b,c,d,e)}
function Mg(a,b,c,d,e){if(null!=c){var f=b.p(),g=b.ja();s(f)&&s(g)&&s(e)&&0<e&&(a.ea(Bg({e:f,duration:e,L:wg})),s(d)&&a.ea(zg({source:g,duration:e,L:wg})));null!=d&&(a=ng(b,c,d),b.Ea(a));b.tc(c)}};function Ng(a){a=s(a)?a:{};this.j=s(a.Va)?a.Va:1;Jg.call(this);this.R=s(a.duration)?a.duration:250}D(Ng,Jg);Ng.prototype.ta=function(a){var b=!1,c=a.A;if(a.type==Le){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.j:this.j,e=b.h();Lg(b,e,c,d,this.R);a.preventDefault();b=!0}return!b};function Og(a){a=a.A;return a.altKey&&!a.jd&&a.shiftKey}function Pg(a){a=a.A;return!a.altKey&&!a.jd&&!a.shiftKey}function Qg(a){a=a.A;return!a.altKey&&!a.jd&&a.shiftKey}function Rg(a){a=a.A.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function Sg(){Jg.call(this);this.tb=!1;this.Ac={};this.N=[]}D(Sg,Jg);function Tg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}k=Sg.prototype;k.rb=ca;k.sb=ib;k.qb=ib;
k.ta=function(a){if(!(a instanceof He))return!0;var b=!1,c=a.type;if(c===Qe||c===Se||c===Oe)c=a.eb,a.type==Oe?delete this.Ac[c.pointerId]:a.type==Qe?this.Ac[c.pointerId]=c:c.pointerId in this.Ac&&(this.Ac[c.pointerId]=c),this.N=Ya(this.Ac);this.tb&&(a.type==Se?this.rb(a):a.type==Oe&&(this.tb=this.sb(a)));a.type==Qe&&(this.tb=a=this.qb(a),b=this.gg(a));return!b};k.gg=ib;function Ug(a){Sg.call(this);this.va=(s(a)?a:{}).Oh;this.yb=this.fc=null;this.qa=s(a.U)?a.U:Pg;this.Kf=!1}D(Ug,Sg);Ug.prototype.rb=function(a){var b=Tg(this.N);this.va&&this.va.update(b[0],b[1]);if(null!==this.yb){var c=this.yb[0]-b[0],d=b[1]-this.yb[1];a=a.map;var e=a.h(),f=e.q(),d=c=[c,d],g=f.e;d[0]*=g;d[1]*=g;Nd(c,f.rotation);Md(c,f.center);c=e.Rb.center(c);Y(a);e.Ea(c)}this.yb=b};
Ug.prototype.sb=function(a){a=a.map;var b=a.h();if(0===this.N.length){if(!this.Kf&&this.va&&this.va.end()){var c;c=this.va;c=(c.fd-c.wb)/c.Od;var d=this.va.Cd,e=b.ja();this.fc=Hg(this.va,e);a.ea(this.fc);var f;f=a.Xa;null===f?f=null:(e=e.slice(0,2),f=Vf(f.Ve,e,e));c=a.Yb([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Rb.center(c);b.Ea(c)}og(b,-1);Y(a);return!1}this.yb=null;return!0};
Ug.prototype.qb=function(a){if(0<this.N.length&&this.qa(a)){var b=a.map,c=b.h();this.yb=null;this.tb||og(c,1);Y(b);null!==this.fc&&Na(b.md,this.fc)&&(c.Ea(a.frameState.i.center),this.fc=null);this.va&&(a=this.va,a.X.length=0,a.Cd=0,a.wb=0);this.Kf=1<this.N.length;return!0}return!1};function Vg(a){a=s(a)?a:{};Sg.call(this);this.qa=s(a.U)?a.U:Og;this.xa=void 0}D(Vg,Sg);Vg.prototype.rb=function(a){if(1==a.eb.pointerId){var b=a.map,c=b.ka();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(s(this.xa)){a=c-this.xa;var d=b.h(),e=d.q();Y(b);Kg(b,d,e.rotation-a)}this.xa=c}};Vg.prototype.sb=function(a){if(1!=a.eb.pointerId)return!0;a=a.map;var b=a.h();og(b,-1);var c=b.q().rotation,c=b.Jd(c,0);Kg(a,b,c,void 0,250);return!1};
Vg.prototype.qb=function(a){return 1==a.eb.pointerId&&Xb(a.A)&&this.qa(a)?(a=a.map,og(a.h(),1),Y(a),this.xa=void 0,!0):!1};function Wg(){Bd.call(this);this.b=void 0;this.$e=-1}D(Wg,Bd);Wg.prototype.Ic=ib;Wg.prototype.transform=function(a,b){var c=rf(a),d=rf(b),c=c.Qb,d=d.Qb,e;c in kf&&d in kf[c]&&(e=kf[c][d]);s(e)||(e=sf);null!==this.B&&(e(this.B,this.B,this.C),this.V());return this};function Xg(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=s(f)?f:[],r=0;b<c;b+=d){var t=a[b],u=a[b+1];q[r++]=g*t+m*u+p;q[r++]=h*t+n*u+e}s(f)&&q.length!=r&&(q.length=r);return q};function Yg(){Wg.call(this);this.hc="XY";this.C=2;this.B=null}D(Yg,Wg);function Zg(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Yg.prototype.Ic=ib;
Yg.prototype.M=function(a){if(this.$e!=this.Da){for(var b=this.B,c=this.B.length,d=this.C,e=Ze(Infinity,Infinity,-Infinity,-Infinity,this.b),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.b=e;this.$e=this.Da}b=this.b;s(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};function $g(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function ah(a,b,c,d,e){if(0===b.length||!$g(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if($g(a,b[f-1],b[f],c,d,e))return!1;return!0};function bh(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function ch(a,b){Yg.call(this);this.Y=[];this.cf=-1;this.df=null;this.Nf=-1;this.jc=null;if(null===a){var c=this.Y;this.C=Zg("XY");this.hc="XY";this.B=null;this.Y=c}else{a:{var c=b,d=a;if(s(c))d=Zg(c);else{for(c=0;2>c;++c){if(0===d.length){this.hc="XY";this.C=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.hc=c;this.C=d}null===this.B&&(this.B=[]);var c=this.B,d=this.C,e=this.Y,f=0,e=s(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],q=d,r=void 0,t=void 0,
r=0,t=p.length;r<t;++r){var u=p[r],y;for(y=0;y<q;++y)n[f++]=u[y]}n=f;f=e[g++]=n}e.length=g;this.B.length=0===e.length?0:e[e.length-1]}this.V()}D(ch,Yg);ch.prototype.clone=function(){var a=new ch(null),b=this.hc,c=this.B.slice(),d=this.Y.slice();a.C=Zg(b);a.hc=b;a.B=c;a.Y=d;a.V();return a};ch.prototype.Ic=function(a,b){return ah(dh(this),this.Y,this.C,a,b)};
function dh(a){if(a.Nf!=a.Da){var b=a.B,c;a:{c=a.Y;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=bh(b,d,g,a.C);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.jc=b;else{a.jc=b.slice();c=b=a.jc;e=a.Y;f=a.C;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=bh(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var r;for(r=0;r<q;++r){var t=n[h+r];n[h+r]=n[p-q+r];n[p-q+r]=t}h+=q;p-=q}h=m}b.length=h}a.Nf=a.Da}return a.jc}ch.prototype.be=function(){return"Polygon"};function eh(a,b,c,d,e,f,g){N.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}D(eh,N);function fh(a){this.Mc=this.Lc=this.aa=this.ld=this.a=null;this.bj=a}D(fh,Kb);function gh(a){var b=a.aa,c=a.Lc;a=Ka([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.Yb,a.a);a[4]=a[0].slice();return new ch([a])}fh.prototype.g=function(){this.setMap(null)};fh.prototype.qh=function(a){var b=this.Mc,c=this.bj;hh(a.vectorContext,function(a){a.Mi(c.af,c.jg);a.Vi(c.O);a.Xe(b)})};fh.prototype.Wd=function(){return this.Mc};function ih(a){null===a.a||null===a.aa||null===a.Lc||Y(a.a)}
fh.prototype.setMap=function(a){null!==this.ld&&(Q(this.ld),this.ld=null,Y(this.a),this.a=null);this.a=a;null!==this.a&&(this.ld=O(a,"postcompose",this.qh,!1,this),ih(this))};function jh(a,b){N.call(this,a);this.coordinate=b}D(jh,N);function kh(a){Sg.call(this);a=s(a)?a:{};this.Mb=new fh(s(a.style)?a.style:null);this.aa=null;this.qa=s(a.U)?a.U:jb}D(kh,Sg);k=kh.prototype;k.rb=function(a){if(1==a.eb.pointerId){var b=this.Mb;a=a.pixel;b.aa=this.aa;b.Lc=a;b.Mc=gh(b);ih(b)}};k.Wd=function(){return this.Mb.Wd()};k.Lf=ca;
k.sb=function(a){if(1!=a.eb.pointerId)return!0;this.Mb.setMap(null);var b=a.pixel[0]-this.aa[0],c=a.pixel[1]-this.aa[1];64<=b*b+c*c&&(this.Lf(a),this.dispatchEvent(new jh("boxend",a.coordinate)));return!1};k.qb=function(a){if(1==a.eb.pointerId&&Xb(a.A)&&this.qa(a)){this.aa=a.pixel;this.Mb.setMap(a.map);var b=this.Mb,c=this.aa;b.aa=this.aa;b.Lc=c;b.Mc=gh(b);ih(b);this.dispatchEvent(new jh("boxstart",a.coordinate));return!0}return!1};k.gg=function(a){return a};function lh(a){if(!v(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};function mh(a){a=s(a)?a:{};this.Hc=s(a.color)?a.color:null;this.Cf=a.lineCap;this.Ph=s(a.na)?a.na:null;this.Df=a.lineJoin;this.If=a.miterLimit;this.sj=a.width}mh.prototype.getLineDash=function(){return this.Ph};mh.prototype.Ja=function(){return this.sj};var nh=[0,0,0,1],oh=[],ph=[0,0,0,1];function qh(a){a=s(a)?a:{};this.af=s(a.fill)?a.fill:null;this.r=s(a.Gh)?a.Gh:null;this.jg=s(a.stroke)?a.stroke:null;this.O=s(a.text)?a.text:null}qh.prototype.ra=function(){return this.r};function rh(a){a=s(a)?a:{};kh.call(this,{U:s(a.U)?a.U:Qg,style:s(a.style)?a.style:new qh({stroke:new mh({color:[0,0,255,1]})})})}D(rh,kh);rh.prototype.Lf=function(){var a=this.sa(),b=a.h(),c=this.Wd().M(),d=$e(c),e=a.ka(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=mg(b,c,0,void 0);Mg(a,b,c,d,200)};function sh(a){Jg.call(this);a=s(a)?a:{};this.qa=s(a.U)?a.U:lb(Pg,Rg);this.xi=s(a.wi)?a.wi:128}D(sh,Jg);sh.prototype.ta=function(a){var b=!1;if("key"==a.type){var c=a.A.keyCode;if(this.qa(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.h(),e=b.q(),f=e.e*this.xi,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];Nd(c,e.rotation);e=b.ja();s(e)&&(s(100)&&d.ea(zg({source:e,duration:100,L:yg})),d=b.Rb.center([e[0]+c[0],e[1]+c[1]]),b.Ea(d));a.preventDefault();b=!0}}return!b};function th(a){Jg.call(this);a=s(a)?a:{};this.qa=s(a.U)?a.U:Rg;this.j=s(a.Va)?a.Va:1;this.R=s(a.duration)?a.duration:100}D(th,Jg);th.prototype.ta=function(a){var b=!1;if("key"==a.type){var c=a.A.charCode;if(this.qa(a)&&(43==c||45==c)){b=a.map;c=43==c?this.j:-this.j;Y(b);var d=b.h();Lg(b,d,c,void 0,this.R);a.preventDefault();b=!0}}return!b};function uh(a){a=s(a)?a:{};Jg.call(this);this.j=0;this.R=s(a.duration)?a.duration:250;this.wa=null;this.Qa=this.qd=void 0}D(uh,Jg);uh.prototype.ta=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.A;this.wa=a.coordinate;this.j+=c.deltaY;s(this.qd)||(this.qd=oa());c=Math.max(80-(oa()-this.qd),0);l.clearTimeout(this.Qa);this.Qa=l.setTimeout(B(this.Qd,this,b),c);a.preventDefault();b=!0}return!b};
uh.prototype.Qd=function(a){var b=mb(this.j,-1,1),c=a.h();Y(a);Lg(a,c,-b,this.wa,this.R);this.j=0;this.wa=null;this.Qa=this.qd=void 0};function vh(a){Sg.call(this);a=s(a)?a:{};this.pa=null;this.xa=void 0;this.rc=!1;this.pd=0;this.fj=s(a.ej)?a.ej:.3}D(vh,Sg);vh.prototype.rb=function(a){var b=0,c=this.N[0],d=this.N[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);s(this.xa)&&(b=c-this.xa,this.pd+=b,!this.rc&&Math.abs(this.pd)>this.fj&&(this.rc=!0));this.xa=c;a=a.map;c=kd(a.t);d=Tg(this.N);d[0]-=c.x;d[1]-=c.y;this.pa=a.Yb(d);this.rc&&(c=a.h(),d=c.q(),Y(a),Kg(a,c,d.rotation+b,this.pa))};
vh.prototype.sb=function(a){if(2>this.N.length){a=a.map;var b=a.h();og(b,-1);if(this.rc){var c=b.q().rotation,d=this.pa,c=b.Jd(c,0);Kg(a,b,c,d,250)}return!1}return!0};vh.prototype.qb=function(a){return 2<=this.N.length?(a=a.map,this.pa=null,this.xa=void 0,this.rc=!1,this.pd=0,this.tb||og(a.h(),1),Y(a),!0):!1};function wh(a){a=s(a)?a:{};Sg.call(this);this.pa=null;this.R=s(a.duration)?a.duration:400;this.Zc=void 0;this.me=1}D(wh,Sg);wh.prototype.rb=function(a){var b=1,c=this.N[0],d=this.N[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);s(this.Zc)&&(b=this.Zc/e);this.Zc=e;1!=b&&(this.me=b);a=a.map;var e=a.h(),c=e.q(),d=kd(a.t),f=Tg(this.N);f[0]-=d.x;f[1]-=d.y;this.pa=a.Yb(f);Y(a);Mg(a,e,c.e*b,this.pa)};
wh.prototype.sb=function(a){if(2>this.N.length){a=a.map;var b=a.h();og(b,-1);var c=b.q().e,d=this.pa,e=this.R,c=mg(b,c,0,this.me-1);Mg(a,b,c,d,e);return!1}return!0};wh.prototype.qb=function(a){return 2<=this.N.length?(a=a.map,this.pa=null,this.Zc=void 0,this.me=1,this.tb||og(a.h(),1),Y(a),!0):!1};function xh(a){a=s(a)?a:{};var b=new Id,c=new Gg(-.005,.05,100);(s(a.Dg)?a.Dg:1)&&b.push(new Vg);(s(a.Ng)?a.Ng:1)&&b.push(new Ng({Va:a.vj,duration:a.Me}));(s(a.Og)?a.Og:1)&&b.push(new Ug({Oh:c}));(s(a.ui)?a.ui:1)&&b.push(new vh);(s(a.vi)?a.vi:1)&&b.push(new wh({duration:a.Me}));if(s(a.Nh)?a.Nh:1)b.push(new sh),b.push(new th({Va:a.vj,duration:a.Me}));(s(a.Jf)?a.Jf:1)&&b.push(new uh({duration:a.Me}));(s(a.Zi)?a.Zi:1)&&b.push(new rh);return b};function yh(a){var b=s(a)?a:{};a=cb(b);delete a.zb;b=b.zb;W.call(this,a);this.La=null;O(this,Gd("layers"),this.nh,!1,this);s(b)?ea(b)&&(b=new Id(Oa(b))):b=new Id;this.fg(b)}D(yh,W);k=yh.prototype;k.pf=function(){this.de()&&this.V()};
k.nh=function(){null!==this.La&&(H(Ya(this.La),Q),this.La=null);var a=this.Zb();if(null!=a){this.La={add:O(a,"add",this.mh,!1,this),remove:O(a,"remove",this.oh,!1,this)};var a=a.da,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.La[w(d).toString()]=O(d,["propertychange","change"],this.pf,!1,this)}this.V()};k.mh=function(a){a=a.element;this.La[w(a).toString()]=O(a,["propertychange","change"],this.pf,!1,this);this.V()};k.oh=function(a){a=w(a.element).toString();Q(this.La[a]);delete this.La[a];this.V()};
k.Zb=function(){return this.get("layers")};yh.prototype.getLayers=yh.prototype.Zb;yh.prototype.fg=function(a){this.set("layers",a)};yh.prototype.setLayers=yh.prototype.fg;
yh.prototype.Yd=function(a){var b=s(a)?a:[],c=b.length;this.Zb().forEach(function(a){a.Yd(b)});a=uf(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.jb=mb(e.jb+a.jb,-1,1),e.lb*=a.lb,e.vb+=a.vb,e.opacity*=a.opacity,e.Hb*=a.Hb,e.visible=e.visible&&a.visible,e.Aa=Math.min(e.Aa,a.Aa),e.Ma=Math.max(e.Ma,a.Ma),s(a.b)&&s(e.b)&&(e.b=df(e.b,a.b));return b};yh.prototype.mf=function(){return"ready"};function zh(a){hf.call(this,{code:a,units:"m",b:Ah,global:!0,uj:Bh})}D(zh,hf);var Ch=6378137*Math.PI,Ah=[-Ch,-Ch,Ch,Ch],Bh=[-180,-85,180,85],Dh=Ka("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new zh(a)});
function Eh(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Fh(a,b,c){var d=a.length;c=1<c?c:2;s(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Gh(a,b){hf.call(this,{code:a,units:"degrees",b:Hh,Vj:b,global:!0,uj:Hh})}D(Gh,hf);var Hh=[-180,-90,180,90],Ih=[new Gh("CRS:84"),new Gh("EPSG:4326","neu"),new Gh("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Gh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Gh("urn:ogc:def:crs:OGC:2:84"),new Gh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Gh("urn:x-ogc:def:crs:EPSG:4326","neu")];function Z(a){vf.call(this,a)}D(Z,vf);Z.prototype.$d=function(){return this.get("preload")};Z.prototype.getPreload=Z.prototype.$d;Z.prototype.Si=function(a){this.set("preload",a)};Z.prototype.setPreload=Z.prototype.Si;Z.prototype.ce=function(){return this.get("useInterimTilesOnError")};Z.prototype.getUseInterimTilesOnError=Z.prototype.ce;Z.prototype.Wi=function(a){this.set("useInterimTilesOnError",a)};Z.prototype.setUseInterimTilesOnError=Z.prototype.Wi;function Jh(a,b,c,d,e){this.Fc={};this.o=a;this.Db=b;this.Ia=c;this.T=d;this.rj=e;this.r=this.D=this.Q=this.Ue=this.Te=this.Se=null;this.Ih=this.Hh=this.fe=this.tf=this.sf=this.rf=0;this.Jh=!1;this.Tc=this.Kh=0;this.Lh=!1;this.vf=0;this.O="";this.wc=this.rd=this.mg=this.lg=0;this.De=this.xc=this.vc=null;this.hd=[];this.rg=yd()}
function Kh(a,b,c){if(null!==a.r){b=Xg(b,0,c,2,a.T,a.hd);c=a.o;var d=a.rg,e=c.globalAlpha;1!=a.fe&&(c.globalAlpha=e*a.fe);var f=a.Kh;a.Jh&&(f+=a.rj);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.rf,n=b[g+1]-a.sf;a.Lh&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.Tc){var p=m+a.rf,q=n+a.sf;Uf(d,p,q,a.Tc,a.Tc,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.r,a.Hh,a.Ih,a.vf,a.tf,m,n,a.vf,a.tf)}0===f&&1==a.Tc||c.setTransform(1,0,0,1,0,0);1!=a.fe&&(c.globalAlpha=e)}}
function Lh(a,b,c,d){var e=0;if(null!==a.De&&""!==a.O){null===a.vc||Mh(a,a.vc);null===a.xc||Nh(a,a.xc);var f=a.De,g=a.o,h=a.Ue;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.Ue={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=Xg(b,e,c,d,a.T,a.hd);for(f=a.o;e<c;e+=d){g=
b[e]+a.lg;h=b[e+1]+a.mg;if(0!==a.rd||1!=a.wc){var m=Uf(a.rg,g,h,a.wc,a.wc,a.rd,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.xc||f.strokeText(a.O,g,h);null===a.vc||f.fillText(a.O,g,h)}0===a.rd&&1==a.wc||f.setTransform(1,0,0,1,0,0)}}function Oh(a,b,c,d,e,f){var g=a.o;a=Xg(b,c,d,e,a.T,a.hd);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function Ph(a,b,c,d,e){var f=a.o,g,h;g=0;for(h=d.length;g<h;++g)c=Oh(a,b,c,d[g],e,!0),f.closePath();return c}function hh(a,b){var c=Infinity.toString(),d=a.Fc[c];s(d)?d.push(b):a.Fc[c]=[b]}k=Jh.prototype;
k.Pg=function(a){if(ef(this.Ia,a.M())){if(null!==this.Q||null!==this.D){null===this.Q||Mh(this,this.Q);null===this.D||Nh(this,this.D);var b;b=a.B;b=null===b?null:Xg(b,0,b.length,a.C,this.T,this.hd);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.o;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.Q||d.fill();null===this.D||d.stroke()}""!==this.O&&Lh(this,a.ja(),2,2)}};k.Qg=function(a,b){var c=a.ck(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];Qh[f.be()].call(this,f,b)}};
k.Vg=function(a){var b=a.B;a=a.C;null===this.r||Kh(this,b,b.length);""!==this.O&&Lh(this,b,b.length,a)};k.Tg=function(a){var b=a.B;a=a.C;null===this.r||Kh(this,b,b.length);""!==this.O&&Lh(this,b,b.length,a)};k.Rg=function(a){if(ef(this.Ia,a.M())){if(null!==this.D){Nh(this,this.D);var b=this.o,c=a.B;b.beginPath();Oh(this,c,0,c.length,a.C,!1);b.stroke()}""!==this.O&&(a=a.$j(),Lh(this,a,2,2))}};
k.Sg=function(a){var b=a.M();if(ef(this.Ia,b)){if(null!==this.D){Nh(this,this.D);var b=this.o,c=a.B,d=0,e=a.Y,f=a.C;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=Oh(this,c,d,e[g],f,!1);b.stroke()}""!==this.O&&(a=a.ak(),Lh(this,a,a.length,2))}};
k.Xe=function(a){if(ef(this.Ia,a.M())){if(null!==this.D||null!==this.Q){null===this.Q||Mh(this,this.Q);null===this.D||Nh(this,this.D);var b=this.o;b.beginPath();Ph(this,dh(a),0,a.Y,a.C);null===this.Q||b.fill();null===this.D||b.stroke()}if(""!==this.O){if(a.cf!=a.Da){b=$e(a.M());var c=dh(a),d=a.Y,e=a.C,f,g,h,m,n,p=b[1],q=[],r=d[0];h=c[r-e];n=c[r-e+1];for(f=0;f<r;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}r=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var t=Math.abs(m-h);t>n&&(h=(h+m)/2,ah(c,d,e,h,p)&&(r=h,n=t));h=m}isNaN(r)&&(r=b[0]);s(void 0)?((void 0).push(r,p),b=void 0):b=[r,p];a.df=b;a.cf=a.Da}Lh(this,a.df,2,2)}}};
k.Ug=function(a){if(ef(this.Ia,a.M())){if(null!==this.D||null!==this.Q){null===this.Q||Mh(this,this.Q);null===this.D||Nh(this,this.D);var b=this.o,c=dh(a),d=0,e=a.Yj(),f=a.C,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=Ph(this,c,d,m,f);null===this.Q||b.fill();null===this.D||b.stroke()}}""!==this.O&&(a=a.Zj(),Lh(this,a,a.length,2))}};k.flush=function(){var a=Ka(Za(this.Fc),Number);a.sort(Ta);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Fc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function Mh(a,b){var c=a.o,d=a.Se;null===d?(c.fillStyle=b.fillStyle,a.Se={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function Nh(a,b){var c=a.o,d=a.Te;null===d?(c.lineCap=b.lineCap,Zd&&c.setLineDash(b.na),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Te={lineCap:b.lineCap,na:b.na,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Zd&&!Ra(d.na,b.na)&&c.setLineDash(d.na=b.na),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=
c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
k.Mi=function(a,b){if(null===a)this.Q=null;else{var c=a.Hc;this.Q={fillStyle:lh(null===c?nh:c)}}if(null===b)this.D=null;else{var c=b.Hc,d=b.Cf,e=b.getLineDash(),f=b.Df,g=b.Ja(),h=b.If;this.D={lineCap:s(d)?d:"round",na:null!=e?e:oh,lineJoin:s(f)?f:"round",lineWidth:this.Db*(s(g)?g:1),miterLimit:s(h)?h:10,strokeStyle:lh(null===c?ph:c)}}};
k.Vi=function(a){if(null===a)this.O="";else{var b=a.af;null===b?this.vc=null:(b=b.Hc,this.vc={fillStyle:lh(null===b?nh:b)});var c=a.jg;if(null===c)this.xc=null;else{var b=c.Hc,d=c.Cf,e=c.getLineDash(),f=c.Df,g=c.Ja(),c=c.If;this.xc={lineCap:s(d)?d:"round",na:null!=e?e:oh,lineJoin:s(f)?f:"round",lineWidth:s(g)?g:1,miterLimit:s(c)?c:10,strokeStyle:lh(null===b?ph:b)}}var b=a.bk(),d=a.dk(),e=a.ek(),f=a.nb(),g=a.fk(),c=a.O,h=a.gk();a=a.hk();this.De={font:s(b)?b:"10px sans-serif",textAlign:s(h)?h:"center",
textBaseline:s(a)?a:"middle"};this.O=s(c)?c:"";this.lg=s(d)?this.Db*d:0;this.mg=s(e)?this.Db*e:0;this.rd=s(f)?f:0;this.wc=this.Db*(s(g)?g:1)}};var Qh={Point:Jh.prototype.Vg,LineString:Jh.prototype.Rg,Polygon:Jh.prototype.Xe,MultiPoint:Jh.prototype.Tg,MultiLineString:Jh.prototype.Sg,MultiPolygon:Jh.prototype.Ug,GeometryCollection:Jh.prototype.Qg,Circle:Jh.prototype.Pg};var Rh=["Polygon","LineString","Image","Text"];function Sh(a,b,c){this.Yh=b;this.ag=c;this.oc={};Ud(1,1);yd()}Sh.prototype.Zf=function(a,b,c,d,e,f){var g=Ka(Za(this.oc),Number);g.sort(Ta);return this.Ji(g,a,b,c,d,e,f)};
Sh.prototype.Ji=function(a,b,c,d,e,f,g){var h=this.Yh,m=h[0],n=h[1],p=h[2],h=h[3],m=Xg([m,n,m,h,p,h,p,n],0,8,2,e);b.save();b.beginPath();b.moveTo(m[0],m[1]);b.lineTo(m[2],m[3]);b.lineTo(m[4],m[5]);b.lineTo(m[6],m[7]);b.closePath();b.clip();for(var q,r,m=0,n=a.length;m<n;++m)for(q=this.oc[a[m].toString()],p=0,h=Rh.length;p<h;++p)if(r=q[Rh[p]],s(r)&&ef(c,r.M())&&(r=r.Zf(b,d,e,f,g)))return r;b.restore()};Sh.prototype.finish=function(){for(var a in this.oc){var b=this.oc[a],c;for(c in b)b[c].finish()}};
Sh.prototype.dc=function(){return ab(this.oc)};function Th(a,b){Kf.call(this,a,b);this.T=yd()}D(Th,Kf);Th.prototype.Sb=function(a,b,c,d){var e=this.qe;if(e.ub(a)){if(!s(d)){d=c.i;var f=c.Ca;d=Uf(this.T,f*c.size[0]/2,f*c.size[1]/2,f/d.e,-f/d.e,-d.rotation,-d.center[0],-d.center[1])}d=new Jh(b,c.Ca,c.b,d,c.i.rotation);e.dispatchEvent(new eh(a,e,d,0,c,b,null));d.flush()}};
var Uh=function(){var a=null,b=null;return function(c){if(null===a){a=Ud(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Ra(b.data,c.data));return e}}();function Vh(a,b){Th.call(this,a,b);this.fa=this.u=null;this.Gd=!1;this.o=null;this.uf=yd();this.Ae=NaN;this.od=this.gb=null}D(Vh,Th);Vh.prototype.ra=function(){return this.u};
Vh.prototype.we=function(a,b){var c=a.Ca,d=a.i,e=d.projection,f=this.qe,g=f.uc,h=If(g,e),m=xf(h.qc,d.e,0),n=Jf(g,m,e),p=n/Ef(h,m),q=h.p(m),p=q/p,r=d.center,t;q==d.e?(r=Qf(r,q,a.size),t=cf(r,q,d.rotation,a.size)):t=a.b;s(b.b)&&(t=df(t,b.b));if(t[2]<t[0]||t[3]<t[1])return!1;var u=Cf(h,t,q),y=n*u.Ja(),x=n*u.Oc(),G,C;null===this.u?(C=Ud(y,x),this.u=C.canvas,this.fa=[y,x],this.o=C,this.Gd=!Uh(this.fa)):(G=this.u,C=this.o,this.fa[0]<y||this.fa[1]<x||this.Gd&&(this.fa[0]>y||this.fa[1]>x)?(G.width=y,G.height=
x,this.fa=[y,x],this.Gd=!Uh(this.fa),this.gb=null):(y=this.fa[0],x=this.fa[1],m==this.Ae&&Ye(this.gb,u)||(this.gb=null,m<this.Ae&&this.o.clearRect(0,0,y,x))));var z,E;null===this.gb?(y/=n,x/=n,z=u.k-Math.floor((y-u.Ja())/2),E=u.v-Math.floor((x-u.Oc())/2),this.Ae=m,this.gb=new We(z,z+y-1,E,E+x-1),this.od=Array(y*x),x=this.gb):(x=this.gb,y=x.Ja());G={};G[m]={};var A=[],J=B(g.bf,g,G,Of(function(a){return null!==a&&2==a.q()},g,c,e)),xa=f.ce();s(xa)||(xa=!0);var ya=[Infinity,Infinity,-Infinity,-Infinity],
Ga=new We(0,0,0,0),aa,F,T;for(E=u.k;E<=u.F;++E)for(T=u.v;T<=u.s;++T)F=Pf(g,m,E,T,c,e),z=F.q(),2==z||4==z||3==z&&!xa?G[m][Ve(F.n)]=F:(aa=h.Vd(F.n,J,null,Ga,ya),aa||(A.push(F),aa=h.ae(F.n,Ga,ya),null===aa||J(m+1,aa)));J=0;for(aa=A.length;J<aa;++J)F=A[J],E=n*(F.n[1]-x.k),T=n*(x.s-F.n[2]),C.clearRect(E,T,n,n);A=Ka(Za(G),Number);A.sort(Ta);var P=g.qi,cd=bf(Af(h,[m,x.k,x.s],ya)),Ua,Ha,dd,rc,ob,Be,J=0;for(aa=A.length;J<aa;++J)if(Ua=A[J],n=Jf(g,Ua,e),rc=G[Ua],Ua==m)for(dd in rc)F=rc[dd],Ha=(F.n[2]-x.v)*y+
(F.n[1]-x.k),this.od[Ha]!=F&&(E=n*(F.n[1]-x.k),T=n*(x.s-F.n[2]),z=F.q(),4!=z&&(3!=z||xa)&&P||C.clearRect(E,T,n,n),2==z&&C.drawImage(F.ra(),0,0,n,n,E,T,n,n),this.od[Ha]=F);else for(dd in Ua=h.p(Ua)/q,rc)for(F=rc[dd],Ha=Af(h,F.n,ya),E=(Ha[0]-cd[0])/p,T=(cd[1]-Ha[3])/p,Be=Ua*n,ob=Ua*n,z=F.q(),4!=z&&P||C.clearRect(E,T,Be,ob),2==z&&C.drawImage(F.ra(),0,0,n,n,E,T,Be,ob),F=Bf(h,Ha,m,Ga),z=Math.max(F.k,x.k),T=Math.min(F.F,x.F),E=Math.max(F.v,x.v),F=Math.min(F.s,x.s);z<=T;++z)for(ob=E;ob<=F;++ob)Ha=(ob-x.v)*
y+(z-x.k),this.od[Ha]=void 0;Nf(a.wd,g,m,u);Rf(a,g,h,c,e,t,m,f.$d());Lf(a,g);Mf(a,g);Uf(this.uf,c*a.size[0]/2,c*a.size[1]/2,c*p/d.e,c*p/d.e,d.rotation,(cd[0]-r[0])/p,(r[1]-cd[1])/p);return!0};function Wh(a,b){Wf.call(this,0,b);this.o=Ud();this.u=this.o.canvas;this.u.style.width="100%";this.u.style.height="100%";this.u.className="ol-unselectable";Nc(a,this.u,0);this.w=!0;this.T=yd()}D(Wh,Wf);Wh.prototype.Nd=function(a){return a instanceof Z?new Vh(this,a):null};
Wh.prototype.Sb=function(a,b){var c=this.sa(),d=this.o;if(c.ub(a)){var e=b.b,f=b.Ca,g=b.i,h=g.e,m=g.rotation;Uf(this.T,this.u.width/2,this.u.height/2,f/g.e,-f/g.e,-g.rotation,-g.center[0],-g.center[1]);g=new Jh(d,f,e,this.T,m);h=new Sh(0,e,h);c.dispatchEvent(new eh(a,c,g,0,b,d,null));h.finish();h.dc()||h.Zf(d,e,f,this.T,m,{});g.flush()}};Wh.prototype.be=function(){return"canvas"};
Wh.prototype.ze=function(a){if(null===a)this.w&&(nd(this.u,!1),this.w=!1);else{var b=this.o,c=a.size[0]*a.Ca,d=a.size[1]*a.Ca;this.u.width!=c||this.u.height!=d?(this.u.width=c,this.u.height=d):b.clearRect(0,0,this.u.width,this.u.height);Xf(a);this.Sb("precompose",a);var c=a.pe,d=a.i.e,e,f,g,h;e=0;for(f=c.length;e<f;++e)if(h=c[e],g=h.ad,g=Zf(this,g),h.visible&&d>=h.Ma&&d<h.Aa&&"ready"==h.hg&&g.we(a,h)){var m=a,n=h;h=b;g.Sb("precompose",h,m,void 0);var p=g.ra();if(null!==p){var q=g.uf,r=h.globalAlpha;
h.globalAlpha=n.opacity;if(0===m.i.rotation){var n=q[13],t=p.width*q[0],u=p.height*q[5];h.drawImage(p,0,0,+p.width,+p.height,Math.round(q[12]),Math.round(n),Math.round(t),Math.round(u))}else h.setTransform(q[0],q[1],q[4],q[5],q[12],q[13]),h.drawImage(p,0,0),h.setTransform(1,0,0,1,0,0);h.globalAlpha=r}g.Sb("postcompose",h,m,void 0)}this.Sb("postcompose",a);this.w||(nd(this.u,!0),this.w=!0);$f(this,a);a.lc.push(Yf)}};function Xh(a,b,c){Kf.call(this,a,b);this.target=c}D(Xh,Kf);Xh.prototype.ob=function(){return this.target};function Yh(a,b){var c=document.createElement("DIV");c.style.position="absolute";Xh.call(this,a,b,c);this.w=!0;this.Wf=1;this.Xf=0;this.ba={}}D(Yh,Xh);
Yh.prototype.we=function(a,b){if(!b.visible)return this.w&&(nd(this.target,!1),this.w=!1),!0;var c=a.Ca,d=a.i,e=d.projection,f=this.qe,g=f.uc,h=If(g,e),m=xf(h.qc,d.e,0),n=h.p(m),p=d.center,q;n==d.e?(p=Qf(p,n,a.size),q=cf(p,n,d.rotation,a.size)):q=a.b;s(b.b)&&(q=df(q,b.b));var n=Cf(h,q,n),r={};r[m]={};var t=B(g.bf,g,r,Of(function(a){return null!==a&&2==a.q()},g,c,e)),u=f.ce();s(u)||(u=!0);var y=[Infinity,Infinity,-Infinity,-Infinity],x=new We(0,0,0,0),G,C,z,E;for(z=n.k;z<=n.F;++z)for(E=n.v;E<=n.s;++E)G=
Pf(g,m,z,E,c,e),C=G.q(),2==C?r[m][Ve(G.n)]=G:4==C||3==C&&!u||(C=h.Vd(G.n,t,null,x,y),C||(G=h.ae(G.n,x,y),null===G||t(m+1,G)));var A;if(this.Xf!=g.Da){for(A in this.ba)u=this.ba[+A],Oc(u.target);this.ba={};this.Xf=g.Da}y=Ka(Za(r),Number);y.sort(Ta);var t={},J;z=0;for(E=y.length;z<E;++z){A=y[z];A in this.ba?u=this.ba[A]:(u=Ff(h,p,A),u=new Zh(h,u),t[A]=!0,this.ba[A]=u);A=r[A];for(J in A)$h(u,A[J]);ai(u)}J=Ka(Za(this.ba),Number);J.sort(Ta);E=yd();y=0;for(z=J.length;y<z;++y)if(A=J[y],u=this.ba[A],A in
r)if(C=u.p(),G=u.$b(),Uf(E,a.size[0]/2,a.size[1]/2,C/d.e,C/d.e,d.rotation,(G[0]-p[0])/C,(p[1]-G[1])/C),u.setTransform(E),A in t){for(--A;0<=A;--A)if(A in this.ba){Mc(u.target,this.ba[A].target);break}0>A&&Nc(this.target,u.target,0)}else a.G[0]||a.G[1]||bi(u,q,x);else Oc(u.target),delete this.ba[A];b.opacity!=this.Wf&&(md(this.target,b.opacity),this.Wf=b.opacity);b.visible&&!this.w&&(nd(this.target,!0),this.w=!0);Nf(a.wd,g,m,n);Rf(a,g,h,c,e,q,m,f.$d());Lf(a,g);Mf(a,g);return!0};
function Zh(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.ng=a;this.Fe=b;this.gd=bf(Af(a,b));this.ag=a.p(b[0]);this.zc={};this.mb=null;var c=Array(16);zd(c,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.T=c}
function $h(a,b){var c=b.n,d=c[0],e=c[1],f=c[2],c=Ve(c);if(!(c in a.zc)){var d=Ef(a.ng,d),g=b.ra(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.Fe[1])*d+"px";h.top=(a.Fe[2]-f)*d+"px";null===a.mb&&(a.mb=document.createDocumentFragment());a.mb.appendChild(g);a.zc[c]=b}}function ai(a){null!==a.mb&&(a.target.appendChild(a.mb),a.mb=null)}Zh.prototype.$b=function(){return this.gd};Zh.prototype.p=function(){return this.ag};
function bi(a,b,c){var d=Bf(a.ng,b,a.Fe[0],c);b=[];for(var e in a.zc)c=a.zc[e],d.contains(c.n)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=Ve(c.n),Oc(c.ra(a)),delete a.zc[e]}
Zh.prototype.setTransform=function(a){var b=this.T;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(Wd()){if(s(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");Xd(b,"matrix3d("+c+")")}else if(Vd()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(s(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Xd(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.T;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function ci(a,b){Wf.call(this,0,b);this.Ab=document.createElement("DIV");this.Ab.className="ol-unselectable";var c=this.Ab.style;c.position="absolute";c.width="100%";c.height="100%";Nc(a,this.Ab,0);this.w=!0}D(ci,Wf);ci.prototype.Nd=function(a){if(a instanceof Z)a=new Yh(this,a);else return null;return a};ci.prototype.be=function(){return"dom"};
ci.prototype.ze=function(a){if(null===a)this.w&&(nd(this.Ab,!1),this.w=!1);else{var b;b=function(a,b){Nc(this.Ab,a,b)};var c=a.pe,d,e,f,g;d=0;for(e=c.length;d<e;++d)g=c[d],f=g.ad,f=Zf(this,f),b.call(this,f.ob(),d),"ready"==g.hg&&f.we(a,g);b=a.oe;for(var h in this.ma)h in b||(f=this.ma[h],Oc(f.ob()));this.w||(nd(this.Ab,!0),this.w=!0);Xf(a);$f(this,a);a.lc.push(Yf)}};function di(){this.K=0;this.Vb={};this.W=this.$=null}k=di.prototype;k.clear=function(){this.K=0;this.Vb={};this.W=this.$=null};k.Kd=function(a){return this.Vb.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.$;null!==c;)a.call(b,c.Jb,c.le,this),c=c.Z};k.get=function(a){a=this.Vb[a];if(a===this.W)return a.Jb;a===this.$?(this.$=this.$.Z,this.$.Na=null):(a.Z.Na=a.Na,a.Na.Z=a.Z);a.Z=null;a.Na=this.W;this.W=this.W.Z=a;return a.Jb};k.Nc=function(){return this.K};
k.Ya=function(){var a=Array(this.K),b=0,c;for(c=this.W;null!==c;c=c.Na)a[b++]=c.le;return a};k.ac=function(){var a=Array(this.K),b=0,c;for(c=this.W;null!==c;c=c.Na)a[b++]=c.Jb;return a};k.pop=function(){var a=this.$;delete this.Vb[a.le];null!==a.Z&&(a.Z.Na=null);this.$=a.Z;null===this.$&&(this.W=null);--this.K;return a.Jb};k.set=function(a,b){var c={le:a,Z:null,Na:this.W,Jb:b};null===this.W?this.$=c:this.W.Z=c;this.W=c;this.Vb[a]=c;++this.K};var ei=["canvas","webgl","dom"];
function $(a){V.call(this);var b=fi(a);this.Db=s(a.Ca)?a.Ca:Yd;this.Th=b.Bb;this.Dd=new uc(this.Hi,void 0,this);Nb(this,this.Dd);this.Jg=yd();this.yi=yd();this.Yg=0;this.gc=this.xd=this.xe=this.Xa=null;this.t=S("DIV","ol-viewport");this.t.style.position="relative";this.t.style.overflow="hidden";this.t.style.width="100%";this.t.style.height="100%";this.t.style.msTouchAction="none";ae&&(this.t.className="ol-touch");this.ti=S("DIV","ol-overlaycontainer");this.t.appendChild(this.ti);this.se=S("DIV","ol-overlaycontainer-stopevent");
O(this.se,["click","dblclick","mousedown","touchstart","MSPointerDown",Qe,yb?"DOMMouseScroll":"mousewheel"],Sb);this.t.appendChild(this.se);a=new Ie(this);O(a,Ya(Te),this.ta,!1,this);Nb(this,a);this.zf=b.ec;this.Wc=new Xc;O(this.Wc,"key",this.nf,!1,this);Nb(this,this.Wc);a=new sd(this.t);O(a,"mousewheel",this.nf,!1,this);Nb(this,a);this.Ld=b.controls;this.Lg=b.Pd;this.cc=b.xb;this.te=b.kc;this.Yf=new b.Ii(this.t,this);Nb(this,this.Yf);this.wg=new Sc;Nb(this,this.wg);O(this.wg,"resize",this.tg,!1,
this);this.Ud=null;this.md=[];this.Rf=[];this.og=new cg(B(this.bh,this),B(this.Ah,this));this.$i={};O(this,Gd("layergroup"),this.jh,!1,this);O(this,Gd("view"),this.Ch,!1,this);O(this,Gd("size"),this.wh,!1,this);O(this,Gd("target"),this.yh,!1,this);this.sc(b.qj);this.Ld.forEach(function(a){a.setMap(this)},this);O(this.Ld,"add",function(a){a.element.setMap(this)},!1,this);O(this.Ld,"remove",function(a){a.element.setMap(null)},!1,this);this.cc.forEach(function(a){a.setMap(this)},this);O(this.cc,"add",
function(a){a.element.setMap(this)},!1,this);O(this.cc,"remove",function(a){a.element.setMap(null)},!1,this);this.te.forEach(function(a){a.setMap(this)},this);O(this.te,"add",function(a){a.element.setMap(this)},!1,this);O(this.te,"remove",function(a){a.element.setMap(null)},!1,this)}D($,V);$.prototype.ea=function(a){Y(this);Array.prototype.push.apply(this.md,arguments)};$.prototype.g=function(){Oc(this.t);$.J.g.call(this)};$.prototype.ob=function(){return this.get("target")};
$.prototype.getTarget=$.prototype.ob;$.prototype.Yb=function(a){var b=this.Xa;if(null===b)return null;a=a.slice();return Vf(b.Qf,a,a)};$.prototype.Pc=function(){return this.get("layergroup")};$.prototype.getLayerGroup=$.prototype.Pc;$.prototype.Zb=function(){var a=this.Pc();if(s(a))return a.Zb()};$.prototype.ka=function(){return this.get("size")};$.prototype.getSize=$.prototype.ka;$.prototype.h=function(){return this.get("view")};$.prototype.getView=$.prototype.h;k=$.prototype;
k.bh=function(a,b,c,d){var e=this.Xa;if(!(null!==e&&b in e.Lb&&e.Lb[b][Ve(a.n)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.nf=function(a,b){var c=new Ge(b||a.type,this,a);this.ta(c)};k.ta=function(a){if(null!==this.Xa){this.Ud=a.coordinate;a.frameState=this.Xa;var b=this.cc.da,c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c&&b[c].ta(a);c--);}};
k.th=function(){var a=this.Xa,b=this.og;if(!b.dc()){var c=16,d=c,e=0;if(null!==a){var e=a.G,f=this.Lg;e[0]&&(c=!1===f.jk?0:8,d=2);e[1]&&(c=!1===f.kk?0:8,d=2);e=Xa(a.Lb)}c*=e;d*=e;if(b.yc<c){var e=b.Sf,f=b.ha,g=b.Fb,h=0,m=f.length,n,p,q;for(p=0;p<m;++p)n=f[p],q=e(n),Infinity==q?delete b.mc[b.ke(n)]:(g[h]=q,f[h++]=n);f.length=h;g.length=h;for(e=(b.ha.length>>1)-1;0<=e;e--)bg(b,e);c=Math.min(c-b.yc,d,b.Nc());for(d=0;d<c;++d)e=b,g=e.ha,h=e.Fb,f=g[0],1==g.length?(g.length=0,h.length=0):(g[0]=g.pop(),h[0]=
h.pop(),bg(e,0)),g=e.ke(f),delete e.mc[g],e=f[0],oc(e,"change",b.zh,!1,b),e.load();b.yc+=c}}b=this.Rf;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.wh=function(){Y(this)};k.yh=function(){var a=this.ob(),a=s(a)?Fc(a):null;this.Wc.detach();null===a?Oc(this.t):(a.appendChild(this.t),Yc(this.Wc,null===this.zf?a:this.zf));this.tg()};k.Ah=function(){Y(this)};k.Dh=function(){Y(this)};
k.Ch=function(){null!==this.xd&&(Q(this.xd),this.xd=null);var a=this.h();null!=a&&(this.xd=O(a,"propertychange",this.Dh,!1,this));Y(this)};k.kh=function(){Y(this)};k.lh=function(){Y(this)};k.jh=function(){if(null!==this.gc){for(var a=this.gc.length,b=0;b<a;++b)Q(this.gc[b]);this.gc=null}a=this.Pc();null!=a&&(this.gc=[O(a,"propertychange",this.lh,!1,this),O(a,"change",this.kh,!1,this)]);Y(this)};
k.ie=function(){if(!Pc(document,this.t)||"none"==this.t.style.display)return!1;var a=this.ka();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.h();return s(a)&&a.ie()?!0:!1};function Y(a){a.Dd.he()||a.Dd.start()}
k.Hi=function(a){var b,c,d,e=this.ka(),f=this.h(),g=null;if(s(e)&&0<e[0]&&0<e[1]&&s(f)&&f.ie()){var g=Oa(f.ee),h=this.Pc().Yd(),m={};b=0;for(c=h.length;b<c;++b)m[w(h[b].ad)]=h[b];d=f.q();g={Ra:!1,Ta:{},Ve:this.Jg,b:null,focus:null===this.Ud?d.center:this.Ud,index:this.Yg++,oe:m,pe:h,Bb:this.Th,Ca:this.Db,Qf:this.yi,lc:[],size:e,nk:this.$i,jj:this.og,time:a,wd:{},i:d,G:g,Lb:{}}}a=this.md;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;null!==g&&(g.b=cf(d.center,d.e,d.rotation,
g.size));this.Xa=g;this.Yf.ze(g);null!==g&&(g.Ra&&Y(this),Array.prototype.push.apply(this.Rf,g.lc),!(b=0!==this.md.length||g.G[0]||g.G[1])&&(b=this.xe)&&(b=g.b,c=this.xe,b=b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]),b||(this.dispatchEvent(new Od("moveend",this,g)),this.xe=s(void 0)?void 0:g.b.slice()));this.dispatchEvent(new Od("postrender",this,g));b=g=this.th;this&&(b=B(g,this));!ha(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==l.setImmediate?(xc||(xc=yc()),xc(b)):l.setImmediate(b)};
k.Oi=function(a){this.set("layergroup",a)};$.prototype.setLayerGroup=$.prototype.Oi;$.prototype.Ce=function(a){this.set("size",a)};$.prototype.setSize=$.prototype.Ce;$.prototype.Ui=function(a){this.set("target",a)};$.prototype.setTarget=$.prototype.Ui;$.prototype.Xi=function(a){this.set("view",a)};$.prototype.setView=$.prototype.Xi;
$.prototype.tg=function(){var a=this.ob(),a=s(a)?Fc(a):null;if(null===a)this.Ce(void 0);else{var b=Ec(a),c=K&&a.currentStyle,d;if(d=c)b=Cc(b),d=Jc(b.Ub);if(d&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)b=od(a,c.width,"width","pixelWidth"),a=od(a,c.height,"height","pixelHeight"),a=new Bc(b,a);else{c=new Bc(a.offsetWidth,a.offsetHeight);if(K){b=pd(a,"paddingLeft");d=pd(a,"paddingRight");var e=pd(a,"paddingTop"),f=pd(a,"paddingBottom"),b=new fd(e,d,f,b)}else b=gd(a,"paddingLeft"),d=gd(a,"paddingRight"),
e=gd(a,"paddingTop"),f=gd(a,"paddingBottom"),b=new fd(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!K||K&&9<=Gb?(d=gd(a,"borderLeftWidth"),e=gd(a,"borderRightWidth"),f=gd(a,"borderTopWidth"),a=gd(a,"borderBottomWidth"),a=new fd(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=rd(a,"borderLeft"),e=rd(a,"borderRight"),f=rd(a,"borderTop"),a=rd(a,"borderBottom"),a=new fd(f,e,a,d));a=new Bc(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.Ce([a.width,
a.height])}};
function fi(a){var b=null;s(a.ec)&&(b=v(a.ec)?document.getElementById(a.ec):a.ec);var c={},d={};if(!s(a.za)||"boolean"==typeof a.za&&a.za)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var e=a.za;v(e)?d[e]="":ia(e)&&(d[e.src]=e.href)}e=a.zb instanceof yh?a.zb:new yh({zb:a.zb});c.layergroup=e;c.target=a.target;c.view=s(a.view)?a.view:new X;var e=Wf,f;s(a.nc)?ea(a.nc)?f=a.nc:v(a.nc)&&(f=[a.nc]):f=ei;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if($d){e=Wh;break}}else if("dom"==m){e=ci;break}}s(a.controls)?f=ea(a.controls)?new Id(Oa(a.controls)):a.controls:(f=s(void 0)?void 0:{},g=new Id,(s(f.zoom)?f.zoom:1)&&g.push(new Eg(f.pk)),(s(f.rotate)?f.rotate:1)&&g.push(new Cg(f.mk)),
(s(f.attribution)?f.attribution:1)&&g.push(new ug(f.Uj)),f=g);g=s(a.Pd)?a.Pd:{};h=s(a.xb)?ea(a.xb)?new Id(Oa(a.xb)):a.xb:xh();a=s(a.kc)?ea(a.kc)?new Id(Oa(a.kc)):a.kc:new Id;return{controls:f,Pd:g,xb:h,ec:b,Bb:d,kc:a,Ii:e,qj:c}}lf(Dh);lf(Ih);H(Ih,function(a){H(Dh,function(b){nf(a,b,Eh);nf(b,a,Fh)})});function gi(a,b,c,d,e){wf.call(this,a,b);this.ig=c;this.r=new Image;null!==d&&(this.r.crossOrigin=d);this.Sc={};this.bc=null;this.hj=e}D(gi,wf);k=gi.prototype;k.ra=function(a){if(s(a)){var b=w(a);if(b in this.Sc)return this.Sc[b];a=ab(this.Sc)?this.r:this.r.cloneNode(!1);return this.Sc[b]=a}return this.r};k.getKey=function(){return this.ig};k.fh=function(){this.state=3;H(this.bc,Q);this.bc=null;this.V()};
k.gh=function(){s(this.r.naturalWidth)||(this.r.naturalWidth=this.r.width,this.r.naturalHeight=this.r.height);this.state=this.r.naturalWidth&&this.r.naturalHeight?2:4;H(this.bc,Q);this.bc=null;this.V()};k.load=function(){0==this.state&&(this.state=1,this.bc=[oc(this.r,"error",this.fh,!1,this),oc(this.r,"load",this.gh,!1,this)],this.hj(this,this.ig))};function hi(a){di.call(this);this.Fh=s(a)?a:2048}D(hi,di);hi.prototype.Nb=function(){return this.Nc()>this.Fh};hi.prototype.Td=function(a){for(var b,c;this.Nb()&&!(b=this.$.Jb,c=b.n[0].toString(),c in a&&a[c].contains(b.n));)this.pop().Jc()};function ii(){};function ji(a){Hf.call(this,{Ta:a.Ta,b:a.b,za:a.za,re:a.re,projection:a.projection,state:s(a.state)?a.state:void 0,ib:a.ib,Ge:a.Ge});this.td=s(a.td)?a.td:ii;this.crossOrigin=s(a.crossOrigin)?a.crossOrigin:null;this.Oa=new hi;this.sd=s(a.sd)?a.sd:ki;this.Ee=s(a.Ee)?a.Ee:gi}D(ji,Hf);function ki(a,b){a.ra().src=b}ji.prototype.Nb=function(){return this.Oa.Nb()};ji.prototype.Td=function(a){this.Oa.Td(a)};
function Pf(a,b,c,d,e,f){var g=a.Xd(b,c,d);if(a.Oa.Kd(g))return a.Oa.get(g);b=[b,c,d];e=a.td(b,e,f);e=new a.Ee(b,s(e)?0:4,s(e)?e:"",a.crossOrigin,a.sd);a.Oa.set(g,e);return e}function li(a,b){a.Oa.clear();a.sd=b;a.V()}ji.prototype.ug=function(a,b,c){a=this.Xd(a,b,c);this.Oa.Kd(a)&&this.Oa.get(a)};function mi(a){var b=s(a.b)?a.b:Ah,c=Gf(b,a.Cb,a.Pa);yf.call(this,{Ba:a.Ba,origin:af(b,"top-left"),hb:c,Pa:a.Pa})}D(mi,yf);mi.prototype.ae=function(a,b){return a[0]<this.Cb?Xe(2*a[1],2*(a[1]+1),2*a[2],2*(a[2]+1),b):null};mi.prototype.Vd=function(a,b,c,d){d=Xe(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.Ba;--a)if(d.k=d.F>>=1,d.v=d.s>>=1,b.call(c,a,d))return!0;return!1};function ni(){}ni.prototype.Pe=null;function oi(a){return a.Pe||(a.Pe=a.yf())};var pi;function qi(){}D(qi,ni);qi.prototype.Md=function(){var a=ri(this);return a?new ActiveXObject(a):new XMLHttpRequest};qi.prototype.yf=function(){var a={};ri(this)&&(a[0]=!0,a[1]=!0);return a};
function ri(a){if(!a.qf&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.qf=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.qf}pi=new qi;function si(){}D(si,ni);si.prototype.Md=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new ti;throw Error("Unsupported browser");};si.prototype.yf=function(){return{}};
function ti(){this.ca=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.ca.onload=B(this.ph,this);this.ca.onerror=B(this.of,this);this.ca.onprogress=B(this.uh,this);this.ca.ontimeout=B(this.Bh,this)}k=ti.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.ca.open(a,b)};
k.send=function(a){if(a)if("string"==typeof a)this.ca.send(a);else throw Error("Only string data is supported");else this.ca.send()};k.abort=function(){this.ca.abort()};k.setRequestHeader=function(){};k.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.ca.contentType:""};k.ph=function(){this.status=200;this.responseText=this.ca.responseText;ui(this,4)};k.of=function(){this.status=500;this.responseText=null;ui(this,4)};k.Bh=function(){this.of()};
k.uh=function(){this.status=200;ui(this,1)};function ui(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}k.getAllResponseHeaders=function(){return"content-type: "+this.ca.contentType};function vi(a,b,c){if(ha(a))c&&(a=B(a,c));else if(a&&"function"==typeof a.handleEvent)a=B(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function wi(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function xi(a){U.call(this);this.headers=new nb;this.zd=a||null;this.Fa=!1;this.yd=this.c=null;this.$c=this.ne="";this.Za=this.ge=this.Uc=this.Sd=!1;this.ud=0;this.Qa=null;this.bg=yi;this.Ke=this.tj=!1}D(xi,U);var yi="",zi=/^https?$/i,Ai=["POST","PUT"];k=xi.prototype;
k.send=function(a,b,c,d){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.ne+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.ne=a;this.$c="";this.Sd=!1;this.Fa=!0;this.c=this.zd?this.zd.Md():pi.Md();this.yd=this.zd?oi(this.zd):oi(pi);this.c.onreadystatechange=B(this.Mf,this);try{this.ge=!0,this.c.open(b,String(a),!0),this.ge=!1}catch(e){Bi(this,e);return}a=c||"";var f=this.headers.clone();d&&gb(d,function(a,b){f.set(b,a)});d=La(f.Ya());c=l.FormData&&a instanceof
l.FormData;!(0<=Ia(Ai,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.c.setRequestHeader(b,a)},this);this.bg&&(this.c.responseType=this.bg);"withCredentials"in this.c&&(this.c.withCredentials=this.tj);try{Ci(this),0<this.ud&&((this.Ke=Di(this.c))?(this.c.timeout=this.ud,this.c.ontimeout=B(this.qg,this)):this.Qa=vi(this.qg,this.ud,this)),this.Uc=!0,this.c.send(a),this.Uc=!1}catch(g){Bi(this,g)}};
function Di(a){return K&&M(9)&&ga(a.timeout)&&s(a.ontimeout)}function Ma(a){return"content-type"==a.toLowerCase()}k.qg=function(){"undefined"!=typeof ba&&this.c&&(this.$c="Timed out after "+this.ud+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};function Bi(a,b){a.Fa=!1;a.c&&(a.Za=!0,a.c.abort(),a.Za=!1);a.$c=b;Ei(a);Fi(a)}function Ei(a){a.Sd||(a.Sd=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(){this.c&&this.Fa&&(this.Fa=!1,this.Za=!0,this.c.abort(),this.Za=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fi(this))};k.g=function(){this.c&&(this.Fa&&(this.Fa=!1,this.Za=!0,this.c.abort(),this.Za=!1),Fi(this,!0));xi.J.g.call(this)};k.Mf=function(){this.Tb||(this.ge||this.Uc||this.Za?Gi(this):this.pi())};k.pi=function(){Gi(this)};
function Gi(a){if(a.Fa&&"undefined"!=typeof ba&&(!a.yd[1]||4!=Hi(a)||2!=Ii(a)))if(a.Uc&&4==Hi(a))vi(a.Mf,0,a);else if(a.dispatchEvent("readystatechange"),4==Hi(a)){a.Fa=!1;try{if(Ji(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<Hi(a)?a.c.statusText:""}catch(c){b=""}a.$c=b+" ["+Ii(a)+"]";Ei(a)}}finally{Fi(a)}}}function Fi(a,b){if(a.c){Ci(a);var c=a.c,d=a.yd[0]?ca:null;a.c=null;a.yd=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Ci(a){a.c&&a.Ke&&(a.c.ontimeout=null);ga(a.Qa)&&(l.clearTimeout(a.Qa),a.Qa=null)}k.he=function(){return!!this.c};function Ji(a){var b=Ii(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Jb(1,String(a.ne)),!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!zi.test(a?a.toLowerCase():"");c=b}return c}function Hi(a){return a.c?a.c.readyState:0}
function Ii(a){try{return 2<Hi(a)?a.c.status:-1}catch(b){return-1}}k.getResponseHeader=function(a){return this.c&&4==Hi(this)?this.c.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.c&&4==Hi(this)?this.c.getAllResponseHeaders():""};function Ki(a){yf.call(this,a)}D(Ki,mi);function Li(a){for(var b=a.Gg,c=a.Xg||"jpg",d=a.lk||"native",e=a.width,f=a.height,g=a.Pa||256,h=Math.max(Math.ceil(Math.log(e/g)/Math.LN2),Math.ceil(Math.log(f/g)/Math.LN2)),m=[],n=0;n<=h;n++){var p=Math.pow(2,h-n),q=Math.ceil(e/p),p=Math.ceil(f/p),q=Math.ceil(q/g),p=Math.ceil(p/g);m.push([q,p])}ji.call(this,{ib:new Ki({hb:a.hb.reverse(),origin:[0,0],Pa:g}),td:function(a){var n=a[0];if(!(h<n)){var p=m[n];if(p){var q=a[1];a=-a[2]-1;if(!(0>q||p[0]<=q||0>a||p[1]<=a)){n=Math.pow(2,h-n);p=g*n;q*=p;a*=
p;var x=Math.min(q+p,e),p=Math.min(a+p,f);return b+("/"+q+","+a+","+(x-q)+","+(p-a)+"/pct:"+100/n+"/0/"+d+"."+c)}}}},crossOrigin:a.crossOrigin});$d&&li(this,function(a,b){var c=a.ra();oc(c,"load",function(){if(0<c.naturalWidth&&(c.naturalWidth!=g||c.naturalHeight!=g)){var b=document.createElement("CANVAS");b.width=g;b.height=g;b.getContext("2d").drawImage(c,0,0);var d=$a(a,function(a){return a==c});d&&(a[d]=b)}},!0);c.src=b})}D(Li,ji);function Mi(a,b,c,d,e){a=Fc(a);if(!a)throw Error("Invalid element");this.Vh=a;this.a=null;this.vg=1==d;this.ue=e||null;this.wf=c||null;this.eh=v(b)?b.substring(0,b.lastIndexOf("/")):null;Ni(this,b)}Mi.prototype.sa=function(){return this.a};
function Oi(a,b){var c=b.width,d=b.height,e=b["@id"];if(!e){var f=b.image_host,g=b.identifier;f&&g&&(e=f+g)}e||(e=a.eh);if(!e)throw Error("Unable to determine base url");g=(b.tiles||[{}])[0];f=new hf({code:"IIIF",units:"pixels",b:[0,-d,c,0]});e=new Li({Gg:e,width:c,height:d,hb:b.scale_factors||g.scaleFactors,Xg:(b.formats||[])[0],Pa:b.tile_width||g.width||void 0,projection:f,crossOrigin:a.vg?"":"anonymous"});e=new Z({source:e});a.a=new $({zb:[e],target:a.Vh,nc:a.vg?"webgl":void 0,view:new X({projection:f,
b:[0,-d,c,0]}),xb:xh({Jf:null==a.ue}),controls:[],za:!1});a.ue&&a.a.cc.push(a.ue);c=a.a.h();d=f.M();f=a.a.ka()||null;d[2]<d[0]||d[3]<d[1]||(c.Ea($e(d)),d=Math.max((d[2]-d[0])/f[0],(d[3]-d[1])/f[1]),f=mg(c,d,0,0),f<d&&(f=mg(c,f,-1,0)),c.tc(f));a.wf&&a.wf(a)}function Ni(a,b){if(v(b)){var c=new xi(new si);O(c,"complete",function(){if(Ji(c)){var a;a=c.c?wi(c.c.responseText):void 0;Ni(this,a)}},!1,a);c.send(b)}else Oi(a,b)};function Pi(a,b){var c={Oj:[1189,841],Pj:[841,594],Qj:[594,420],Rj:[420,297],Sj:[297,210],Tj:[210,148]};"auto"!==a&&null!=a?c=ea(a)||null==c[a.toLowerCase()]?ea(a)&&null!=a[0]&&null!=a[1]?a:[297,210]:c[a.toLowerCase()]:(c=(new Sc).ka(),c=c.width>c.height?[c.width,c.height]:[c.height,c.width]);this.ya=c;c=b;"auto"!==c&&null!=c?c.indexOf(["l","p","landscape","portrait"])||(c="l"):(c=(new Sc).ka(),c=c.width>c.height?"l":"p");this.ic=c.substring(0,1);this.dj=20;this.ga=new jsPDF(this.ic,"mm",this.ya)}
k=Pi.prototype;k.Cg=function(a,b,c,d,e){null!==c&&this.ga.setTextColor(c[0],c[1],c[2]);null===b&&(b=this.dj);this.ga.setFontSize(b);b=Qi(this,d,e);this.ga.text(a,b[0],b[1]);this.ga.setTextColor(0,0,0)};k.zg=function(a,b,c,d,e){b=Qi(this,b,c);this.ga.addImage(a,"JPEG",b[0],b[1],d,e)};
k.Ag=function(a,b,c){var d=document;a=(ia(a)&&1==a.nodeType?a:Fc(a))||d;a=a.querySelectorAll&&a.querySelector?a.querySelectorAll("CANVAS"):a.getElementsByTagName("CANVAS");a=a[0];d=a.getContext("2d");d.getImageData(0,0,a.width,a.height);d.globalCompositeOperation="destination-over";d.fillStyle="#ffffff";d.fillRect(0,0,a.width,a.height);var d=a.toDataURL("image/jpeg"),e,f,g;a.width>a.height?(e=0<this.ic.indexOf(["l","landscape"])?this.ya[1]:this.ya[0],g=a.width/e,f=a.height/g):(f=0<this.ic.indexOf(["p",
"portrait"])?this.ya[1]:this.ya[0],g=a.height/f,e=a.width/g);b=null!=b?b:0;b=Qi(this,b,null!=c?b:0);this.ga.addImage(d,"JPEG",b[0],b[1],e,f)};k.save=function(a){a=null!=a?".pdf"===a.slice(-4)?a:a+".pdf":"doc";this.ga.save(a)};k.Bg=function(a,b,c,d,e){this.ga.setFillColor(e[0],e[1],e[2]);a=Qi(this,a,b);this.ga.rect(a[0],a[1],c,d,"F");this.ga.setFillColor(0,0,0)};function Qi(a,b,c){0>b&&(b="l"===a.ic?b+a.ya[0]:b+a.ya[1]);0>c&&(c="l"===a.ic?c+a.ya[1]:c+a.ya[0]);return[b,c]};function Ri(){Jg.call(this);this.j=0;this.wa=null;this.Hd=!1;this.Vc=null}D(Ri,Jg);Ri.prototype.setMap=function(a){Ri.J.setMap.call(this,a);a&&(a=a.h(),O(a,Gd("center"),function(){this.Hd||(this.wa=null)},!1,this))};Ri.prototype.ta=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.A;this.wa=a.coordinate;var d=c.deltaY/12;this.j=0<this.j==0<c.deltaY?this.j+d:d;this.j=mb(this.j,-1.5,1.5);null==this.Vc&&(this.Vc=l.setInterval(B(this.Qd,this,b),125));a.preventDefault();b=!0}return!b};
Ri.prototype.Qd=function(a){var b=a.h(),c=b.q(),d=c.e,c=c.center;s(d)&&s(c)&&(a.ea(Bg({e:d,duration:125,L:yg})),this.wa&&a.ea(zg({source:c,duration:125,L:yg})));mb(this.j,-1,1);a=Math.pow(2,this.j)*d;a=mb(a,b.Zh,b.Hf);this.wa&&(d=ng(b,a,this.wa),this.Hd=!0,b.Ea(d),this.Hd=!1);b.tc(a);this.j/=2;.01>Math.abs(this.j)&&(this.j=0,l.clearInterval(this.Vc),this.Vc=null)};function Si(a,b,c){Mi.call(this,a,b,c,void 0,new Ri)}D(Si,Mi);pa("IiifViewer",Si);function Ti(a,b){Pi.call(this,a,b)}D(Ti,Pi);pa("IiifPrint",Ti);pa("IiifPrint.prototype.addText",Pi.prototype.Cg);pa("IiifPrint.prototype.addBase64Image",Pi.prototype.zg);pa("IiifPrint.prototype.addDocument",Pi.prototype.Ag);pa("IiifPrint.prototype.addRectangle",Pi.prototype.Bg);pa("IiifPrint.prototype.save",Pi.prototype.save);
